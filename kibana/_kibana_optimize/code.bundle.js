/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
var __kbnBundles__=typeof __kbnBundles__==="object"?__kbnBundles__:{};__kbnBundles__["code"]=function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={3:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([4252,0]);return checkDeferredModules()}({1588:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.APP_TITLE="Code (Beta)"},1589:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadCommit=redux_actions_1.createAction("LOAD COMMIT");exports.loadCommitSuccess=redux_actions_1.createAction("LOAD COMMIT SUCCESS");exports.loadCommitFailed=redux_actions_1.createAction("LOAD COMMIT FAILED")},1590:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadStatus=redux_actions_1.createAction("LOAD STATUS");exports.loadStatusSuccess=redux_actions_1.createAction("LOAD STATUS SUCCESS");exports.loadStatusFailed=redux_actions_1.createAction("LOAD STATUS FAILED");exports.loadRepo=redux_actions_1.createAction("LOAD REPO");exports.loadRepoSuccess=redux_actions_1.createAction("LOAD REPO SUCCESS");exports.loadRepoFailed=redux_actions_1.createAction("LOAD REPO FAILED");exports.updateCloneProgress=redux_actions_1.createAction("UPDATE CLONE PROGRESS");exports.updateIndexProgress=redux_actions_1.createAction("UPDATE INDEX PROGRESS");exports.updateDeleteProgress=redux_actions_1.createAction("UPDATE DELETE PROGRESS");exports.pollRepoCloneStatusStart=redux_actions_1.createAction("POLL CLONE STATUS START");exports.pollRepoIndexStatusStart=redux_actions_1.createAction("POLL INDEX STATUS START");exports.pollRepoDeleteStatusStart=redux_actions_1.createAction("POLL DELETE STATUS START");exports.pollRepoCloneStatusStop=redux_actions_1.createAction("POLL CLONE STATUS STOP");exports.pollRepoIndexStatusStop=redux_actions_1.createAction("POLL INDEX STATUS STOP");exports.pollRepoDeleteStatusStop=redux_actions_1.createAction("POLL DELETE STATUS STOP")},1591:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var actions_1=__webpack_require__(40);var OS;(function(OS){OS[OS["win"]=0]="win";OS[OS["mac"]=1]="mac";OS[OS["linux"]=2]="linux"})(OS=exports.OS||(exports.OS={}));var Modifier;(function(Modifier){Modifier[Modifier["ctrl"]=0]="ctrl";Modifier[Modifier["meta"]=1]="meta";Modifier[Modifier["alt"]=2]="alt";Modifier[Modifier["shift"]=3]="shift"})(Modifier=exports.Modifier||(exports.Modifier={}));var ShortcutsComponent=function(_react_1$default$Comp){_inherits(ShortcutsComponent,_react_1$default$Comp);function ShortcutsComponent(props,context){var _this;_classCallCheck(this,ShortcutsComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShortcutsComponent).call(this,props,context));_this.hotKey={key:props.keyCode,help:props.help,onPress:props.onPress,modifier:new Map};if(props.winModifier){_this.hotKey.modifier.set(OS.win,props.winModifier)}if(props.macModifier){_this.hotKey.modifier.set(OS.mac,props.macModifier)}if(props.linuxModifier){_this.hotKey.modifier.set(OS.linux,props.linuxModifier)}return _this}_createClass(ShortcutsComponent,[{key:"componentDidMount",value:function componentDidMount(){this.props.registerShortcut(this.hotKey)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.unregisterShortcut(this.hotKey)}},{key:"render",value:function render(){return null}}]);return ShortcutsComponent}(react_1.default.Component);var mapDispatchToProps={registerShortcut:actions_1.registerShortcut,unregisterShortcut:actions_1.unregisterShortcut};exports.Shortcut=react_redux_1.connect(null,mapDispatchToProps)(ShortcutsComponent)},1592:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);tslib_1.__exportStar(__webpack_require__(4269),exports);tslib_1.__exportStar(__webpack_require__(599),exports)},1593:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var LanguageServerStatus;(function(LanguageServerStatus){LanguageServerStatus[LanguageServerStatus["NOT_INSTALLED"]=0]="NOT_INSTALLED";LanguageServerStatus[LanguageServerStatus["INSTALLING"]=1]="INSTALLING";LanguageServerStatus[LanguageServerStatus["READY"]=2]="READY";LanguageServerStatus[LanguageServerStatus["RUNNING"]=3]="RUNNING"})(LanguageServerStatus=exports.LanguageServerStatus||(exports.LanguageServerStatus={}))},1594:function(module,exports,__webpack_require__){"use strict";var _stateColor;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(16));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var status_1=__webpack_require__(1595);var stateColor=(_stateColor={},_defineProperty(_stateColor,status_1.RepoState.CLONING,"secondary"),_defineProperty(_stateColor,status_1.RepoState.DELETING,"accent"),_defineProperty(_stateColor,status_1.RepoState.INDEXING,"primary"),_stateColor);var CodeProjectItem=function(_react_1$default$Pure){_inherits(CodeProjectItem,_react_1$default$Pure);function CodeProjectItem(){var _this;_classCallCheck(this,CodeProjectItem);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeProjectItem).apply(this,arguments));_this.state={showDeleteConfirmModal:false,showReindexConfirmModal:false};_this.openReindexModal=function(){_this.setState({showReindexConfirmModal:true})};_this.closeReindexModal=function(){_this.setState({showReindexConfirmModal:false})};_this.openDeleteModal=function(){_this.setState({showDeleteConfirmModal:true})};_this.closeDeleteModal=function(){_this.setState({showDeleteConfirmModal:false})};_this.confirmDelete=function(){if(_this.props.deleteRepo){_this.props.deleteRepo(_this.props.project.uri);_this.closeDeleteModal()}};_this.confirmReindex=function(){if(_this.props.indexRepo){_this.props.indexRepo(_this.props.project.uri);_this.closeReindexModal()}};_this.renderReindexConfirmModal=function(){return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiConfirmModal,{title:"Reindex this repository?",onCancel:_this.closeReindexModal,onConfirm:_this.confirmReindex,cancelButtonText:"No, don't do it",confirmButtonText:"Yes, do it",defaultFocusedButton:eui_1.EUI_MODAL_CONFIRM_BUTTON}))};_this.renderDeleteConfirmModal=function(){return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiConfirmModal,{title:"Delete this repository?",onCancel:_this.closeDeleteModal,onConfirm:_this.confirmDelete,cancelButtonText:"No, don't do it",confirmButtonText:"Yes, do it",buttonColor:"danger",defaultFocusedButton:eui_1.EUI_MODAL_CONFIRM_BUTTON}))};return _this}_createClass(CodeProjectItem,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,project=_this$props.project,showStatus=_this$props.showStatus,status=_this$props.status,enableManagement=_this$props.enableManagement;var name=project.name,org=project.org,uri=project.uri,url=project.url;var onClickSettings=function onClickSettings(){return _this2.props.openSettings&&_this2.props.openSettings(uri,url)};var footer=null;var disableRepoLink=false;var hasError=false;if(!status){footer=react_1.default.createElement("div",{className:"codeFooter"},"INIT...")}else if(status.state===status_1.RepoState.READY){footer=react_1.default.createElement("div",{className:"codeFooter","data-test-subj":"repositoryIndexDone"},"LAST UPDATED: ",moment_1.default(status.timestamp).fromNow())}else if(status.state===status_1.RepoState.DELETING){footer=react_1.default.createElement("div",{className:"codeFooter"},"DELETING...")}else if(status.state===status_1.RepoState.INDEXING){footer=react_1.default.createElement("div",{className:"codeFooter","data-test-subj":"repositoryIndexOngoing"},"INDEXING...")}else if(status.state===status_1.RepoState.CLONING){footer=react_1.default.createElement("div",{className:"codeFooter"},"CLONING...")}else if(status.state===status_1.RepoState.DELETE_ERROR){footer=react_1.default.createElement("div",{className:"codeFooter codeFooter--error"},"ERROR DELETE REPO");hasError=true}else if(status.state===status_1.RepoState.INDEX_ERROR){footer=react_1.default.createElement("div",{className:"codeFooter codeFooter--error"},"ERROR INDEX REPO");hasError=true}else if(status.state===status_1.RepoState.CLONE_ERROR){footer=react_1.default.createElement("div",{className:"codeFooter codeFooter--error"},"ERROR CLONING REPO ",react_1.default.createElement(eui_1.EuiToolTip,{position:"top",content:status.errorMessage},react_1.default.createElement(eui_1.EuiIcon,{type:"iInCircle"})));disableRepoLink=true;hasError=true}var repoTitle=react_1.default.createElement(eui_1.EuiText,{"data-test-subj":"codeRepositoryItem"},react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},org),"/",react_1.default.createElement("strong",null,name));var settingsShow=status&&status.state!==status_1.RepoState.CLONING&&status.state!==status_1.RepoState.DELETING;var settingsVisibility=settingsShow?"visible":"hidden";var indexShow=status&&status.state!==status_1.RepoState.CLONING&&status.state!==status_1.RepoState.DELETING&&status.state!==status_1.RepoState.INDEXING&&status.state!==status_1.RepoState.CLONE_ERROR;var indexVisibility=indexShow?"visible":"hidden";var deleteShow=status&&status.state!==status_1.RepoState.DELETING;var deleteVisibility=deleteShow?"visible":"hidden";var projectManagement=react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false,style:{display:"none"}},react_1.default.createElement("div",{className:"codeButton__project","data-test-subj":"settingsRepositoryButton",tabIndex:0,onKeyPress:onClickSettings,onClick:onClickSettings,role:"button",style:{visibility:settingsVisibility}},react_1.default.createElement(eui_1.EuiIcon,{type:"gear"}),react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},"Settings"))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement("div",{className:"codeButton__project","data-test-subj":"indexRepositoryButton",tabIndex:0,onKeyPress:this.openReindexModal,onClick:this.openReindexModal,role:"button",style:{visibility:indexVisibility}},react_1.default.createElement(eui_1.EuiIcon,{type:"indexSettings"}),react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},"Reindex"))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement("div",{className:"codeButton__project","data-test-subj":"deleteRepositoryButton",tabIndex:0,onKeyPress:this.openDeleteModal,onClick:this.openDeleteModal,role:"button",style:{visibility:deleteVisibility}},react_1.default.createElement(eui_1.EuiIcon,{type:"trash",color:"danger"}),react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},"Delete")))));var repoStatus=react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h6",null,react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},footer)));return react_1.default.createElement(eui_1.EuiPanel,{className:hasError?"codePanel__project codePanel__project--error":"codePanel__project"},this.renderProgress(),react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:3},disableRepoLink?repoTitle:react_1.default.createElement(react_router_dom_1.Link,{to:"/".concat(uri),"data-test-subj":"adminLinkTo".concat(name)},repoTitle),showStatus?repoStatus:null),react_1.default.createElement(eui_1.EuiFlexItem,{grow:3},react_1.default.createElement(eui_1.EuiText,{color:"subdued",size:"s"},react_1.default.createElement(eui_1.EuiLink,{href:"https://"+uri,target:"_blank"},uri))),enableManagement&&projectManagement),this.state.showDeleteConfirmModal&&this.renderDeleteConfirmModal(),this.state.showReindexConfirmModal&&this.renderReindexConfirmModal())}},{key:"renderProgress",value:function renderProgress(){var status=this.props.status;if(status&&(status.state===status_1.RepoState.CLONING||status.state===status_1.RepoState.DELETING||status.state===status_1.RepoState.INDEXING)){var color=stateColor[status.state];if(status.progress===model_1.WorkerReservedProgress.COMPLETED){return null}else if(status.progress>model_1.WorkerReservedProgress.INIT){return react_1.default.createElement(eui_1.EuiProgress,{max:100,value:status.progress,size:"s",color:color,position:"absolute"})}else{return react_1.default.createElement(eui_1.EuiProgress,{size:"s",color:color,position:"absolute"})}}}}]);return CodeProjectItem}(react_1.default.PureComponent);var mapDispatchToProps={deleteRepo:actions_1.deleteRepo,indexRepo:actions_1.indexRepo,initRepoCommand:actions_1.initRepoCommand};exports.ProjectItem=react_redux_1.connect(null,mapDispatchToProps)(CodeProjectItem)},1595:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var RepoState;(function(RepoState){RepoState[RepoState["CLONING"]=0]="CLONING";RepoState[RepoState["DELETING"]=1]="DELETING";RepoState[RepoState["INDEXING"]=2]="INDEXING";RepoState[RepoState["READY"]=3]="READY";RepoState[RepoState["CLONE_ERROR"]=4]="CLONE_ERROR";RepoState[RepoState["DELETE_ERROR"]=5]="DELETE_ERROR";RepoState[RepoState["INDEX_ERROR"]=6]="INDEX_ERROR"})(RepoState=exports.RepoState||(exports.RepoState={}));var initialState={status:{},loading:false};exports.status=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.loadStatus),function(state){return immer_1.default(state,function(draft){draft.loading=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadStatusSuccess),function(state,action){return immer_1.default(state,function(draft){Object.keys(action.payload).forEach(function(repoUri){var statuses=action.payload[repoUri];if(statuses.deleteStatus){var progress=statuses.deleteStatus.progress;if(progress===model_1.WorkerReservedProgress.ERROR||progress===model_1.WorkerReservedProgress.TIMEOUT){draft.status[repoUri]=_objectSpread({},statuses.deleteStatus,{state:RepoState.DELETE_ERROR})}else if(progress<model_1.WorkerReservedProgress.COMPLETED){draft.status[repoUri]=_objectSpread({},statuses.deleteStatus,{state:RepoState.DELETING})}}else if(statuses.indexStatus){var _progress=statuses.indexStatus.progress;if(_progress===model_1.WorkerReservedProgress.ERROR||_progress===model_1.WorkerReservedProgress.TIMEOUT){draft.status[repoUri]=_objectSpread({},statuses.indexStatus,{state:RepoState.INDEX_ERROR})}else if(_progress<model_1.WorkerReservedProgress.COMPLETED){draft.status[repoUri]=_objectSpread({},statuses.indexStatus,{state:RepoState.INDEXING})}else if(_progress===model_1.WorkerReservedProgress.COMPLETED){draft.status[repoUri]=_objectSpread({},statuses.indexStatus,{state:RepoState.READY})}}else if(statuses.gitStatus){var _progress2=statuses.gitStatus.progress;if(_progress2===model_1.WorkerReservedProgress.ERROR||_progress2===model_1.WorkerReservedProgress.TIMEOUT){draft.status[repoUri]=_objectSpread({},statuses.gitStatus,{state:RepoState.CLONE_ERROR})}else if(_progress2<model_1.WorkerReservedProgress.COMPLETED){draft.status[repoUri]=_objectSpread({},statuses.gitStatus,{state:RepoState.CLONING})}else if(_progress2===model_1.WorkerReservedProgress.COMPLETED){draft.status[repoUri]=_objectSpread({},statuses.gitStatus,{state:RepoState.READY})}}});draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadStatusFailed),function(state,action){return immer_1.default(state,function(draft){draft.loading=false;draft.error=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.updateCloneProgress),function(state,action){return immer_1.default(state,function(draft){var progress=action.payload.progress;var s=RepoState.CLONING;if(progress===model_1.WorkerReservedProgress.ERROR||progress===model_1.WorkerReservedProgress.TIMEOUT){s=RepoState.CLONE_ERROR}else if(progress===model_1.WorkerReservedProgress.COMPLETED){s=RepoState.READY}draft.status[action.payload.repoUri]=_objectSpread({},action.payload,{state:s})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.updateIndexProgress),function(state,action){return immer_1.default(state,function(draft){var progress=action.payload.progress;var s=RepoState.INDEXING;if(progress===model_1.WorkerReservedProgress.ERROR||progress===model_1.WorkerReservedProgress.TIMEOUT){s=RepoState.INDEX_ERROR}else if(progress===model_1.WorkerReservedProgress.COMPLETED){s=RepoState.READY}draft.status[action.payload.repoUri]=_objectSpread({},action.payload,{state:s})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.updateDeleteProgress),function(state,action){return immer_1.default(state,function(draft){var progress=action.payload.progress;if(progress===model_1.WorkerReservedProgress.COMPLETED){delete draft.status[action.payload.repoUri]}else{var s=RepoState.DELETING;if(progress===model_1.WorkerReservedProgress.ERROR||progress===model_1.WorkerReservedProgress.TIMEOUT){s=RepoState.DELETE_ERROR}draft.status[action.payload.repoUri]=_objectSpread({},action.payload,{state:s})}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.deleteRepoFinished),function(state,action){return immer_1.default(state,function(draft){delete draft.status[action.payload]})}),_redux_actions_1$hand),initialState)},1596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var documentation_links_1=__webpack_require__(64);exports.documentationLinks={code:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code.html"),codeIntelligence:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code.html"),gitFormat:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code.html"),codeInstallLangServer:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-install-lang-server.html"),codeGettingStarted:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-getting-started.html"),codeRepoManagement:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-repo-management.html"),codeSearch:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-search.html"),codeOtherFeatures:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-basic-nav.html"),semanticNavigation:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/code-semantic-nav.html"),kibanaRoleManagement:"".concat(documentation_links_1.ELASTIC_WEBSITE_URL,"guide/en/kibana/").concat(documentation_links_1.DOC_LINK_VERSION,"/kibana-role-management.html")}},1597:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadBlame=redux_actions_1.createAction("LOAD BLAME");exports.loadBlameSuccess=redux_actions_1.createAction("LOAD BLAME SUCCESS");exports.loadBlameFailed=redux_actions_1.createAction("LOAD BLAME FAILED")},1598:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var model_1=__webpack_require__(228);var commit_1=__webpack_require__(4336);var actions_1=__webpack_require__(40);var initialState={tree:{name:"",path:"",children:undefined,type:model_1.FileTreeItemType.Directory},openedPaths:[],notFoundDirs:[],fileTreeLoadingPaths:[""],branches:[],tags:[],commits:[],treeCommits:{},isNotFound:false,loadingCommits:false,commitsFullyLoaded:{}};function mergeNode(a,b){var childrenMap={};if(a.children){a.children.forEach(function(child){childrenMap[child.name]=child})}if(b.children){b.children.forEach(function(childB){var childA=childrenMap[childB.name];if(childA){childrenMap[childB.name]=mergeNode(childA,childB)}else{childrenMap[childB.name]=childB}})}return _objectSpread({},a,b,{children:Object.values(childrenMap).sort(model_1.sortFileTree)})}function getPathOfTree(tree,paths){var child=tree;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{var _loop=function _loop(){var p=_step.value;if(child&&child.children){child=child.children.find(function(c){return c.name===p})}else{return{v:null}}};for(var _iterator=paths[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ret=_loop();if(_typeof(_ret)==="object")return _ret.v}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return child}exports.getPathOfTree=getPathOfTree;exports.file=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoTree),function(state,action){return immer_1.default(state,function(draft){draft.fileTreeLoadingPaths.push(action.payload.path)})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoTreeSuccess),function(state,action){return immer_1.default(state,function(draft){draft.notFoundDirs=draft.notFoundDirs.filter(function(dir){return dir!==action.payload.path});draft.fileTreeLoadingPaths=draft.fileTreeLoadingPaths.filter(function(p){return p!==action.payload.path&&p!==""});var _action$payload=action.payload,tree=_action$payload.tree,path=_action$payload.path,withParents=_action$payload.withParents;if(withParents||path==="/"||path===""){draft.tree=mergeNode(draft.tree,tree)}else{var parentsPath=path.split("/");var lastPath=parentsPath.pop();var parent=getPathOfTree(draft.tree,parentsPath);if(parent){parent.children=parent.children||[];var idx=parent.children.findIndex(function(c){return c.name===lastPath});if(idx>=0){parent.children[idx]=tree}else{parent.children.push(tree)}}}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRootRepoTreeSuccess),function(state,action){return immer_1.default(state,function(draft){draft.fileTreeLoadingPaths=draft.fileTreeLoadingPaths.filter(function(p){return p!=="/"&&p!==""});draft.tree=mergeNode(draft.tree,action.payload)})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRootRepoTreeFailed),function(state,action){return immer_1.default(state,function(draft){draft.fileTreeLoadingPaths=draft.fileTreeLoadingPaths.filter(function(p){return p!=="/"&&p!==""})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.dirNotFound),function(state,action){return immer_1.default(state,function(draft){draft.notFoundDirs.push(action.payload)})}),_defineProperty(_redux_actions_1$hand,String(actions_1.resetRepoTree),function(state){return immer_1.default(state,function(draft){draft.tree=initialState.tree;draft.openedPaths=initialState.openedPaths})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoTreeFailed),function(state,action){return immer_1.default(state,function(draft){draft.fileTreeLoadingPaths=draft.fileTreeLoadingPaths.filter(function(p){return p!==action.payload.path&&p!==""})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.openTreePath),function(state,action){return immer_1.default(state,function(draft){var path=action.payload;var openedPaths=state.openedPaths;var pathSegs=path.split("/");while(!openedPaths.includes(path)){draft.openedPaths.push(path);pathSegs.pop();if(pathSegs.length<=0){break}path=pathSegs.join("/")}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.closeTreePath),function(state,action){return immer_1.default(state,function(draft){var path=action.payload;var isSubFolder=function isSubFolder(p){return p.startsWith(path+"/")};draft.openedPaths=state.openedPaths.filter(function(p){return!(p===path||isSubFolder(p))})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoCommitsSuccess),function(state,action){return immer_1.default(state,function(draft){draft.commits=action.payload;draft.loadingCommits=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchMoreCommits),function(state,action){return immer_1.default(state,function(draft){draft.loadingCommits=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoBranchesSuccess),function(state,action){return immer_1.default(state,function(draft){var references=action.payload;draft.tags=references.filter(function(r){return r.type===commit_1.ReferenceType.TAG});draft.branches=references.filter(function(r){return r.type!==commit_1.ReferenceType.TAG})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchFileSuccess),function(state,action){return immer_1.default(state,function(draft){draft.file=action.payload;draft.isNotFound=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchFileFailed),function(state,action){return immer_1.default(state,function(draft){draft.file=undefined})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchDirectorySuccess),function(state,action){return immer_1.default(state,function(draft){draft.opendir=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchDirectory),function(state,action){return immer_1.default(state,function(draft){draft.opendir=undefined})}),_defineProperty(_redux_actions_1$hand,String(actions_1.setNotFound),function(state,action){return immer_1.default(state,function(draft){draft.isNotFound=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.routeChange),function(state,action){return immer_1.default(state,function(draft){draft.isNotFound=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchTreeCommits),function(state){return immer_1.default(state,function(draft){draft.loadingCommits=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchTreeCommitsFailed),function(state){return immer_1.default(state,function(draft){draft.loadingCommits=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchTreeCommitsSuccess),function(state,action){return immer_1.default(state,function(draft){var _action$payload2=action.payload,path=_action$payload2.path,commits=_action$payload2.commits,append=_action$payload2.append;if(path===""||path==="/"){if(commits.length===0){draft.commitsFullyLoaded[""]=true}else if(append){draft.commits=draft.commits.concat(commits)}else{draft.commits=commits}}else{if(commits.length===0){draft.commitsFullyLoaded[path]=true}else if(append){draft.treeCommits[path]=draft.treeCommits[path].concat(commits)}else{draft.treeCommits[path]=commits}}draft.loadingCommits=false})}),_redux_actions_1$hand),initialState)},1599:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var messages_1=__webpack_require__(984);exports.ServerNotInitialized=messages_1.ErrorCodes.ServerNotInitialized;exports.UnknownErrorCode=messages_1.ErrorCodes.UnknownErrorCode;exports.UnknownFileLanguage=-42404;exports.LanguageServerNotInstalled=-42403;exports.LanguageDisabled=-42402;exports.LanguageServerStartFailed=-42405},1600:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_markdown_1=tslib_1.__importDefault(__webpack_require__(825));var textToHtmlTokenizer_1=__webpack_require__(4358);var HoverState;(function(HoverState){HoverState[HoverState["LOADING"]=0]="LOADING";HoverState[HoverState["INITIALIZING"]=1]="INITIALIZING";HoverState[HoverState["READY"]=2]="READY"})(HoverState=exports.HoverState||(exports.HoverState={}));var HoverWidget=function(_react_1$default$Pure){_inherits(HoverWidget,_react_1$default$Pure);function HoverWidget(){_classCallCheck(this,HoverWidget);return _possibleConstructorReturn(this,_getPrototypeOf(HoverWidget).apply(this,arguments))}_createClass(HoverWidget,[{key:"render",value:function render(){var contents;switch(this.props.state){case HoverState.READY:contents=this.renderContents();break;case HoverState.INITIALIZING:contents=this.renderInitialting();break;case HoverState.LOADING:default:contents=this.renderLoading()}return react_1.default.createElement(react_1.default.Fragment,null,contents)}},{key:"renderLoading",value:function renderLoading(){return react_1.default.createElement("div",{className:"hover-row"},react_1.default.createElement("div",{className:"text-placeholder gradient"}),react_1.default.createElement("div",{className:"text-placeholder gradient",style:{width:"90%"}}),react_1.default.createElement("div",{className:"text-placeholder gradient",style:{width:"75%"}}))}},{key:"renderContents",value:function renderContents(){var markdownRenderers={link:function link(_ref){var children=_ref.children,href=_ref.href;return react_1.default.createElement(eui_1.EuiLink,{href:href,target:"_blank"},children)},code:function code(_ref2){var value=_ref2.value,language=_ref2.language;var code=textToHtmlTokenizer_1.tokenizeToString(value,language);return react_1.default.createElement("div",{className:"code",dangerouslySetInnerHTML:{__html:code}})}};return this.props.contents.filter(function(content){return!!content}).map(function(markedString,idx){var markdown;if(typeof markedString==="string"){markdown=markedString}else if(markedString.language){markdown="```"+markedString.language+"\n"+markedString.value+"\n```"}else{markdown=markedString.value}return react_1.default.createElement("div",{className:"hover-row",key:"hover_".concat(idx)},react_1.default.createElement(react_markdown_1.default,{source:markdown,escapeHtml:true,skipHtml:true,renderers:markdownRenderers}))})}},{key:"renderInitialting",value:function renderInitialting(){return react_1.default.createElement("div",{className:"hover-row"},react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement("h4",null,"Language Server is initializing…"),react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},react_1.default.createElement("p",null,"Depending on the size of your repo, this could take a few minutes."))))}}]);return HoverWidget}(react_1.default.PureComponent);exports.HoverWidget=HoverWidget},1601:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var editors=new Set;function clearSelection(ed){var sel=ed.getSelection();if(sel&&!sel.isEmpty()){ed.setSelection({selectionStartLineNumber:sel.selectionStartLineNumber,selectionStartColumn:sel.selectionStartColumn,positionLineNumber:sel.selectionStartLineNumber,positionColumn:sel.selectionStartColumn})}}function registerEditor(ed){editors.add(ed);ed.onDidChangeCursorSelection(function(){editors.forEach(function(e){if(e!==ed){clearSelection(e)}})});ed.onDidDispose(function(){return editors.delete(ed)})}exports.registerEditor=registerEditor},1602:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var resize_checker_1=__webpack_require__(438);var monaco_1=__webpack_require__(447);var single_selection_helper_1=__webpack_require__(1601);var CodeBlock=function(_react_1$default$Pure){_inherits(CodeBlock,_react_1$default$Pure);function CodeBlock(){var _this;_classCallCheck(this,CodeBlock);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeBlock).apply(this,arguments));_this.el=null;_this.currentHighlightDecorations=[];_this.lineNumbersFunc=function(line){if(_this.props.lineNumbersFunc){return _this.props.lineNumbersFunc(line)}return"".concat((_this.props.startLine||0)+line)};return _this}_createClass(CodeBlock,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;if(this.el){this.ed=monaco_1.monaco.editor.create(this.el,{value:this.props.code,language:this.props.language,lineNumbers:this.lineNumbersFunc.bind(this),readOnly:true,folding:this.props.folding,minimap:{enabled:false},scrollbar:{vertical:"hidden",handleMouseWheel:false,verticalScrollbarSize:0},hover:{enabled:false},contextmenu:false,selectOnLineNumbers:false,selectionHighlight:false,renderLineHighlight:"none",renderIndentGuides:false,automaticLayout:false});this.ed.onMouseDown(function(e){if(_this2.props.onClick&&(e.target.type===monaco_1.monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS||e.target.type===monaco_1.monaco.editor.MouseTargetType.CONTENT_TEXT)){var lineNumber=(_this2.props.startLine||0)+e.target.position.lineNumber;_this2.props.onClick({lineNumber:lineNumber,column:e.target.position.column})}});single_selection_helper_1.registerEditor(this.ed);if(this.props.highlightRanges){var decorations=this.props.highlightRanges.map(function(range){return{range:range,options:{inlineClassName:"codeSearch__highlight"}}});this.currentHighlightDecorations=this.ed.deltaDecorations([],decorations)}this.resizeChecker=new resize_checker_1.ResizeChecker(this.el);this.resizeChecker.on("resize",function(){setTimeout(function(){_this2.ed.layout()})})}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.code!==this.props.code||prevProps.highlightRanges!==this.props.highlightRanges){if(this.ed){this.ed.getModel().setValue(this.props.code);if(this.props.highlightRanges){var decorations=this.props.highlightRanges.map(function(range){return{range:range,options:{inlineClassName:"codeSearch__highlight"}}});this.currentHighlightDecorations=this.ed.deltaDecorations(this.currentHighlightDecorations,decorations)}}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.ed){this.ed.dispose()}}},{key:"render",value:function render(){var _this3=this;var linesCount=this.props.code.split("\n").length;return react_1.default.createElement(eui_1.EuiPanel,{style:{marginBottom:"2rem"},paddingSize:"s"},this.props.fileComponent,react_1.default.createElement("div",{ref:function ref(r){return _this3.el=r},style:{height:linesCount*18}}))}}]);return CodeBlock}(react_1.default.PureComponent);exports.CodeBlock=CodeBlock},1603:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=__webpack_require__(76);var icons_1=__webpack_require__(981);exports.ErrorPanel=function(props){return react_1.default.createElement("div",{className:"codePanel__error","data-test-subj":"codeNotFoundErrorPage"},react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(icons_1.ErrorIcon,null)),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},props.title),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(eui_1.EuiTextColor,null,props.content)),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:url_1.history.goBack},"Go Back")),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiSpacer,null)))}},1604:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var error_panel_1=__webpack_require__(1603);exports.NotFound=function(){return react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart"},react_1.default.createElement(error_panel_1.ErrorPanel,{title:react_1.default.createElement("h2",null,"404"),content:"Unfortunately that page doesn’t exist. You can try searching to find what you’re looking for."}))}},1605:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleRepoCloneSuccess),_marked2=regeneratorRuntime.mark(watchRepoCloneSuccess),_marked3=regeneratorRuntime.mark(handleRepoDeleteFinished),_marked4=regeneratorRuntime.mark(watchRepoDeleteFinished);Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var effects_1=__webpack_require__(301);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var ROUTES=tslib_1.__importStar(__webpack_require__(600));var matchSelector=function matchSelector(state){return state.route.match};exports.cloneCompletedPattern=function(action){return action.type===String(actions_1.updateCloneProgress)&&action.payload.progress===model_1.WorkerReservedProgress.COMPLETED};var deleteCompletedPattern=function deleteCompletedPattern(action){return action.type===String(actions_1.updateDeleteProgress)&&action.payload.progress===model_1.WorkerReservedProgress.COMPLETED};exports.cloneRepoStatusPollingStopPattern=function(repoUri){return function(action){return action.type===String(actions_1.pollRepoCloneStatusStop)&&action.payload===repoUri}};exports.indexRepoStatusPollingStopPattern=function(repoUri){return function(action){return action.type===String(actions_1.pollRepoIndexStatusStop)&&action.payload===repoUri}};exports.deleteRepoStatusPollingStopPattern=function(repoUri){return function(action){return action.type===String(actions_1.pollRepoDeleteStatusStop)&&action.payload===repoUri}};function handleRepoCloneSuccess(){var match;return regeneratorRuntime.wrap(function handleRepoCloneSuccess$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return effects_1.select(matchSelector);case 2:match=_context.sent;if(!(match.path===ROUTES.MAIN||match.path===ROUTES.MAIN_ROOT)){_context.next=6;break}_context.next=6;return effects_1.put(actions_1.routeChange(match));case 6:case"end":return _context.stop()}}},_marked)}function watchRepoCloneSuccess(){return regeneratorRuntime.wrap(function watchRepoCloneSuccess$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(exports.cloneCompletedPattern,handleRepoCloneSuccess);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchRepoCloneSuccess=watchRepoCloneSuccess;function handleRepoDeleteFinished(action){return regeneratorRuntime.wrap(function handleRepoDeleteFinished$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return effects_1.put(actions_1.deleteRepoFinished(action.payload.repoUri));case 2:case"end":return _context3.stop()}}},_marked3)}function watchRepoDeleteFinished(){return regeneratorRuntime.wrap(function watchRepoDeleteFinished$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeEvery(deleteCompletedPattern,handleRepoDeleteFinished);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchRepoDeleteFinished=watchRepoDeleteFinished},228:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);tslib_1.__exportStar(__webpack_require__(4264),exports);tslib_1.__exportStar(__webpack_require__(4265),exports);tslib_1.__exportStar(__webpack_require__(4266),exports);tslib_1.__exportStar(__webpack_require__(4267),exports)},300:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3351)},301:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(1553)},344:function(module,exports,__webpack_require__){"use strict";var _exports$SearchScopeT,_exports$SearchScopeP;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var model_1=__webpack_require__(228);var PathTypes;(function(PathTypes){PathTypes["blob"]="blob";PathTypes["tree"]="tree";PathTypes["blame"]="blame";PathTypes["commits"]="commits"})(PathTypes=exports.PathTypes||(exports.PathTypes={}));exports.SearchScopeText=(_exports$SearchScopeT={},_defineProperty(_exports$SearchScopeT,model_1.SearchScope.DEFAULT,"Search Everything"),_defineProperty(_exports$SearchScopeT,model_1.SearchScope.REPOSITORY,"Search Repositories"),_defineProperty(_exports$SearchScopeT,model_1.SearchScope.SYMBOL,"Search Symbols"),_defineProperty(_exports$SearchScopeT,model_1.SearchScope.FILE,"Search Files"),_exports$SearchScopeT);exports.SearchScopePlaceholderText=(_exports$SearchScopeP={},_defineProperty(_exports$SearchScopeP,model_1.SearchScope.DEFAULT,"Type to find anything"),_defineProperty(_exports$SearchScopeP,model_1.SearchScope.REPOSITORY,"Type to find repositories"),_defineProperty(_exports$SearchScopeP,model_1.SearchScope.SYMBOL,"Type to find symbols"),_defineProperty(_exports$SearchScopeP,model_1.SearchScope.FILE,"Type to find files"),_exports$SearchScopeP)},375:function(module,exports,__webpack_require__){"use strict";function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var path_to_regexp_1=tslib_1.__importDefault(__webpack_require__(4281));var routes_1=__webpack_require__(600);var mainRe=path_to_regexp_1.default(routes_1.MAIN);var mainRootRe=path_to_regexp_1.default(routes_1.MAIN_ROOT);function parseSchema(url){var _url$toString$split=url.toString().split("//"),_url$toString$split2=_slicedToArray(_url$toString$split,2),schema=_url$toString$split2[0],uri=_url$toString$split2[1];if(!uri){uri=schema;schema=undefined}if(!uri.startsWith("/")){uri="/"+uri}return{uri:uri,schema:schema}}exports.parseSchema=parseSchema;function parseGoto(goto){var regex=/L(\d+)(:\d+)?$/;var m=regex.exec(goto);if(m){var line=parseInt(m[1],10);var character=0;if(m[2]){character=parseInt(m[2].substring(1),10)}return{line:line,character:character}}}exports.parseGoto=parseGoto;function parseLspUrl(url){var _parseSchema=parseSchema(url.toString()),schema=_parseSchema.schema,uri=_parseSchema.uri;var mainParsed=mainRe.exec(uri);var mainRootParsed=mainRootRe.exec(uri);if(mainParsed){var _mainParsed$slice=mainParsed.slice(1),_mainParsed$slice2=_slicedToArray(_mainParsed$slice,7),resource=_mainParsed$slice2[0],org=_mainParsed$slice2[1],repo=_mainParsed$slice2[2],pathType=_mainParsed$slice2[3],revision=_mainParsed$slice2[4],file=_mainParsed$slice2[5],goto=_mainParsed$slice2[6];var position;if(goto){position=parseGoto(goto)}return{uri:uri.replace(goto,""),repoUri:"".concat(resource,"/").concat(org,"/").concat(repo),pathType:pathType,revision:revision,file:file,schema:schema,position:position}}else if(mainRootParsed){var _mainRootParsed$slice=mainRootParsed.slice(1),_mainRootParsed$slice2=_slicedToArray(_mainRootParsed$slice,5),_resource=_mainRootParsed$slice2[0],_org=_mainRootParsed$slice2[1],_repo=_mainRootParsed$slice2[2],_pathType=_mainRootParsed$slice2[3],_revision=_mainRootParsed$slice2[4];return{uri:uri,repoUri:"".concat(_resource,"/").concat(_org,"/").concat(_repo),pathType:_pathType,revision:_revision,schema:schema}}else{throw new Error("invalid url "+url)}}exports.parseLspUrl=parseLspUrl;function toRepoName(uri){var segs=uri.split("/");if(segs.length!==3){throw new Error("Invalid repository uri ".concat(uri))}return segs[2]}exports.toRepoName=toRepoName;function toRepoNameWithOrg(uri){var segs=uri.split("/");if(segs.length!==3){throw new Error("Invalid repository uri ".concat(uri))}return"".concat(segs[1],"/").concat(segs[2])}exports.toRepoNameWithOrg=toRepoNameWithOrg;var compiled=path_to_regexp_1.default.compile(routes_1.MAIN);function toCanonicalUrl(lspUrl){var _lspUrl$repoUri$split=lspUrl.repoUri.split("/"),_lspUrl$repoUri$split2=_slicedToArray(_lspUrl$repoUri$split,3),resource=_lspUrl$repoUri$split2[0],org=_lspUrl$repoUri$split2[1],repo=_lspUrl$repoUri$split2[2];if(!lspUrl.pathType){lspUrl.pathType="blob"}var goto;if(lspUrl.position){goto="!L".concat(lspUrl.position.line+1,":").concat(lspUrl.position.character)}var data=_objectSpread({resource:resource,org:org,repo:repo,path:lspUrl.file,goto:goto},lspUrl);var uri=decodeURIComponent(compiled(data));return lspUrl.schema?"".concat(lspUrl.schema,"/").concat(uri):uri}exports.toCanonicalUrl=toCanonicalUrl},40:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var redux_actions_1=__webpack_require__(20);tslib_1.__exportStar(__webpack_require__(4256),exports);tslib_1.__exportStar(__webpack_require__(4257),exports);tslib_1.__exportStar(__webpack_require__(4258),exports);tslib_1.__exportStar(__webpack_require__(4259),exports);tslib_1.__exportStar(__webpack_require__(4260),exports);tslib_1.__exportStar(__webpack_require__(1589),exports);tslib_1.__exportStar(__webpack_require__(1590),exports);tslib_1.__exportStar(__webpack_require__(4261),exports);tslib_1.__exportStar(__webpack_require__(4262),exports);exports.routeChange=redux_actions_1.createAction("CODE SEARCH ROUTE CHANGE");exports.checkSetupSuccess=redux_actions_1.createAction("SETUP CHECK SUCCESS");exports.checkSetupFailed=redux_actions_1.createAction("SETUP CHECK FAILED")},411:function(module,exports,__webpack_require__){"use strict";function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}Object.defineProperty(exports,"__esModule",{value:true});exports.getTree=function(state){return state.file.tree};exports.lastRequestPathSelector=function(state){return state.symbol.lastRequestPath||""};exports.structureSelector=function(state){var pathname=exports.lastRequestPathSelector(state);var symbols=state.symbol.structureTree[pathname];return symbols||[]};exports.refUrlSelector=function(state){var payload=state.editor.refPayload;if(payload){var _payload$position=payload.position,line=_payload$position.line,character=_payload$position.character;return"".concat(payload.textDocument.uri,"!L").concat(line,":").concat(character)}return undefined};exports.fileSelector=function(state){return state.file.file};exports.searchScopeSelector=function(state){return state.search.scope};exports.repoUriSelector=function(state){var _state$route$match$pa=state.route.match.params,resource=_state$route$match$pa.resource,org=_state$route$match$pa.org,repo=_state$route$match$pa.repo;return"".concat(resource,"/").concat(org,"/").concat(repo)};exports.routeSelector=function(state){return state.route.match};exports.statusSelector=function(state,repoUri){return state.status.status[repoUri]};exports.allStatusSelector=function(state){return state.status.status};exports.currentPathSelector=function(state){return state.route.match.params.path};exports.treeCommitsSelector=function(state){var path=exports.currentPathSelector(state);if(path===""){return state.file.commits}else{return state.file.treeCommits[path]}};exports.hasMoreCommitsSelector=function(state){var path=exports.currentPathSelector(state);var isLoading=state.file.loadingCommits;if(isLoading){return false}if(state.file.commitsFullyLoaded[path]){return false}var commits=path===""?state.file.commits:state.file.treeCommits[path];if(!commits){return false}return true};function find(tree,paths){if(paths.length===0){return tree}var _paths=_toArray(paths),p=_paths[0],rest=_paths.slice(1);if(tree.children){var child=tree.children.find(function(c){return c.name===p});if(child){return find(child,rest)}}return null}exports.currentTreeSelector=function(state){var tree=exports.getTree(state);var path=exports.currentPathSelector(state)||"";return find(tree,path.split("/"))};exports.createTreeSelector=function(path){return function(state){var tree=exports.getTree(state);return find(tree,path.split("/"))}};exports.currentRepoSelector=function(state){return state.repository.currentRepository};exports.repoScopeSelector=function(state){return state.search.searchOptions.repoScope};exports.urlQueryStringSelector=function(state){return state.route.match.location.search}},4252:function(module,exports,__webpack_require__){"use strict";__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);var _i18n=__webpack_require__(4);var _kibanaCore__=__webpack_require__(73);__webpack_require__.nc=window.__kbnNonce__;var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch(function(e){return e}).then(function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,browserSupportsCsp:!window.__kbnCspNotEnforced__,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(4253)}});coreSystem.setup().then(function(coreSetup){if(i18nError){coreSetup.fatalErrors.add(i18nError)}return coreSystem.start()})})},4253:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=__webpack_require__(17);var react_redux_1=__webpack_require__(11);__webpack_require__(255);__webpack_require__(278);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var modules_1=__webpack_require__(8);var constants_1=__webpack_require__(1588);var app_1=__webpack_require__(4254);var help_menu_1=__webpack_require__(4386);var stores_1=__webpack_require__(4388);if(chrome_1.default.getInjected("codeUiEnabled")){var RootController=function RootController($scope,$element,$http){var domNode=$element[0];react_dom_1.render(react_1.default.createElement(react_redux_1.Provider,{store:stores_1.store},react_1.default.createElement(app_1.App,null)),domNode);$scope.$on("$destroy",function(){react_dom_1.unmountComponentAtNode(domNode)})};var app=modules_1.uiModules.get("apps/code");app.config(function($locationProvider){$locationProvider.html5Mode({enabled:false,requireBase:false,rewriteLinks:false})});app.config(function(stateManagementConfigProvider){return stateManagementConfigProvider.disable()});chrome_1.default.setRootController("code",RootController);chrome_1.default.breadcrumbs.set([{text:constants_1.APP_TITLE,href:"#/"}]);chrome_1.default.helpExtension.set(function(domNode){react_dom_1.render(react_1.default.createElement(help_menu_1.HelpMenu,null),domNode);return function(){react_dom_1.unmountComponentAtNode(domNode)}})}},4254:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var react_redux_1=__webpack_require__(11);var admin_1=__webpack_require__(4255);var setup_guide_1=__webpack_require__(4290);var diff_1=__webpack_require__(4291);var main_1=__webpack_require__(4330);var not_found_1=__webpack_require__(1604);var route_1=__webpack_require__(4379);var ROUTES=tslib_1.__importStar(__webpack_require__(600));var search_1=__webpack_require__(4380);var RooComponent=function RooComponent(props){if(props.setupOk){return react_1.default.createElement(react_router_dom_1.Redirect,{to:"/admin"})}return react_1.default.createElement(setup_guide_1.SetupGuide,null)};var mapStateToProps=function mapStateToProps(state){return{setupOk:state.setup.ok}};var Root=react_redux_1.connect(mapStateToProps)(RooComponent);var Empty=function Empty(){return null};exports.App=function(){return react_1.default.createElement(react_router_dom_1.HashRouter,null,react_1.default.createElement(react_router_dom_1.Switch,null,react_1.default.createElement(route_1.Route,{path:ROUTES.DIFF,exact:true,component:diff_1.Diff}),react_1.default.createElement(route_1.Route,{path:ROUTES.ROOT,exact:true,component:Root}),react_1.default.createElement(route_1.Route,{path:ROUTES.MAIN,component:main_1.Main,exact:true}),react_1.default.createElement(route_1.Route,{path:ROUTES.MAIN_ROOT,component:main_1.Main}),react_1.default.createElement(route_1.Route,{path:ROUTES.ADMIN,component:admin_1.Admin}),react_1.default.createElement(route_1.Route,{path:ROUTES.SEARCH,component:search_1.Search}),react_1.default.createElement(route_1.Route,{path:ROUTES.REPO,render:Empty,exact:true}),react_1.default.createElement(route_1.Route,{path:ROUTES.SETUP,component:setup_guide_1.SetupGuide,exact:true}),react_1.default.createElement(route_1.Route,{path:"*",component:not_found_1.NotFound})))}},4255:function(module,exports,__webpack_require__){"use strict";function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var querystring_1=__webpack_require__(74);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var url_1=tslib_1.__importDefault(__webpack_require__(31));var eui_1=__webpack_require__(1);var actions_1=__webpack_require__(40);var search_bar_1=__webpack_require__(980);var empty_project_1=__webpack_require__(4284);var language_server_tab_1=__webpack_require__(4286);var project_tab_1=__webpack_require__(4288);var AdminTabs;(function(AdminTabs){AdminTabs["projects"]="Repos";AdminTabs["roles"]="Roles";AdminTabs["languageServers"]="LanguageServers"})(AdminTabs||(AdminTabs={}));var AdminPage=function(_react_1$default$Pure){_inherits(AdminPage,_react_1$default$Pure);function AdminPage(props){var _this;_classCallCheck(this,AdminPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdminPage).call(this,props));_this.searchBar=null;_this.tabs=[{id:AdminTabs.projects,name:AdminTabs.projects,disabled:false},{id:AdminTabs.languageServers,name:"Language servers",disabled:false}];_this.getAdminTabClickHandler=function(tab){return function(){_this.setState({tab:tab});_this.props.history.push(url_1.default.format({pathname:"/admin",query:{tab:tab}}))}};_this.filterRepos=function(){return _this.props.repositories};_this.renderTabContent=function(){switch(_this.state.tab){case AdminTabs.languageServers:{return react_1.default.createElement(language_server_tab_1.LanguageSeverTab,null)}case AdminTabs.projects:default:{var repositoriesCount=_this.props.repositories.length;var showEmpty=repositoriesCount===0&&!_this.props.repositoryLoading;if(showEmpty){return react_1.default.createElement(empty_project_1.EmptyProject,null)}return react_1.default.createElement(project_tab_1.ProjectTab,null)}}};var getTab=function getTab(){var search=props.location.search;var qs=search;if(search.charAt(0)==="?"){qs=search.substr(1)}return querystring_1.parse(qs).tab||AdminTabs.projects};_this.state={tab:getTab()};return _this}_createClass(AdminPage,[{key:"renderTabs",value:function renderTabs(){var _this2=this;var tabs=this.tabs.map(function(tab){return react_1.default.createElement(eui_1.EuiTab,{onClick:_this2.getAdminTabClickHandler(tab.id),isSelected:tab.id===_this2.state.tab,disabled:tab.disabled,key:tab.id},tab.name)});return react_1.default.createElement(eui_1.EuiTabs,null,tabs)}},{key:"render",value:function render(){var _this3=this;return react_1.default.createElement("div",{className:"codeContainer__root"},react_1.default.createElement("div",{className:"codeContainer__rootInner"},react_1.default.createElement("div",{className:"codeContainer__adminWrapper"},react_1.default.createElement(search_bar_1.SearchBar,{searchOptions:this.props.searchOptions,query:this.props.query,onSearchScopeChanged:this.props.onSearchScopeChanged,enableSubmitWhenOptionsChanged:false,ref:function ref(element){return _this3.searchBar=element}}),react_1.default.createElement("div",{className:"codeContainer__adminMain"},this.renderTabs(),this.renderTabContent()))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props){var getTab=function getTab(){var search=props.location.search;var qs=search;if(search.charAt(0)==="?"){qs=search.substr(1)}return querystring_1.parse(qs).tab||AdminTabs.projects};return{tab:getTab()}}}]);return AdminPage}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state.search,{repositories:state.repository.repositories,repositoryLoading:state.repository.loading})};var mapDispatchToProps={onSearchScopeChanged:actions_1.changeSearchScope};exports.Admin=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(AdminPage))},4256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.fetchRepos=redux_actions_1.createAction("FETCH REPOS");exports.fetchReposSuccess=redux_actions_1.createAction("FETCH REPOS SUCCESS");exports.fetchReposFailed=redux_actions_1.createAction("FETCH REPOS FAILED");exports.deleteRepo=redux_actions_1.createAction("DELETE REPOS");exports.deleteRepoSuccess=redux_actions_1.createAction("DELETE REPOS SUCCESS");exports.deleteRepoFinished=redux_actions_1.createAction("DELETE REPOS FINISHED");exports.deleteRepoFailed=redux_actions_1.createAction("DELETE REPOS FAILED");exports.indexRepo=redux_actions_1.createAction("INDEX REPOS");exports.indexRepoSuccess=redux_actions_1.createAction("INDEX REPOS SUCCESS");exports.indexRepoFailed=redux_actions_1.createAction("INDEX REPOS FAILED");exports.importRepo=redux_actions_1.createAction("IMPORT REPO");exports.importRepoSuccess=redux_actions_1.createAction("IMPORT REPO SUCCESS");exports.importRepoFailed=redux_actions_1.createAction("IMPORT REPO FAILED");exports.closeToast=redux_actions_1.createAction("CLOSE TOAST");exports.fetchRepoConfigs=redux_actions_1.createAction("FETCH REPO CONFIGS");exports.fetchRepoConfigSuccess=redux_actions_1.createAction("FETCH REPO CONFIGS SUCCESS");exports.fetchRepoConfigFailed=redux_actions_1.createAction("FETCH REPO CONFIGS FAILED");exports.initRepoCommand=redux_actions_1.createAction("INIT REPO CMD");exports.gotoRepo=redux_actions_1.createAction("GOTO REPO");exports.gotoRepoFailed=redux_actions_1.createAction("GOTO REPO FAILED");exports.switchLanguageServer=redux_actions_1.createAction("SWITCH LANGUAGE SERVER");exports.switchLanguageServerSuccess=redux_actions_1.createAction("SWITCH LANGUAGE SERVER SUCCESS");exports.switchLanguageServerFailed=redux_actions_1.createAction("SWITCH LANGUAGE SERVER FAILED")},4257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.documentSearch=redux_actions_1.createAction("DOCUMENT SEARCH");exports.documentSearchSuccess=redux_actions_1.createAction("DOCUMENT SEARCH SUCCESS");exports.documentSearchFailed=redux_actions_1.createAction("DOCUMENT SEARCH FAILED");exports.repositorySearch=redux_actions_1.createAction("REPOSITORY SEARCH");exports.repositorySearchSuccess=redux_actions_1.createAction("REPOSITORY SEARCH SUCCESS");exports.repositorySearchFailed=redux_actions_1.createAction("REPOSITORY SEARCH FAILED");exports.changeSearchScope=redux_actions_1.createAction("CHANGE SEARCH SCOPE");exports.suggestionSearch=redux_actions_1.createAction("SUGGESTION SEARCH");exports.repositorySearchQueryChanged=redux_actions_1.createAction("REPOSITORY SEARCH QUERY CHANGED");exports.repositoryTypeaheadSearchSuccess=redux_actions_1.createAction("REPOSITORY SEARCH SUCCESS");exports.repositoryTypeaheadSearchFailed=redux_actions_1.createAction("REPOSITORY SEARCH FAILED");exports.saveSearchOptions=redux_actions_1.createAction("SAVE SEARCH OPTIONS");exports.turnOnDefaultRepoScope=redux_actions_1.createAction("TURN ON DEFAULT REPO SCOPE");exports.turnOffDefaultRepoScope=redux_actions_1.createAction("TURN OFF DEFAULT REPO SCOPE");exports.searchReposForScope=redux_actions_1.createAction("SEARCH REPOS FOR SCOPE");exports.searchReposForScopeSuccess=redux_actions_1.createAction("SEARCH REPOS FOR SCOPE SUCCESS");exports.searchReposForScopeFailed=redux_actions_1.createAction("SEARCH REPOS FOR SCOPE FAILED")},4258:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.fetchRootRepoTree=redux_actions_1.createAction("FETCH ROOT REPO TREE");exports.fetchRootRepoTreeSuccess=redux_actions_1.createAction("FETCH ROOT REPO TREE SUCCESS");exports.fetchRootRepoTreeFailed=redux_actions_1.createAction("FETCH ROOT REPO TREE FAILED");exports.fetchRepoTree=redux_actions_1.createAction("FETCH REPO TREE");exports.fetchRepoTreeSuccess=redux_actions_1.createAction("FETCH REPO TREE SUCCESS");exports.fetchRepoTreeFailed=redux_actions_1.createAction("FETCH REPO TREE FAILED");exports.resetRepoTree=redux_actions_1.createAction("CLEAR REPO TREE");exports.closeTreePath=redux_actions_1.createAction("CLOSE TREE PATH");exports.openTreePath=redux_actions_1.createAction("OPEN TREE PATH");exports.fetchRepoBranches=redux_actions_1.createAction("FETCH REPO BRANCHES");exports.fetchRepoBranchesSuccess=redux_actions_1.createAction("FETCH REPO BRANCHES SUCCESS");exports.fetchRepoBranchesFailed=redux_actions_1.createAction("FETCH REPO BRANCHES FAILED");exports.fetchRepoCommits=redux_actions_1.createAction("FETCH REPO COMMITS");exports.fetchRepoCommitsSuccess=redux_actions_1.createAction("FETCH REPO COMMITS SUCCESS");exports.fetchRepoCommitsFailed=redux_actions_1.createAction("FETCH REPO COMMITS FAILED");exports.fetchFile=redux_actions_1.createAction("FETCH FILE");exports.fetchFileSuccess=redux_actions_1.createAction("FETCH FILE SUCCESS");exports.fetchFileFailed=redux_actions_1.createAction("FETCH FILE ERROR");exports.fetchDirectory=redux_actions_1.createAction("FETCH REPO DIR");exports.fetchDirectorySuccess=redux_actions_1.createAction("FETCH REPO DIR SUCCESS");exports.fetchDirectoryFailed=redux_actions_1.createAction("FETCH REPO DIR FAILED");exports.setNotFound=redux_actions_1.createAction("SET FILE NOT FOUND");exports.dirNotFound=redux_actions_1.createAction("DIR NOT FOUND");exports.fetchTreeCommits=redux_actions_1.createAction("FETCH TREE COMMITS");exports.fetchTreeCommitsSuccess=redux_actions_1.createAction("FETCH TREE COMMITS SUCCESS");exports.fetchTreeCommitsFailed=redux_actions_1.createAction("FETCH TREE COMMITS FAILED");exports.fetchMoreCommits=redux_actions_1.createAction("FETCH MORE COMMITS")},4259:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadStructure=redux_actions_1.createAction("LOAD STRUCTURE");exports.loadStructureSuccess=redux_actions_1.createAction("LOAD STRUCTURE SUCCESS");exports.loadStructureFailed=redux_actions_1.createAction("LOAD STRUCTURE FAILED");exports.openSymbolPath=redux_actions_1.createAction("OPEN SYMBOL PATH");exports.closeSymbolPath=redux_actions_1.createAction("CLOSE SYMBOL PATH")},4260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.findReferences=redux_actions_1.createAction("FIND REFERENCES");exports.findReferencesSuccess=redux_actions_1.createAction("FIND REFERENCES SUCCESS");exports.findReferencesFailed=redux_actions_1.createAction("FIND REFERENCES ERROR");exports.closeReferences=redux_actions_1.createAction("CLOSE REFERENCES");exports.hoverResult=redux_actions_1.createAction("HOVER RESULT");exports.revealPosition=redux_actions_1.createAction("REVEAL POSITION")},4261:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadConfigs=redux_actions_1.createAction("LOAD CONFIGS");exports.loadConfigsSuccess=redux_actions_1.createAction("LOAD CONFIGS SUCCESS");exports.loadConfigsFailed=redux_actions_1.createAction("LOAD CONFIGS FAILED")},4262:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.registerShortcut=redux_actions_1.createAction("REGISTER SHORTCUT");exports.unregisterShortcut=redux_actions_1.createAction("UNREGISTER SHORTCUT");exports.toggleHelp=redux_actions_1.createAction("TOGGLE SHORTCUTS HELP")},4263:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=tslib_1.__importDefault(__webpack_require__(31));var model_1=__webpack_require__(228);var types_1=__webpack_require__(344);var url_2=__webpack_require__(76);var shortcuts_1=__webpack_require__(715);var query_bar_1=__webpack_require__(1592);var SearchBar=function(_react_1$default$Pure){_inherits(SearchBar,_react_1$default$Pure);function SearchBar(){var _this;_classCallCheck(this,SearchBar);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchBar).apply(this,arguments));_this.queryBar=null;_this.onSearchChanged=function(query){var repoScopes=_this.props.searchOptions.repoScope.map(function(repo){return repo.uri});if(_this.props.searchOptions.defaultRepoScopeOn&&_this.props.searchOptions.defaultRepoScope){repoScopes.push(_this.props.searchOptions.defaultRepoScope.uri)}var previousQueries=querystring_1.default.parse(url_2.history.location.search.replace("?",""));var queries=repoScopes.length===0?_objectSpread({},previousQueries,{q:query}):_objectSpread({},previousQueries,{q:query,repoScope:repoScopes});url_2.history.push(url_1.default.format({pathname:"/search",query:queries}))};_this.onSubmit=function(q){if(q.trim().length>0){_this.onSearchChanged(q)}};_this.onSelect=function(item){url_2.history.push(item.selectUrl)};_this.suggestionProviders=[new query_bar_1.SymbolSuggestionsProvider,new query_bar_1.FileSuggestionsProvider,new query_bar_1.RepositorySuggestionsProvider];return _this}_createClass(SearchBar,[{key:"toggleOptionsFlyout",value:function toggleOptionsFlyout(){if(this.queryBar){this.queryBar.toggleOptionsFlyout()}}},{key:"render",value:function render(){var _this2=this;return react_1.default.createElement("div",{className:"codeSearchbar__container"},react_1.default.createElement(shortcuts_1.ShortcutsProvider,null),react_1.default.createElement(shortcuts_1.Shortcut,{keyCode:"p",help:types_1.SearchScopeText[model_1.SearchScope.REPOSITORY],onPress:function onPress(){_this2.props.onSearchScopeChanged(model_1.SearchScope.REPOSITORY);if(_this2.queryBar){_this2.queryBar.focusInput()}}}),react_1.default.createElement(shortcuts_1.Shortcut,{keyCode:"y",help:types_1.SearchScopeText[model_1.SearchScope.SYMBOL],onPress:function onPress(){_this2.props.onSearchScopeChanged(model_1.SearchScope.SYMBOL);if(_this2.queryBar){_this2.queryBar.focusInput()}}}),react_1.default.createElement(shortcuts_1.Shortcut,{keyCode:"s",help:types_1.SearchScopeText[model_1.SearchScope.DEFAULT],onPress:function onPress(){_this2.props.onSearchScopeChanged(model_1.SearchScope.DEFAULT);if(_this2.queryBar){_this2.queryBar.focusInput()}}}),react_1.default.createElement(query_bar_1.QueryBar,{query:this.props.query,onSubmit:this.onSubmit,onSelect:this.onSelect,appName:"code",suggestionProviders:this.suggestionProviders,onSearchScopeChanged:this.props.onSearchScopeChanged,enableSubmitWhenOptionsChanged:this.props.enableSubmitWhenOptionsChanged,ref:function ref(instance){if(instance){_this2.queryBar=instance.getWrappedInstance()}}}))}}]);return SearchBar}(react_1.default.PureComponent);exports.SearchBar=SearchBar},4264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SearchScope;(function(SearchScope){SearchScope["DEFAULT"]="default";SearchScope["SYMBOL"]="symbol";SearchScope["REPOSITORY"]="repository";SearchScope["FILE"]="file"})(SearchScope=exports.SearchScope||(exports.SearchScope={}))},4265:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function sortFileTree(a,b){if(a.type!==b.type){return b.type-a.type}else{return a.name.localeCompare(b.name)}}exports.sortFileTree=sortFileTree;var FileTreeItemType;(function(FileTreeItemType){FileTreeItemType[FileTreeItemType["File"]=0]="File";FileTreeItemType[FileTreeItemType["Directory"]=1]="Directory";FileTreeItemType[FileTreeItemType["Submodule"]=2]="Submodule";FileTreeItemType[FileTreeItemType["Link"]=3]="Link"})(FileTreeItemType=exports.FileTreeItemType||(exports.FileTreeItemType={}));var IndexStatsKey;(function(IndexStatsKey){IndexStatsKey["File"]="file-added-count";IndexStatsKey["FileDeleted"]="file-deleted-count";IndexStatsKey["Symbol"]="symbol-added-count";IndexStatsKey["SymbolDeleted"]="symbol-deleted-count";IndexStatsKey["Reference"]="reference-added-count";IndexStatsKey["ReferenceDeleted"]="reference-deleted-count"})(IndexStatsKey=exports.IndexStatsKey||(exports.IndexStatsKey={}));var WorkerReservedProgress;(function(WorkerReservedProgress){WorkerReservedProgress[WorkerReservedProgress["INIT"]=0]="INIT";WorkerReservedProgress[WorkerReservedProgress["COMPLETED"]=100]="COMPLETED";WorkerReservedProgress[WorkerReservedProgress["ERROR"]=-100]="ERROR";WorkerReservedProgress[WorkerReservedProgress["TIMEOUT"]=-200]="TIMEOUT"})(WorkerReservedProgress=exports.WorkerReservedProgress||(exports.WorkerReservedProgress={}))},4266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TaskType;(function(TaskType){TaskType[TaskType["Import"]=0]="Import";TaskType[TaskType["Update"]=1]="Update";TaskType[TaskType["Delete"]=2]="Delete";TaskType[TaskType["Index"]=3]="Index"})(TaskType=exports.TaskType||(exports.TaskType={}))},4267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SocketKind;(function(SocketKind){SocketKind["CLONE_PROGRESS"]="clone-progress";SocketKind["DELETE_PROGRESS"]="delete-progress";SocketKind["INDEX_PROGRESS"]="index-progress";SocketKind["INSTALL_PROGRESS"]="install-progress"})(SocketKind=exports.SocketKind||(exports.SocketKind={}))},4268:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var actions_1=__webpack_require__(40);var shortcut_1=__webpack_require__(1591);var ShortcutsComponent=function(_react_1$default$Comp){_inherits(ShortcutsComponent,_react_1$default$Comp);function ShortcutsComponent(props){var _this;_classCallCheck(this,ShortcutsComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShortcutsComponent).call(this,props));_this.handleKeydown=function(event){var target=event.target;var key=event.key;if(target&&target.tagName==="INPUT"){if(key==="Escape"){target.blur()}}};_this.handleKeyPress=function(event){var target=event.target;var key=event.key;if(target&&target.tagName==="INPUT"){return}var isPressed=function isPressed(s){if(s.modifier){var mods=s.modifier.get(_this.os)||[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=mods[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var mod=_step.value;switch(mod){case shortcut_1.Modifier.alt:if(!event.altKey){return false}break;case shortcut_1.Modifier.ctrl:if(!event.ctrlKey){return false}break;case shortcut_1.Modifier.meta:if(!event.metaKey){return false}break;case shortcut_1.Modifier.shift:if(!event.shiftKey){return false}break}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}return key===s.key};var isTriggered=false;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=_this.props.shortcuts[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var shortcut=_step2.value;if(isPressed(shortcut)&&shortcut.onPress){shortcut.onPress(_this.props.dispatch);isTriggered=true}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}if(isTriggered){event.preventDefault()}};_this.closeModal=function(){_this.props.dispatch(actions_1.toggleHelp(false))};if(navigator.appVersion.indexOf("Win")!==-1){_this.os=shortcut_1.OS.win}else if(navigator.appVersion.indexOf("Mac")!==-1){_this.os=shortcut_1.OS.mac}else{_this.os=shortcut_1.OS.linux}return _this}_createClass(ShortcutsComponent,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("keydown",this.handleKeydown);document.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown);document.removeEventListener("keypress",this.handleKeyPress)}},{key:"render",value:function render(){return react_1.default.createElement(react_1.default.Fragment,null,this.props.showHelp&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:this.closeModal},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,null,"Keyboard Shortcuts")),react_1.default.createElement(eui_1.EuiModalBody,null,this.renderShortcuts()),react_1.default.createElement(eui_1.EuiModalFooter,null,react_1.default.createElement(eui_1.EuiButton,{onClick:this.closeModal,fill:true},"Close")))))}},{key:"showModifier",value:function showModifier(mod){switch(mod){case shortcut_1.Modifier.meta:if(this.os===shortcut_1.OS.mac){return"⌘"}else if(this.os===shortcut_1.OS.win){return"⊞ Win"}else{return"meta"}case shortcut_1.Modifier.shift:if(this.os===shortcut_1.OS.mac){return"⇧"}else{return"shift"}case shortcut_1.Modifier.ctrl:if(this.os===shortcut_1.OS.mac){return"⌃"}else{return"ctrl"}case shortcut_1.Modifier.alt:if(this.os===shortcut_1.OS.mac){return"⌥"}else{return"alt"}}}},{key:"renderShortcuts",value:function renderShortcuts(){var _this2=this;return this.props.shortcuts.map(function(s,idx){return react_1.default.createElement("div",{key:"shortcuts_"+idx},_this2.renderModifier(s),react_1.default.createElement("span",{className:"codeShortcuts__key"},s.key),react_1.default.createElement("span",{className:"codeShortcuts__helpText"},s.help))})}},{key:"renderModifier",value:function renderModifier(hotKey){var _this3=this;if(hotKey.modifier){var modifiers=hotKey.modifier.get(this.os)||[];return modifiers.map(function(m){return react_1.default.createElement("div",{className:"codeShortcuts__key"},_this3.showModifier(m))})}else{return null}}}]);return ShortcutsComponent}(react_1.default.Component);var mapStateToProps=function mapStateToProps(state){return{shortcuts:state.shortcuts.shortcuts,showHelp:state.shortcuts.showHelp}};exports.ShortcutsProvider=react_redux_1.connect(mapStateToProps)(ShortcutsComponent)},4269:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var query_bar_1=__webpack_require__(4270);exports.QueryBar=query_bar_1.QueryBar},4270:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var lodash_1=__webpack_require__(3);var react_1=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(1);var react_redux_1=__webpack_require__(11);var actions_1=__webpack_require__(40);var match_pairs_1=__webpack_require__(4271);var suggestions_component_1=__webpack_require__(4272);var types_1=__webpack_require__(344);var options_1=__webpack_require__(4274);var scope_selector_1=__webpack_require__(4275);var KEY_CODES={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,ESC:27,TAB:9,HOME:36,END:35};var CodeQueryBar=function(_react_1$Component){_inherits(CodeQueryBar,_react_1$Component);function CodeQueryBar(){var _this;_classCallCheck(this,CodeQueryBar);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeQueryBar).apply(this,arguments));_this.state={query:_this.props.query,inputIsPristine:true,isSuggestionsVisible:false,groupIndex:null,itemIndex:null,suggestionGroups:[],showOptions:false};_this.updateSuggestions=lodash_1.debounce(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var suggestionGroups;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.getSuggestions();case 2:_context.t0=_context.sent;if(_context.t0){_context.next=5;break}_context.t0=[];case 5:suggestionGroups=_context.t0;if(!_this.componentIsUnmounting){_this.setState({suggestionGroups:suggestionGroups})}case 7:case"end":return _context.stop()}}},_callee)})),100);_this.inputRef=null;_this.optionFlyout=null;_this.componentIsUnmounting=false;_this.isDirty=function(){return _this.state.query!==_this.props.query};_this.loadMore=function(){};_this.incrementIndex=function(currGroupIndex,currItemIndex){var nextItemIndex=currItemIndex+1;if(currGroupIndex===null){currGroupIndex=0}var nextGroupIndex=currGroupIndex;var group=_this.state.suggestionGroups[currGroupIndex];if(currItemIndex===null||nextItemIndex>=group.suggestions.length){nextItemIndex=0;nextGroupIndex=currGroupIndex+1;if(nextGroupIndex>=_this.state.suggestionGroups.length){nextGroupIndex=0}}_this.setState({groupIndex:nextGroupIndex,itemIndex:nextItemIndex})};_this.decrementIndex=function(currGroupIndex,currItemIndex){var prevItemIndex=currItemIndex-1;if(currGroupIndex===null){currGroupIndex=_this.state.suggestionGroups.length-1}var prevGroupIndex=currGroupIndex;if(currItemIndex===null||prevItemIndex<0){prevGroupIndex=currGroupIndex-1;if(prevGroupIndex<0){prevGroupIndex=_this.state.suggestionGroups.length-1}var group=_this.state.suggestionGroups[prevGroupIndex];prevItemIndex=group.suggestions.length-1}_this.setState({groupIndex:prevGroupIndex,itemIndex:prevItemIndex})};_this.getSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var query,_this$inputRef,selectionStart,selectionEnd,res;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(_this.inputRef){_context2.next=2;break}return _context2.abrupt("return");case 2:query=_this.state.query;if(!(query.length===0)){_context2.next=5;break}return _context2.abrupt("return",[]);case 5:if(!(!_this.props.suggestionProviders||_this.props.suggestionProviders.length===0)){_context2.next=7;break}return _context2.abrupt("return",[]);case 7:_this$inputRef=_this.inputRef,selectionStart=_this$inputRef.selectionStart,selectionEnd=_this$inputRef.selectionEnd;if(!(selectionStart===null||selectionEnd===null)){_context2.next=10;break}return _context2.abrupt("return");case 10:if(_this.props.onSuggestionQuerySubmitted){_this.props.onSuggestionQuerySubmitted(query)}_context2.next=13;return Promise.all(_this.props.suggestionProviders.map(function(provider){var repoScopes=_this.props.searchOptions.repoScope.map(function(repo){return repo.uri});if(_this.props.searchOptions.defaultRepoScopeOn&&_this.props.searchOptions.defaultRepoScope){repoScopes.push(_this.props.searchOptions.defaultRepoScope.uri)}return provider.getSuggestions(query,_this.props.searchScope,repoScopes)}));case 13:res=_context2.sent;return _context2.abrupt("return",res.filter(function(group){return group.suggestions.length>0}));case 15:case"end":return _context2.stop()}}},_callee2)}));_this.selectSuggestion=function(item){if(!_this.inputRef){return}var _this$inputRef2=_this.inputRef,selectionStart=_this$inputRef2.selectionStart,selectionEnd=_this$inputRef2.selectionEnd;if(selectionStart===null||selectionEnd===null){return}_this.setState({query:_this.state.query,groupIndex:null,itemIndex:null,isSuggestionsVisible:false},function(){if(item){_this.props.onSelect(item,_this.state.query)}})};_this.onOutsideClick=function(){_this.setState({isSuggestionsVisible:false,groupIndex:null,itemIndex:null})};_this.onClickInput=function(event){if(event.target instanceof HTMLInputElement){_this.onInputChange(event.target.value)}};_this.onClickSubmitButton=function(event){_this.onSubmit(function(){return event.preventDefault()})};_this.onClickSuggestion=function(suggestion){if(!_this.inputRef){return}_this.selectSuggestion(suggestion);_this.inputRef.focus()};_this.onMouseEnterSuggestion=function(groupIndex,itemIndex){_this.setState({groupIndex:groupIndex,itemIndex:itemIndex})};_this.onInputChange=function(value){var hasValue=Boolean(value.trim());_this.setState({query:value,inputIsPristine:false,isSuggestionsVisible:hasValue,groupIndex:null,itemIndex:null})};_this.onChange=function(event){_this.updateSuggestions();_this.onInputChange(event.target.value)};_this.onKeyUp=function(event){if([KEY_CODES.LEFT,KEY_CODES.RIGHT,KEY_CODES.HOME,KEY_CODES.END].includes(event.keyCode)){_this.setState({isSuggestionsVisible:true});if(event.target instanceof HTMLInputElement){_this.onInputChange(event.target.value)}}};_this.onKeyDown=function(event){if(event.target instanceof HTMLInputElement){var _this$state=_this.state,isSuggestionsVisible=_this$state.isSuggestionsVisible,groupIndex=_this$state.groupIndex,itemIndex=_this$state.itemIndex;var preventDefault=event.preventDefault.bind(event);var target=event.target,key=event.key,metaKey=event.metaKey;var value=target.value,selectionStart=target.selectionStart,selectionEnd=target.selectionEnd;var updateQuery=function updateQuery(query,newSelectionStart,newSelectionEnd){_this.setState({query:query},function(){target.setSelectionRange(newSelectionStart,newSelectionEnd)})};switch(event.keyCode){case KEY_CODES.DOWN:event.preventDefault();if(isSuggestionsVisible&&groupIndex!==null&&itemIndex!==null){_this.incrementIndex(groupIndex,itemIndex)}else{_this.setState({isSuggestionsVisible:true,groupIndex:0,itemIndex:0})}break;case KEY_CODES.UP:event.preventDefault();if(isSuggestionsVisible&&groupIndex!==null&&itemIndex!==null){_this.decrementIndex(groupIndex,itemIndex)}else{var lastGroupIndex=_this.state.suggestionGroups.length-1;var group=_this.state.suggestionGroups[lastGroupIndex];if(group!==null){var lastItemIndex=group.suggestions.length-1;_this.setState({isSuggestionsVisible:true,groupIndex:lastGroupIndex,itemIndex:lastItemIndex})}}break;case KEY_CODES.ENTER:event.preventDefault();if(isSuggestionsVisible&&groupIndex!==null&&itemIndex!==null&&_this.state.suggestionGroups[groupIndex]){var _group=_this.state.suggestionGroups[groupIndex];_this.selectSuggestion(_group.suggestions[itemIndex])}else{_this.onSubmit(function(){return event.preventDefault()})}break;case KEY_CODES.ESC:event.preventDefault();_this.setState({isSuggestionsVisible:false,groupIndex:null,itemIndex:null});break;case KEY_CODES.TAB:_this.setState({isSuggestionsVisible:false,groupIndex:null,itemIndex:null});break;default:if(selectionStart!==null&&selectionEnd!==null){match_pairs_1.matchPairs({value:value,selectionStart:selectionStart,selectionEnd:selectionEnd,key:key,metaKey:metaKey,updateQuery:updateQuery,preventDefault:preventDefault})}break}}};_this.onSubmit=function(preventDefault){if(preventDefault){preventDefault()}_this.props.onSubmit(_this.state.query);_this.setState({isSuggestionsVisible:false})};return _this}_createClass(CodeQueryBar,[{key:"componentDidMount",value:function componentDidMount(){this.updateSuggestions()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.query!==this.props.query){this.updateSuggestions()}if(this.props.enableSubmitWhenOptionsChanged&&!_.isEqual(prevProps.searchOptions,this.props.searchOptions)){this.onSubmit()}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.updateSuggestions.cancel();this.componentIsUnmounting=true}},{key:"focusInput",value:function focusInput(){if(this.inputRef){this.inputRef.focus()}}},{key:"toggleOptionsFlyout",value:function toggleOptionsFlyout(){if(this.optionFlyout){this.optionFlyout.toggleOptionsFlyout()}}},{key:"render",value:function render(){var _this2=this;var inputRef=function inputRef(node){if(node){_this2.inputRef=node}};var activeDescendant=this.state.isSuggestionsVisible?"suggestion-".concat(this.state.groupIndex,"-").concat(this.state.itemIndex):"";return react_1.default.createElement(eui_1.EuiFlexGroup,{responsive:false,gutterSize:"none"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(scope_selector_1.ScopeSelector,{scope:this.props.searchScope,onScopeChanged:this.props.onSearchScopeChanged})),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiOutsideClickDetector,{onOutsideClick:this.onOutsideClick},react_1.default.createElement("div",{style:{position:"relative"},role:"combobox","aria-haspopup":"true","aria-expanded":this.state.isSuggestionsVisible,"aria-owns":"typeahead-items","aria-controls":"typeahead-items"},react_1.default.createElement("form",{name:"queryBarForm"},react_1.default.createElement("div",{className:"kuiLocalSearch",role:"search"},react_1.default.createElement("div",{className:"kuiLocalSearchAssistedInput"},react_1.default.createElement(eui_1.EuiFieldText,{className:"kuiLocalSearchAssistedInput__input",placeholder:types_1.SearchScopePlaceholderText[this.props.searchScope],value:this.state.query,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onChange:this.onChange,onClick:this.onClickInput,fullWidth:true,autoFocus:!this.props.disableAutoFocus,inputRef:inputRef,autoComplete:"off",spellCheck:false,"aria-label":"Search input",type:"text","data-test-subj":"queryInput","aria-autocomplete":"list","aria-controls":"typeahead-items","aria-activedescendant":activeDescendant,role:"textbox"}),react_1.default.createElement(options_1.SearchOptions,{defaultRepoOptions:this.props.defaultRepoOptions,defaultSearchScope:this.props.currentRepository,repositorySearch:this.props.repositorySearch,saveSearchOptions:this.props.saveSearchOptions,repoSearchResults:this.props.repoSearchResults,searchLoading:this.props.searchLoading,searchOptions:this.props.searchOptions,ref:function ref(element){return _this2.optionFlyout=element}})))),react_1.default.createElement(suggestions_component_1.SuggestionsComponent,{query:this.state.query,show:this.state.isSuggestionsVisible,suggestionGroups:this.state.suggestionGroups,groupIndex:this.state.groupIndex,itemIndex:this.state.itemIndex,onClick:this.onClickSuggestion,onMouseEnter:this.onMouseEnterSuggestion,loadMore:this.loadMore})))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(lodash_1.isEqual(prevState.currentProps,nextProps)){return null}var nextState={currentProps:nextProps};if(nextProps.query!==prevState.query){nextState.query=nextProps.query}return nextState}}]);return CodeQueryBar}(react_1.Component);exports.CodeQueryBar=CodeQueryBar;var mapStateToProps=function mapStateToProps(state){return{repoSearchResults:state.search.scopeSearchResults.repositories,searchLoading:state.search.isScopeSearchLoading,searchScope:state.search.scope,searchOptions:state.search.searchOptions,defaultRepoOptions:state.repository.repositories.slice(0,5),currentRepository:state.repository.currentRepository}};var mapDispatchToProps={repositorySearch:actions_1.searchReposForScope,saveSearchOptions:actions_1.saveSearchOptions,onSuggestionQuerySubmitted:actions_1.suggestionSearch};exports.QueryBar=react_redux_1.connect(mapStateToProps,mapDispatchToProps,null,{withRef:true})(CodeQueryBar)},4271:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var pairs=["()","[]","{}","''",'""'];var openers=pairs.map(function(pair){return pair[0]});var closers=pairs.map(function(pair){return pair[1]});function matchPairs(_ref){var value=_ref.value,selectionStart=_ref.selectionStart,selectionEnd=_ref.selectionEnd,key=_ref.key,metaKey=_ref.metaKey,updateQuery=_ref.updateQuery,preventDefault=_ref.preventDefault;if(shouldMoveCursorForward(key,value,selectionStart,selectionEnd)){preventDefault();updateQuery(value,selectionStart+1,selectionEnd+1)}else if(shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd)){preventDefault();var newValue=value.substr(0,selectionStart)+key+value.substring(selectionStart,selectionEnd)+closers[openers.indexOf(key)]+value.substr(selectionEnd);updateQuery(newValue,selectionStart+1,selectionEnd+1)}else if(shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd)){preventDefault();var _newValue=value.substr(0,selectionEnd-1)+value.substr(selectionEnd+1);updateQuery(_newValue,selectionStart-1,selectionEnd-1)}}exports.matchPairs=matchPairs;function shouldMoveCursorForward(key,value,selectionStart,selectionEnd){if(!closers.includes(key)){return false}if(selectionStart!==selectionEnd){return false}return value.charAt(selectionEnd)===key}function shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd){if(!openers.includes(key)){return false}if(selectionStart!==selectionEnd){return true}var precedingCharacter=value.charAt(selectionStart-1);var followingCharacter=value.charAt(selectionStart+1);if(precedingCharacter==="\\"){return false}return!(['"',"'"].includes(key)&&(isAlphanumeric(precedingCharacter)||isAlphanumeric(followingCharacter)))}function shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd){if(key!=="Backspace"||metaKey){return false}if(selectionStart!==selectionEnd){return false}return pairs.includes(value.substr(selectionEnd-1,2))}function isAlphanumeric(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return value.match(/[a-zA-Z0-9_]/)}},4272:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var lodash_1=__webpack_require__(3);var react_1=tslib_1.__importStar(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var url_1=tslib_1.__importDefault(__webpack_require__(31));var __1=__webpack_require__(1592);var suggestion_component_1=__webpack_require__(4273);var SuggestionsComponent=function(_react_1$Component){_inherits(SuggestionsComponent,_react_1$Component);function SuggestionsComponent(){var _this;_classCallCheck(this,SuggestionsComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(SuggestionsComponent).apply(this,arguments));_this.childNodes=[];_this.parentNode=null;_this.scrollIntoView=function(){if(_this.props.groupIndex===null||_this.props.itemIndex===null){return}var parent=_this.parentNode;var child=_this.childNodes[_this.props.itemIndex];if(_this.props.groupIndex==null||_this.props.itemIndex===null||!parent||!child){return}var scrollTop=Math.max(Math.min(parent.scrollTop,child.offsetTop),child.offsetTop+child.offsetHeight-parent.offsetHeight);parent.scrollTop=scrollTop};_this.handleScroll=function(){if(!_this.props.loadMore||!_this.parentNode){return}var position=_this.parentNode.scrollTop+_this.parentNode.offsetHeight;var height=_this.parentNode.scrollHeight;var remaining=height-position;var margin=50;if(!height||!position){return}if(remaining<=margin){_this.props.loadMore()}};return _this}_createClass(SuggestionsComponent,[{key:"viewMoreUrl",value:function viewMoreUrl(){return url_1.default.format({pathname:"/search",query:{q:this.props.query}})}},{key:"render",value:function render(){if(!this.props.show||lodash_1.isEmpty(this.props.suggestionGroups)){return null}return react_1.default.createElement("div",{className:"reactSuggestionTypeahead"},react_1.default.createElement("div",{className:"kbnTypeahead"},react_1.default.createElement("div",{className:"kbnTypeahead__popover"},this.renderSuggestionGroups(),react_1.default.createElement(react_router_dom_1.Link,{to:this.viewMoreUrl()},react_1.default.createElement("div",{className:"codeSearch__full-text-button"},"Press ⮐ Return for Full Text Search")))))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.groupIndex!==this.props.groupIndex||prevProps.itemIndex!==this.props.itemIndex){this.scrollIntoView()}}},{key:"renderSuggestionGroups",value:function renderSuggestionGroups(){var _this2=this;return this.props.suggestionGroups.filter(function(group){return group.suggestions.length>0}).map(function(group,groupIndex){var suggestions=group.suggestions,total=group.total,type=group.type,hasMore=group.hasMore;var suggestionComps=suggestions.map(function(suggestion,itemIndex){var innerRef=function innerRef(node){return _this2.childNodes[itemIndex]=node};var mouseEnter=function mouseEnter(){return _this2.props.onMouseEnter(groupIndex,itemIndex)};var isSelected=groupIndex===_this2.props.groupIndex&&itemIndex===_this2.props.itemIndex;return react_1.default.createElement(suggestion_component_1.SuggestionComponent,{query:_this2.props.query,innerRef:innerRef,selected:isSelected,suggestion:suggestion,onClick:_this2.props.onClick,onMouseEnter:mouseEnter,ariaId:"suggestion-".concat(groupIndex,"-").concat(itemIndex),key:"".concat(suggestion.tokenType," - ").concat(groupIndex,"-").concat(itemIndex," - ").concat(suggestion.text)})});var groupHeader=react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween",className:"codeSearch-suggestion__group-header"},react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",gutterSize:"none",alignItems:"center"},react_1.default.createElement(eui_1.EuiToken,{iconType:_this2.getGroupTokenType(group.type)}),react_1.default.createElement(eui_1.EuiText,{className:"codeSearch-suggestion__group-title"},_this2.getGroupTitle(group.type))),react_1.default.createElement("div",{className:"codeSearch-suggestion__group-result"},total," Result",total===1?"":"s"));var viewMore=react_1.default.createElement("div",{className:"codeSearch-suggestion__link"},react_1.default.createElement(react_router_dom_1.Link,{to:_this2.viewMoreUrl()},"View More"));return react_1.default.createElement("div",{id:"kbnTypeahead__items",className:"kbnTypeahead__items codeSearch-suggestion__group",role:"listbox","data-test-subj":"codeTypeaheadList-".concat(type),ref:function ref(node){return _this2.parentNode=node},onScroll:_this2.handleScroll,key:"".concat(type,"-suggestions")},groupHeader,suggestionComps,hasMore?viewMore:null)})}},{key:"getGroupTokenType",value:function getGroupTokenType(type){switch(type){case __1.AutocompleteSuggestionType.FILE:return"tokenFile";case __1.AutocompleteSuggestionType.REPOSITORY:return"tokenRepo";case __1.AutocompleteSuggestionType.SYMBOL:return"tokenSymbol"}}},{key:"getGroupTitle",value:function getGroupTitle(type){switch(type){case __1.AutocompleteSuggestionType.FILE:return"Files";case __1.AutocompleteSuggestionType.REPOSITORY:return"Repos";case __1.AutocompleteSuggestionType.SYMBOL:return"Symbols"}}}]);return SuggestionsComponent}(react_1.Component);exports.SuggestionsComponent=SuggestionsComponent},4273:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.SuggestionComponent=function(props){var click=function click(){return props.onClick(props.suggestion)};var renderMatchingText=function renderMatchingText(text){var index=text.indexOf(props.query);if(index<0){index=text.toLowerCase().indexOf(props.query.toLowerCase())}if(index>=0){var prefix=text.substring(0,index);var highlight=text.substring(index,index+props.query.length);var surfix=text.substring(index+props.query.length);return react_1.default.createElement("span",null,prefix,react_1.default.createElement("strong",null,highlight),surfix)}else{return text}};var icon=props.suggestion.tokenType?react_1.default.createElement("div",{className:"codeSearch-suggestion__token"},react_1.default.createElement(eui_1.EuiToken,{iconType:props.suggestion.tokenType})):null;return react_1.default.createElement("div",{className:"codeSearch__suggestion-item "+(props.selected?"codeSearch__suggestion-item--active":""),role:"option",onClick:click,onMouseEnter:props.onMouseEnter,ref:props.innerRef,id:props.ariaId,"aria-selected":props.selected},react_1.default.createElement("div",{className:"codeSearch-suggestion--inner"},icon,react_1.default.createElement("div",null,react_1.default.createElement("div",{className:"codeSearch__suggestion-text","data-test-subj":"codeTypeaheadItem"},renderMatchingText(props.suggestion.text)),react_1.default.createElement("div",{className:"codeSearch-suggestion__description"},props.suggestion.description))))}},4274:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var eui_2=__webpack_require__(1);var lodash_1=__webpack_require__(3);var react_1=tslib_1.__importStar(__webpack_require__(0));var SearchOptions=function(_react_1$Component){_inherits(SearchOptions,_react_1$Component);function SearchOptions(){var _this;_classCallCheck(this,SearchOptions);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchOptions).apply(this,arguments));_this.state={query:"",isFlyoutOpen:false,repoScope:_this.props.searchOptions.repoScope,defaultRepoScopeOn:_this.props.searchOptions.defaultRepoScopeOn};_this.applyAndClose=function(){if(_this.state.defaultRepoScopeOn&&_this.props.defaultSearchScope){_this.props.saveSearchOptions({repoScope:lodash_1.unique([].concat(_toConsumableArray(_this.state.repoScope),[_this.props.defaultSearchScope]),function(r){return r.uri}),defaultRepoScopeOn:_this.state.defaultRepoScopeOn})}else{_this.props.saveSearchOptions({repoScope:_this.state.repoScope,defaultRepoScopeOn:_this.state.defaultRepoScopeOn})}_this.setState({isFlyoutOpen:false})};_this.removeRepoScope=function(r){return function(){_this.setState(function(prevState){var nextState={repoScope:prevState.repoScope.filter(function(rs){return rs.uri!==r})};if(_this.props.defaultSearchScope&&r===_this.props.defaultSearchScope.uri){nextState.defaultRepoScopeOn=false}return nextState})}};_this.onRepoSearchChange=function(searchValue){_this.setState({query:searchValue});if(searchValue){_this.props.repositorySearch({query:searchValue})}};_this.onRepoChange=function(repos){_this.setState(function(prevState){return{repoScope:lodash_1.unique([].concat(_toConsumableArray(prevState.repoScope),_toConsumableArray(repos.map(function(r){return[].concat(_toConsumableArray(_this.props.repoSearchResults),_toConsumableArray(_this.props.defaultRepoOptions)).find(function(rs){return rs.name===r.label})}))))}})};_this.toggleOptionsFlyout=function(){_this.setState({isFlyoutOpen:!_this.state.isFlyoutOpen})};_this.closeOptionsFlyout=function(){_this.setState({isFlyoutOpen:false,repoScope:_this.props.searchOptions.repoScope,defaultRepoScopeOn:_this.props.searchOptions.defaultRepoScopeOn})};return _this}_createClass(SearchOptions,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.searchOptions.defaultRepoScopeOn!==prevProps.searchOptions.defaultRepoScopeOn){this.setState({defaultRepoScopeOn:this.props.searchOptions.defaultRepoScopeOn})}}},{key:"render",value:function render(){var _this2=this;var optionsFlyout;var repoScope=this.state.defaultRepoScopeOn&&this.props.defaultSearchScope?lodash_1.unique([].concat(_toConsumableArray(this.state.repoScope),[this.props.defaultSearchScope]),function(r){return r.uri}):this.state.repoScope;if(this.state.isFlyoutOpen){var selectedRepos=repoScope.map(function(r){return react_1.default.createElement("div",{key:r.uri},react_1.default.createElement(eui_1.EuiPanel,{paddingSize:"s"},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",alignItems:"center"},react_1.default.createElement("div",{className:"codeQueryBar"},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},r.org,"/"),react_1.default.createElement("b",null,r.name))),react_1.default.createElement(eui_2.EuiIcon,{className:"codeUtility__cursor--pointer",type:"cross",onClick:_this2.removeRepoScope(r.uri)}))),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}))});optionsFlyout=react_1.default.createElement(eui_1.EuiFlyout,{onClose:this.closeOptionsFlyout,size:"s","aria-labelledby":"flyoutSmallTitle",className:"codeSearchSettings__flyout"},react_1.default.createElement(eui_1.EuiFlyoutHeader,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h2",{id:"flyoutSmallTitle",className:""},react_1.default.createElement(eui_1.EuiNotificationBadge,{size:"m",className:"code-notification-badge"},repoScope.length),react_1.default.createElement(eui_1.EuiTextColor,{color:"secondary",className:"code-flyout-title"}," ","Search Filters"," ")))),react_1.default.createElement(eui_1.EuiFlyoutBody,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Repo Scope")),react_1.default.createElement(eui_1.EuiText,{size:"xs"},"Add indexed repos to your search scope"),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiComboBox,{placeholder:"Search to add repos",async:true,options:this.state.query?this.props.repoSearchResults.map(function(repo){return{label:repo.name}}):this.props.defaultRepoOptions.map(function(repo){return{label:repo.name}}),selectedOptions:[],isLoading:this.props.searchLoading,onChange:this.onRepoChange,onSearchChange:this.onRepoSearchChange,isClearable:true}),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),selectedRepos,react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"none"},react_1.default.createElement(eui_1.EuiButton,{onClick:this.applyAndClose,fill:true,iconSide:"right"},"Apply and Close"))))}return react_1.default.createElement("div",null,react_1.default.createElement("div",{className:"kuiLocalSearchAssistedInput__assistance"},react_1.default.createElement(eui_1.EuiButtonEmpty,{size:"xs",onClick:this.toggleOptionsFlyout},react_1.default.createElement(eui_1.EuiNotificationBadge,{size:"m",className:"code-notification-badge"},repoScope.length),react_1.default.createElement(eui_1.EuiTextColor,{color:"secondary"}," Search Filters "))),optionsFlyout)}}]);return SearchOptions}(react_1.Component);exports.SearchOptions=SearchOptions},4275:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var model_1=__webpack_require__(228);var types_1=__webpack_require__(344);var variables_1=__webpack_require__(4276);var ScopeSelector=function(_react_1$Component){_inherits(ScopeSelector,_react_1$Component);function ScopeSelector(){var _this;_classCallCheck(this,ScopeSelector);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScopeSelector).apply(this,arguments));_this.scopeOptions=[{value:model_1.SearchScope.DEFAULT,inputDisplay:react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement(eui_1.EuiIcon,{type:"bullseye"})," ",types_1.SearchScopeText[model_1.SearchScope.DEFAULT]))},{value:model_1.SearchScope.SYMBOL,inputDisplay:react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement(eui_1.EuiIcon,{type:"crosshairs"})," ",types_1.SearchScopeText[model_1.SearchScope.SYMBOL])},{value:model_1.SearchScope.REPOSITORY,inputDisplay:react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement(eui_1.EuiIcon,{type:"branch"})," ",types_1.SearchScopeText[model_1.SearchScope.REPOSITORY])},{value:model_1.SearchScope.FILE,inputDisplay:react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement(eui_1.EuiIcon,{type:"document"})," ",types_1.SearchScopeText[model_1.SearchScope.FILE])}];return _this}_createClass(ScopeSelector,[{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiSuperSelect,{style:{width:variables_1.pxToRem(200)},options:this.scopeOptions,valueOfSelected:this.props.scope,onChange:this.props.onScopeChanged})}}]);return ScopeSelector}(react_1.Component);exports.ScopeSelector=ScopeSelector},4276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rem=14;function px(value){return"".concat(value,"px")}exports.px=px;function percent(value){return"".concat(value,"%")}exports.percent=percent;function pxToRem(value){return"".concat(value/exports.rem,"rem")}exports.pxToRem=pxToRem;exports.colors={textBlue:"#0079A5",borderGrey:"#D9D9D9",white:"#fff",textGrey:"#3F3F3F"};exports.fontSizes={small:"10px",normal:"1rem",large:"18px",xlarge:"2rem"};exports.fontFamily="SFProText-Regular"},4277:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var _1=__webpack_require__(599);var AbstractSuggestionsProvider=function(){function AbstractSuggestionsProvider(){_classCallCheck(this,AbstractSuggestionsProvider);this.MAX_SUGGESTIONS_PER_GROUP=5}_createClass(AbstractSuggestionsProvider,[{key:"getSuggestions",value:function(){var _getSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query,scope,repoScope){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this.matchSearchScope(scope)){_context.next=6;break}_context.next=3;return this.fetchSuggestions(query,repoScope);case 3:return _context.abrupt("return",_context.sent);case 6:return _context.abrupt("return",new Promise(function(resolve,reject){resolve({type:_1.AutocompleteSuggestionType.SYMBOL,total:0,hasMore:false,suggestions:[]})}));case 7:case"end":return _context.stop()}}},_callee,this)}));function getSuggestions(_x,_x2,_x3){return _getSuggestions.apply(this,arguments)}return getSuggestions}()},{key:"fetchSuggestions",value:function(){var _fetchSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(query,repoScope){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise(function(resolve,reject){resolve({type:_1.AutocompleteSuggestionType.SYMBOL,total:0,hasMore:false,suggestions:[]})}));case 1:case"end":return _context2.stop()}}},_callee2)}));function fetchSuggestions(_x4,_x5){return _fetchSuggestions.apply(this,arguments)}return fetchSuggestions}()},{key:"matchSearchScope",value:function matchSearchScope(scope){return true}}]);return AbstractSuggestionsProvider}();exports.AbstractSuggestionsProvider=AbstractSuggestionsProvider},4278:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var _1=__webpack_require__(599);var repository_utils_1=__webpack_require__(514);var uri_util_1=__webpack_require__(375);var model_1=__webpack_require__(228);var SymbolSuggestionsProvider=function(_$AbstractSuggestion){_inherits(SymbolSuggestionsProvider,_$AbstractSuggestion);function SymbolSuggestionsProvider(){_classCallCheck(this,SymbolSuggestionsProvider);return _possibleConstructorReturn(this,_getPrototypeOf(SymbolSuggestionsProvider).apply(this,arguments))}_createClass(SymbolSuggestionsProvider,[{key:"matchSearchScope",value:function matchSearchScope(scope){return scope===model_1.SearchScope.DEFAULT||scope===model_1.SearchScope.SYMBOL}},{key:"fetchSuggestions",value:function(){var _fetchSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query,repoScope){var _this=this;var queryParams,res,suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;queryParams={q:query};if(repoScope&&repoScope.length>0){queryParams.repoScope=repoScope.join(",")}_context.next=5;return kfetch_1.kfetch({pathname:"/api/code/suggestions/symbol",method:"get",query:queryParams});case 5:res=_context.sent;suggestions=Array.from(res.symbols).slice(0,this.MAX_SUGGESTIONS_PER_GROUP).map(function(symbol){return{description:_this.getSymbolDescription(symbol.symbolInformation.location),end:10,start:1,text:symbol.qname,tokenType:_this.symbolKindToTokenClass(symbol.symbolInformation.kind),selectUrl:_this.getSymbolLinkUrl(symbol.symbolInformation.location)}});return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.SYMBOL,total:res.total,hasMore:res.total>this.MAX_SUGGESTIONS_PER_GROUP,suggestions:suggestions});case 10:_context.prev=10;_context.t0=_context["catch"](0);return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.SYMBOL,total:0,hasMore:false,suggestions:[]});case 13:case"end":return _context.stop()}}},_callee,this,[[0,10]])}));function fetchSuggestions(_x,_x2){return _fetchSuggestions.apply(this,arguments)}return fetchSuggestions}()},{key:"getSymbolDescription",value:function getSymbolDescription(location){try{var _uri_util_1$parseLspU=uri_util_1.parseLspUrl(location.uri),repoUri=_uri_util_1$parseLspU.repoUri,file=_uri_util_1$parseLspU.file;var repoName=uri_util_1.toRepoNameWithOrg(repoUri);return"".concat(repoName," > ").concat(file)}catch(error){return""}}},{key:"getSymbolLinkUrl",value:function getSymbolLinkUrl(location){try{return repository_utils_1.RepositoryUtils.locationToUrl(location)}catch(error){return""}}},{key:"symbolKindToTokenClass",value:function symbolKindToTokenClass(kind){switch(kind){case 1:return"tokenFile";case 2:return"tokenModule";case 3:return"tokenNamespace";case 4:return"tokenPackage";case 5:return"tokenClass";case 6:return"tokenMethod";case 7:return"tokenProperty";case 8:return"tokenField";case 9:return"tokenConstant";case 10:return"tokenEnum";case 11:return"tokenInterface";case 12:return"tokenFunction";case 13:return"tokenVariable";case 14:return"tokenConstant";case 15:return"tokenString";case 16:return"tokenNumber";case 17:return"tokenBoolean";case 18:return"tokenArray";case 19:return"tokenObject";case 20:return"tokenKey";case 21:return"tokenNull";case 22:return"tokenEnumMember";case 23:return"tokenStruct";case 24:return"tokenEvent";case 25:return"tokenOperator";case 26:return"tokenParameter";default:return"tokenElement"}}}]);return SymbolSuggestionsProvider}(_1.AbstractSuggestionsProvider);exports.SymbolSuggestionsProvider=SymbolSuggestionsProvider},4279:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3209)},4280:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3319)},4281:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(862)},4282:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var _1=__webpack_require__(599);var uri_util_1=__webpack_require__(375);var model_1=__webpack_require__(228);var FileSuggestionsProvider=function(_$AbstractSuggestion){_inherits(FileSuggestionsProvider,_$AbstractSuggestion);function FileSuggestionsProvider(){_classCallCheck(this,FileSuggestionsProvider);return _possibleConstructorReturn(this,_getPrototypeOf(FileSuggestionsProvider).apply(this,arguments))}_createClass(FileSuggestionsProvider,[{key:"matchSearchScope",value:function matchSearchScope(scope){return scope===model_1.SearchScope.DEFAULT||scope===model_1.SearchScope.FILE}},{key:"fetchSuggestions",value:function(){var _fetchSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query,repoScope){var queryParams,res,suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;queryParams={q:query};if(repoScope&&repoScope.length>0){queryParams.repoScope=repoScope.join(",")}_context.next=5;return kfetch_1.kfetch({pathname:"/api/code/suggestions/doc",method:"get",query:queryParams});case 5:res=_context.sent;suggestions=Array.from(res.results).slice(0,this.MAX_SUGGESTIONS_PER_GROUP).map(function(doc){return{description:uri_util_1.toRepoNameWithOrg(doc.uri),end:10,start:1,text:doc.filePath,tokenType:"",selectUrl:"/".concat(doc.uri,"/blob/HEAD/").concat(doc.filePath)}});return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.FILE,total:res.total,hasMore:res.total>this.MAX_SUGGESTIONS_PER_GROUP,suggestions:suggestions});case 10:_context.prev=10;_context.t0=_context["catch"](0);return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.FILE,total:0,hasMore:false,suggestions:[]});case 13:case"end":return _context.stop()}}},_callee,this,[[0,10]])}));function fetchSuggestions(_x,_x2){return _fetchSuggestions.apply(this,arguments)}return fetchSuggestions}()}]);return FileSuggestionsProvider}(_1.AbstractSuggestionsProvider);exports.FileSuggestionsProvider=FileSuggestionsProvider},4283:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var _1=__webpack_require__(599);var uri_util_1=__webpack_require__(375);var model_1=__webpack_require__(228);var RepositorySuggestionsProvider=function(_$AbstractSuggestion){_inherits(RepositorySuggestionsProvider,_$AbstractSuggestion);function RepositorySuggestionsProvider(){_classCallCheck(this,RepositorySuggestionsProvider);return _possibleConstructorReturn(this,_getPrototypeOf(RepositorySuggestionsProvider).apply(this,arguments))}_createClass(RepositorySuggestionsProvider,[{key:"matchSearchScope",value:function matchSearchScope(scope){return scope===model_1.SearchScope.DEFAULT||scope===model_1.SearchScope.REPOSITORY}},{key:"fetchSuggestions",value:function(){var _fetchSuggestions=_asyncToGenerator(regeneratorRuntime.mark(function _callee(query,repoScope){var queryParams,res,suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;queryParams={q:query};if(repoScope&&repoScope.length>0){queryParams.repoScope=repoScope.join(",")}_context.next=5;return kfetch_1.kfetch({pathname:"/api/code/suggestions/repo",method:"get",query:queryParams});case 5:res=_context.sent;suggestions=Array.from(res.repositories).slice(0,this.MAX_SUGGESTIONS_PER_GROUP).map(function(repo){return{description:repo.url,end:10,start:1,text:uri_util_1.toRepoNameWithOrg(repo.uri),tokenType:"",selectUrl:"/".concat(repo.uri)}});return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.REPOSITORY,total:res.total,hasMore:res.total>this.MAX_SUGGESTIONS_PER_GROUP,suggestions:suggestions});case 10:_context.prev=10;_context.t0=_context["catch"](0);return _context.abrupt("return",{type:_1.AutocompleteSuggestionType.REPOSITORY,total:0,hasMore:false,suggestions:[]});case 13:case"end":return _context.stop()}}},_callee,this,[[0,10]])}));function fetchSuggestions(_x,_x2){return _fetchSuggestions.apply(this,arguments)}return fetchSuggestions}()}]);return RepositorySuggestionsProvider}(_1.AbstractSuggestionsProvider);exports.RepositorySuggestionsProvider=RepositorySuggestionsProvider},4284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var eui_1=__webpack_require__(1);var capabilities_1=__webpack_require__(44);var import_project_1=__webpack_require__(4285);exports.EmptyProject=function(){var isAdmin=capabilities_1.capabilities.get().code.admin;return react_1.default.createElement("div",{className:"codeTab__projects"},react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement("div",{className:"codeTab__projects--emptyHeader"},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h1",null,"You don't have any repos yet")),react_1.default.createElement(eui_1.EuiText,{color:"subdued"},isAdmin&&react_1.default.createElement("p",null,"Let's import your first one"))),isAdmin&&react_1.default.createElement(import_project_1.ImportProject,null),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"center"},react_1.default.createElement(react_router_dom_1.Link,{to:"/setup-guide"},react_1.default.createElement(eui_1.EuiButton,null,"View the Setup Guide"))))}},4285:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var actions_1=__webpack_require__(40);var url_1=__webpack_require__(76);var CodeImportProject=function(_react_1$default$Pure){_inherits(CodeImportProject,_react_1$default$Pure);function CodeImportProject(){var _this;_classCallCheck(this,CodeImportProject);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeImportProject).apply(this,arguments));_this.state={value:"",isInvalid:false};_this.onChange=function(e){_this.setState({value:e.target.value,isInvalid:url_1.isImportRepositoryURLInvalid(e.target.value)})};_this.submitImportProject=function(){if(!url_1.isImportRepositoryURLInvalid(_this.state.value)){_this.props.importRepo(_this.state.value)}else if(!_this.state.isInvalid){_this.setState({isInvalid:true})}};_this.updateIsInvalid=function(){_this.setState({isInvalid:url_1.isImportRepositoryURLInvalid(_this.state.value)})};return _this}_createClass(CodeImportProject,[{key:"render",value:function render(){var _this$props=this.props,importLoading=_this$props.importLoading,toastMessage=_this$props.toastMessage,showToast=_this$props.showToast,toastType=_this$props.toastType;return react_1.default.createElement("div",{className:"codeContainer__import"},showToast&&react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:[{title:"",color:toastType,text:toastMessage,id:toastMessage||""}],dismissToast:this.props.closeToast,toastLifeTimeMs:6e3}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Repository URL",helpText:"e.g. https://github.com/Microsoft/TypeScript-Node-Starter",fullWidth:true,isInvalid:this.state.isInvalid,error:"The URL shouldn't be empty."},react_1.default.createElement(eui_1.EuiFieldText,{value:this.state.value,onChange:this.onChange,"aria-label":"input project url","data-test-subj":"importRepositoryUrlInputBox",isLoading:importLoading,fullWidth:true,onBlur:this.updateIsInvalid,isInvalid:this.state.isInvalid}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{className:"codeButton__projectImport",onClick:this.submitImportProject,"data-test-subj":"importRepositoryButton"},"Import"))))}}]);return CodeImportProject}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return{importLoading:state.repository.importLoading,toastMessage:state.repository.toastMessage,toastType:state.repository.toastType,showToast:state.repository.showToast}};var mapDispatchToProps={importRepo:actions_1.importRepo,closeToast:actions_1.closeToast};exports.ImportProject=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(CodeImportProject)},4286:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var installation_1=__webpack_require__(4287);var language_server_1=__webpack_require__(1593);var language_server_2=__webpack_require__(515);var icons_1=__webpack_require__(981);var LanguageServerLi=function LanguageServerLi(props){var _props$languageServer=props.languageServer,status=_props$languageServer.status,name=_props$languageServer.name;var languageIcon=function languageIcon(){if(name==="TypeScript"){return react_1.default.createElement(icons_1.TypeScriptIcon,null)}else if(name==="Java"){return react_1.default.createElement(icons_1.JavaIcon,null)}else if(name==="Go"){return react_1.default.createElement(icons_1.GoIcon,null)}};var onInstallClick=function onInstallClick(){return props.requestInstallLanguageServer(name)};var button=null;var state=null;if(status===language_server_1.LanguageServerStatus.RUNNING){state=react_1.default.createElement(eui_1.EuiText,{size:"xs"},"Running ...")}else if(status===language_server_1.LanguageServerStatus.NOT_INSTALLED){state=react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},"Not Installed")}else if(status===language_server_1.LanguageServerStatus.READY){state=react_1.default.createElement(eui_1.EuiText,{size:"xs",color:"subdued"},"Installed")}if(props.languageServer.installationType===installation_1.InstallationType.Plugin){button=react_1.default.createElement(eui_1.EuiButton,{size:"s",color:"secondary",onClick:onInstallClick},"Setup")}return react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false}," ",languageIcon()," "),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("strong",null,name)),react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement("h6",null," ",state," "))))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false}," ",button," "))))};var AdminLanguageSever=function(_react_1$default$Pure){_inherits(AdminLanguageSever,_react_1$default$Pure);function AdminLanguageSever(props,context){var _this;_classCallCheck(this,AdminLanguageSever);_this=_possibleConstructorReturn(this,_getPrototypeOf(AdminLanguageSever).call(this,props,context));_this.toggleInstruction=function(showingInstruction,name,url,pluginName){_this.setState({showingInstruction:showingInstruction,name:name,url:url,pluginName:pluginName})};_this.state={showingInstruction:false};return _this}_createClass(AdminLanguageSever,[{key:"render",value:function render(){var _this2=this;var languageServers=this.props.languageServers.map(function(ls){return react_1.default.createElement(LanguageServerLi,{languageServer:ls,key:ls.name,requestInstallLanguageServer:function requestInstallLanguageServer(){return _this2.toggleInstruction(true,ls.name,ls.downloadUrl,ls.pluginName)},loading:_this2.props.installLoading[ls.name]})});return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h3",null,this.props.languageServers.length,this.props.languageServers.length>1?react_1.default.createElement("span",null," Language servers"):react_1.default.createElement("span",null," Language server"))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",gutterSize:"s"},languageServers),react_1.default.createElement(LanguageServerInstruction,{show:this.state.showingInstruction,name:this.state.name,pluginName:this.state.pluginName,url:this.state.url,close:function close(){return _this2.toggleInstruction(false)}}))}}]);return AdminLanguageSever}(react_1.default.PureComponent);var SupportedOS=[{id:"windows",name:"Windows"},{id:"linux",name:"Linux"},{id:"darwin",name:"macOS"}];var LanguageServerInstruction=function LanguageServerInstruction(props){var tabs=SupportedOS.map(function(_ref){var id=_ref.id,name=_ref.name;var url=props.url?props.url.replace("$OS",id):"";var installCode="bin/kibana-plugin install ".concat(url);return{id:id,name:name,content:react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{grow:false},react_1.default.createElement("h3",null,"Install"),react_1.default.createElement("ol",null,react_1.default.createElement("li",null,"Stop your kibana Code node."),react_1.default.createElement("li",null,"Use the following command to install the ",props.name," language server.")),react_1.default.createElement(eui_1.EuiCodeBlock,{language:"shell"},installCode),react_1.default.createElement("h3",null,"Uninstall"),react_1.default.createElement("ol",null,react_1.default.createElement("li",null,"Stop your kibana Code node."),react_1.default.createElement("li",null,"Use the following command to remove the ",props.name," language server.")),react_1.default.createElement(eui_1.EuiCodeBlock,{language:"shell"},"bin/kibana-plugin remove ",props.pluginName)))}});return react_1.default.createElement(react_1.default.Fragment,null," ",props.show&&react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:props.close,maxWidth:false},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,null,"Installation Instructions")),react_1.default.createElement(eui_1.EuiModalBody,null,react_1.default.createElement(eui_1.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[1],size:"m"})),react_1.default.createElement(eui_1.EuiModalFooter,null,react_1.default.createElement(eui_1.EuiButton,{onClick:props.close,fill:true},"Close")))))};var mapStateToProps=function mapStateToProps(state){return{languageServers:state.languageServer.languageServers,installLoading:state.languageServer.installServerLoading}};var mapDispatchToProps={requestInstallLanguageServer:language_server_2.requestInstallLanguageServer};exports.LanguageSeverTab=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(AdminLanguageSever)},4287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var InstallationType;(function(InstallationType){InstallationType[InstallationType["Embed"]=0]="Embed";InstallationType[InstallationType["Plugin"]=1]="Plugin"})(InstallationType=exports.InstallationType||(exports.InstallationType={}))},4288:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(16));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var capabilities_1=__webpack_require__(44);var actions_1=__webpack_require__(40);var url_1=__webpack_require__(76);var project_item_1=__webpack_require__(1594);var project_settings_1=__webpack_require__(4289);var SortOptionsValue;(function(SortOptionsValue){SortOptionsValue["AlphabeticalAsc"]="alphabetical_asc";SortOptionsValue["AlphabeticalDesc"]="alphabetical_desc";SortOptionsValue["UpdatedAsc"]="updated_asc";SortOptionsValue["UpdatedDesc"]="updated_desc";SortOptionsValue["RecentlyAdded"]="recently_added"})(SortOptionsValue||(SortOptionsValue={}));var sortFunctionsFactory=function sortFunctionsFactory(status){var _sortFunctions;var sortFunctions=(_sortFunctions={},_defineProperty(_sortFunctions,SortOptionsValue.AlphabeticalAsc,function(a,b){return a.name.localeCompare(b.name)}),_defineProperty(_sortFunctions,SortOptionsValue.AlphabeticalDesc,function(a,b){return b.name.localeCompare(a.name)}),_defineProperty(_sortFunctions,SortOptionsValue.UpdatedAsc,function(a,b){return moment_1.default(status[b.uri].timestamp).diff(moment_1.default(status[a.uri].timestamp))}),_defineProperty(_sortFunctions,SortOptionsValue.UpdatedDesc,function(a,b){return moment_1.default(status[a.uri].timestamp).diff(moment_1.default(status[b.uri].timestamp))}),_defineProperty(_sortFunctions,SortOptionsValue.RecentlyAdded,function(){return-1}),_sortFunctions);return sortFunctions};var sortOptions=[{value:SortOptionsValue.AlphabeticalAsc,inputDisplay:"A to Z"},{value:SortOptionsValue.AlphabeticalDesc,inputDisplay:"Z to A"},{value:SortOptionsValue.UpdatedAsc,inputDisplay:"Last Updated ASC"},{value:SortOptionsValue.UpdatedDesc,inputDisplay:"Last Updated DESC"}];var CodeProjectTab=function(_react_1$default$Pure){_inherits(CodeProjectTab,_react_1$default$Pure);function CodeProjectTab(props){var _this;_classCallCheck(this,CodeProjectTab);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeProjectTab).call(this,props));_this.closeModal=function(){_this.setState({showImportProjectModal:false,repoURL:"",isInvalid:false})};_this.openModal=function(){_this.setState({showImportProjectModal:true})};_this.openSettingModal=function(uri,url){_this.setState({settingModal:{uri:uri,url:url,show:true}})};_this.closeSettingModal=function(){_this.setState({settingModal:{show:false}})};_this.onChange=function(e){_this.setState({repoURL:e.target.value,isInvalid:url_1.isImportRepositoryURLInvalid(e.target.value)})};_this.submitImportProject=function(){if(!url_1.isImportRepositoryURLInvalid(_this.state.repoURL)){_this.props.importRepo(_this.state.repoURL)}else if(!_this.state.isInvalid){_this.setState({isInvalid:true})}};_this.updateIsInvalid=function(){_this.setState({isInvalid:url_1.isImportRepositoryURLInvalid(_this.state.repoURL)})};_this.renderImportModal=function(){return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:_this.closeModal},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,null,"Import a new repo")),react_1.default.createElement(eui_1.EuiModalBody,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement("h3",null,"Repository URL")),react_1.default.createElement(eui_1.EuiForm,null,react_1.default.createElement(eui_1.EuiFormRow,{isInvalid:_this.state.isInvalid,error:"The URL shouldn't be empty."},react_1.default.createElement(eui_1.EuiFieldText,{value:_this.state.repoURL,onChange:_this.onChange,onBlur:_this.updateIsInvalid,placeholder:"https://github.com/Microsoft/TypeScript-Node-Starter","aria-label":"input project url","data-test-subj":"importRepositoryUrlInputBox",isLoading:_this.props.importLoading,fullWidth:true,isInvalid:_this.state.isInvalid})))),react_1.default.createElement(eui_1.EuiModalFooter,null,react_1.default.createElement(eui_1.EuiButtonEmpty,{onClick:_this.closeModal},"Cancel"),react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:_this.submitImportProject,disabled:_this.props.importLoading},"Import project"))))};_this.setSortOption=function(value){_this.setState({sortOption:value})};_this.state={importLoading:false,showImportProjectModal:false,settingModal:{show:false},repoURL:"",sortOption:SortOptionsValue.AlphabeticalAsc,isInvalid:false};return _this}_createClass(CodeProjectTab,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,projects=_this$props.projects,status=_this$props.status,toastMessage=_this$props.toastMessage,showToast=_this$props.showToast,toastType=_this$props.toastType;var projectsCount=projects.length;var modal=this.state.showImportProjectModal&&this.renderImportModal();var sortedProjects=projects.sort(sortFunctionsFactory(status)[this.state.sortOption]);var repoList=sortedProjects.map(function(repo){return react_1.default.createElement(project_item_1.ProjectItem,{openSettings:_this2.openSettingModal,key:repo.uri,project:repo,showStatus:true,status:status[repo.uri],enableManagement:capabilities_1.capabilities.get().code.admin})});var settings=null;if(this.state.settingModal.show){settings=react_1.default.createElement(project_settings_1.ProjectSettings,{onClose:this.closeSettingModal,repoUri:this.state.settingModal.uri,url:this.state.settingModal.url})}return react_1.default.createElement("div",{className:"code-sidebar","data-test-subj":"codeRepositoryList"},showToast&&react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:[{title:"",color:toastType,text:toastMessage,id:toastMessage||""}],dismissToast:this.props.closeToast,toastLifeTimeMs:6e3}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFormRow,{label:"Sort By"},react_1.default.createElement(eui_1.EuiSuperSelect,{options:sortOptions,valueOfSelected:this.state.sortOption,onChange:this.setSortOption}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:true}),react_1.default.createElement(eui_1.EuiFlexItem,null,capabilities_1.capabilities.get().code.admin&&react_1.default.createElement(eui_1.EuiButton,{className:"codeButton__projectImport",onClick:this.openModal,"data-test-subj":"newProjectButton"},"Import a new repo"))),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h3",null,projectsCount,projectsCount===1?react_1.default.createElement("span",null," Repo"):react_1.default.createElement("span",null," Repos"))),react_1.default.createElement(eui_1.EuiSpacer,null),repoList,modal,settings)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){if(state.importLoading&&!props.importLoading){return{showImportProjectModal:false,importLoading:props.importLoading,repoURL:""}}return{importLoading:props.importLoading}}}]);return CodeProjectTab}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return{projects:state.repository.repositories,status:state.status.status,importLoading:state.repository.importLoading,toastMessage:state.repository.toastMessage,toastType:state.repository.toastType,showToast:state.repository.showToast}};var mapDispatchToProps={importRepo:actions_1.importRepo,closeToast:actions_1.closeToast};exports.ProjectTab=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(CodeProjectTab)},4289:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var repository_utils_1=__webpack_require__(514);var actions_1=__webpack_require__(40);var icons_1=__webpack_require__(981);var defaultConfig={disableGo:true,disableJava:true,disableTypescript:true};var ProjectSettingsModal=function(_react_1$default$Pure){_inherits(ProjectSettingsModal,_react_1$default$Pure);function ProjectSettingsModal(){var _this;_classCallCheck(this,ProjectSettingsModal);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProjectSettingsModal).apply(this,arguments));_this.state={config:_this.props.config};_this.onSwitchChange=function(ls){return function(e){var checked=e.target.checked;_this.setState(function(prevState){return{config:_objectSpread({},prevState.config,_defineProperty({},"disable".concat(ls),!checked))}})}};_this.saveChanges=function(){_this.props.switchLanguageServer({repoUri:_this.props.repoUri,config:_this.state.config})};return _this}_createClass(ProjectSettingsModal,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,repoUri=_this$props.repoUri,languageServers=_this$props.languageServers,onClose=_this$props.onClose;var _this$state$config=this.state.config,disableJava=_this$state$config.disableJava,disableTypescript=_this$state$config.disableTypescript;var org=repository_utils_1.RepositoryUtils.orgNameFromUri(repoUri);var repoName=repository_utils_1.RepositoryUtils.repoNameFromUri(repoUri);var languageServerSwitches=languageServers.map(function(ls){var checked=ls.name==="Java"?!disableJava:!disableTypescript;return react_1.default.createElement("div",{key:ls.name},react_1.default.createElement(eui_1.EuiSwitch,{name:ls.name,label:react_1.default.createElement("span",null,ls.name==="Java"?react_1.default.createElement("div",{className:"codeSettingsPanel__icon"},react_1.default.createElement(icons_1.JavaIcon,null)):react_1.default.createElement("div",{className:"codeSettingsPanel__icon"},react_1.default.createElement(icons_1.TypeScriptIcon,null)),ls.name),checked:checked,onChange:_this2.onSwitchChange(ls.name)}))});return react_1.default.createElement(eui_1.EuiOverlayMask,null,react_1.default.createElement(eui_1.EuiModal,{onClose:onClose},react_1.default.createElement(eui_1.EuiModalHeader,null,react_1.default.createElement(eui_1.EuiModalHeaderTitle,null,react_1.default.createElement("h3",null,"Project Settings"),react_1.default.createElement(eui_1.EuiText,null,org,"/",repoName))),react_1.default.createElement(eui_1.EuiModalBody,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xxs"},react_1.default.createElement("h5",null,"Language Servers")),languageServerSwitches),react_1.default.createElement(eui_1.EuiModalFooter,null,react_1.default.createElement(eui_1.EuiButtonEmpty,null,react_1.default.createElement(react_router_dom_1.Link,{to:"/admin?tab=LanguageServers"},"Manage Language Servers")),react_1.default.createElement(eui_1.EuiButton,{onClick:this.saveChanges},"Save Changes"))))}}]);return ProjectSettingsModal}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state,ownProps){return{languageServers:state.languageServer.languageServers,config:state.repository.projectConfigs[ownProps.repoUri]||defaultConfig}};var mapDispatchToProps={switchLanguageServer:actions_1.switchLanguageServer};exports.ProjectSettings=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(ProjectSettingsModal)},4290:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var documentation_links_1=__webpack_require__(1596);var steps=[{title:"Check if multiple Kibana instances are used as a cluster",children:react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("p",null,"If you are using single Kibana instance, you can skip this step."),react_1.default.createElement("p",null,"If you are using multiple Kibana nodes, you will need to configure at least one node as a Code instance. Please add the following line of code into your kibana.yml file for every instance you wish to run Code on:"),react_1.default.createElement("pre",null,react_1.default.createElement("code",null,"xpack.code.codeNodeUrl: 'http://$YourCodeNodeAddress'")),react_1.default.createElement("p",null,"Where `$YourCodeNoteAddress` is the URL of your assigned Code node accessible by other Kibana instances."))},{title:"Install extra language support optionally",children:react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("p",null,"Look"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.codeInstallLangServer,target:"_blank"},"here")," ","to learn more about supported languages and language server installation."),react_1.default.createElement("p",null,"If you need Java language support, you can manage language server installation"," ",react_1.default.createElement(react_router_dom_1.Link,{to:"/admin?tab=LanguageServers"},"here")))},{title:"Add a repository to Code",children:react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("p",null,"Import"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.codeGettingStarted,target:"_blank"}," ","a sample repo")," ","or"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.codeRepoManagement,target:"_blank"},"your own repo"),". Simply paste your git clone URLs into Code."))},{title:"Verify the repo is successfully imported",children:react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("p",null,"You can verify your repo is successfully imported by"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.codeSearch,target:"_blank"},"searching")," ","and"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.codeOtherFeatures,target:"_blank"},"navigating")," ","the repo. If language support is available to the repo, make sure"," ",react_1.default.createElement(eui_1.EuiLink,{href:documentation_links_1.documentationLinks.semanticNavigation,target:"_blank"},"semantic navigation")," ","is available as well."))}];var toastMessage=react_1.default.createElement("div",null,react_1.default.createElement("p",null,"We’ve made some changes to roles and permissions in Kibana. Read more about what these changes mean for you below."," "),react_1.default.createElement(eui_1.EuiButton,{size:"s",href:documentation_links_1.documentationLinks.kibanaRoleManagement},"Learn more"));var SetupGuidePage=function(_react_1$default$Pure){_inherits(SetupGuidePage,_react_1$default$Pure);function SetupGuidePage(props){var _this;_classCallCheck(this,SetupGuidePage);_this=_possibleConstructorReturn(this,_getPrototypeOf(SetupGuidePage).call(this,props));_this.state={hideToast:false};return _this}_createClass(SetupGuidePage,[{key:"render",value:function render(){var _this2=this;var setup=null;if(this.props.setupOk!==undefined){setup=react_1.default.createElement("div",null,!this.state.hideToast&&react_1.default.createElement(eui_1.EuiGlobalToastList,{toasts:[{title:"Permission Changes",color:"primary",iconType:"iInCircle",text:toastMessage,id:""}],dismissToast:function dismissToast(){_this2.setState({hideToast:true})},toastLifeTimeMs:1e4}),react_1.default.createElement(react_1.default.Fragment,null,this.props.setupOk===false&&react_1.default.createElement(eui_1.EuiCallOut,{title:"Code instance not found.",color:"danger",iconType:"cross"},react_1.default.createElement("p",null,"Please follow the guide below to configure your Kibana instance. Once configured, refresh this page.")),this.props.setupOk===true&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiButton,{iconType:"sortLeft"},react_1.default.createElement(react_router_dom_1.Link,{to:"/admin"},"Back To project dashboard")),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"})),react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h3",null,"Getting started in Elastic Code")),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiSteps,{steps:steps}))))}return react_1.default.createElement("div",{className:"codeContainer__setup"},setup)}}]);return SetupGuidePage}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return{setupOk:state.setup.ok}};exports.SetupGuide=react_redux_1.connect(mapStateToProps)(SetupGuidePage)},4291:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _templateObject12(){var data=_taggedTemplateLiteral(["\n  cursor: default;\n"]);_templateObject12=function _templateObject12(){return data};return data}function _templateObject11(){var data=_taggedTemplateLiteral(["\n  height: 100%;\n  line-height: calc(48rem / 14);\n"]);_templateObject11=function _templateObject11(){return data};return data}function _templateObject10(){var data=_taggedTemplateLiteral(["\n  border-left: ",";\n  height: calc(32rem / 14);\n  line-height: calc(32rem / 14);\n  padding-left: ",";\n  margin: "," 0;\n"]);_templateObject10=function _templateObject10(){return data};return data}function _templateObject9(){var data=_taggedTemplateLiteral(["\n  margin-right: ",";\n"]);_templateObject9=function _templateObject9(){return data};return data}function _templateObject8(){var data=_taggedTemplateLiteral(["\n  border: ",";\n  border-radius: ",";\n  margin-bottom: ",";\n"]);_templateObject8=function _templateObject8(){return data};return data}function _templateObject7(){var data=_taggedTemplateLiteral(["\n  height: calc(48rem / 14);\n  border-bottom: ",";\n  padding: 0 ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);_templateObject7=function _templateObject7(){return data};return data}function _templateObject6(){var data=_taggedTemplateLiteral(["\n  padding: "," ",";\n"]);_templateObject6=function _templateObject6(){return data};return data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n  background-color: ",";\n"]);_templateObject5=function _templateObject5(){return data};return data}function _templateObject4(){var data=_taggedTemplateLiteral(["\n  padding: "," ",";\n  border-radius: ",";\n  color: white;\n  margin-right: ",";\n  background-color: ",";\n"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  display: inline-block;\n  padding: 0 ",";\n  border: ",";\n"]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  color: ",";\n"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  font-weight: bold;\n"]);_templateObject=function _templateObject(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var eui_theme_light_json_1=tslib_1.__importDefault(__webpack_require__(41));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var styled_components_1=tslib_1.__importDefault(__webpack_require__(13));var actions_1=__webpack_require__(40);var diff_editor_1=__webpack_require__(4292);var COMMIT_ID_LENGTH=16;var B=styled_components_1.default.b(_templateObject());var PrimaryB=styled_components_1.default(B)(_templateObject2(),eui_theme_light_json_1.default.euiColorPrimary);var CommitId=styled_components_1.default.span(_templateObject3(),eui_theme_light_json_1.default.paddingSizes.xs,eui_theme_light_json_1.default.euiBorderThin);var Addition=styled_components_1.default.div(_templateObject4(),eui_theme_light_json_1.default.paddingSizes.xs,eui_theme_light_json_1.default.paddingSizes.s,eui_theme_light_json_1.default.euiSizeXS,eui_theme_light_json_1.default.euiSizeS,eui_theme_light_json_1.default.euiColorDanger);var Deletion=styled_components_1.default(Addition)(_templateObject5(),eui_theme_light_json_1.default.euiColorVis0);var Container=styled_components_1.default.div(_templateObject6(),eui_theme_light_json_1.default.paddingSizes.xs,eui_theme_light_json_1.default.paddingSizes.m);var TopBarContainer=styled_components_1.default.div(_templateObject7(),eui_theme_light_json_1.default.euiBorderThin,eui_theme_light_json_1.default.paddingSizes.m);var Accordion=styled_components_1.default(eui_1.EuiAccordion)(_templateObject8(),eui_theme_light_json_1.default.euiBorderThick,eui_theme_light_json_1.default.euiSizeS,eui_theme_light_json_1.default.euiSize);var Icon=styled_components_1.default(eui_1.EuiIcon)(_templateObject9(),eui_theme_light_json_1.default.euiSizeS);var Parents=styled_components_1.default.div(_templateObject10(),eui_theme_light_json_1.default.euiBorderThin,eui_theme_light_json_1.default.paddingSizes.s,eui_theme_light_json_1.default.euiSizeS);var H4=styled_components_1.default.h4(_templateObject11());var ButtonContainer=styled_components_1.default.div(_templateObject12());var DiffLayout;(function(DiffLayout){DiffLayout[DiffLayout["Unified"]=0]="Unified";DiffLayout[DiffLayout["Split"]=1]="Split"})(DiffLayout=exports.DiffLayout||(exports.DiffLayout={}));var onClick=function onClick(e){e.preventDefault();e.stopPropagation()};var Difference=function Difference(props){return react_1.default.createElement(Accordion,{initialIsOpen:true,id:props.fileDiff.path,buttonContent:react_1.default.createElement(ButtonContainer,{role:"button",onClick:onClick},react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none"},react_1.default.createElement(Addition,null,props.fileDiff.additions),react_1.default.createElement(Deletion,null,props.fileDiff.deletions))),react_1.default.createElement(eui_1.EuiFlexItem,null,props.fileDiff.path),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement("div",{className:"euiButton euiButton--primary euiButton--small",role:"button"},react_1.default.createElement("span",{className:"euiButton__content"},react_1.default.createElement(react_router_dom_1.Link,{to:"/".concat(props.repoUri,"/blob/").concat(props.revision,"/").concat(props.fileDiff.path)},"View File"))))))},react_1.default.createElement(diff_editor_1.DiffEditor,{originCode:props.fileDiff.originCode,modifiedCode:props.fileDiff.modifiedCode,language:props.fileDiff.language,renderSideBySide:true}))};var DiffPage=function(_react_1$default$Comp){_inherits(DiffPage,_react_1$default$Comp);function DiffPage(){var _this;_classCallCheck(this,DiffPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(DiffPage).apply(this,arguments));_this.state={diffLayout:DiffLayout.Split};_this.setLayoutUnified=function(){_this.setState({diffLayout:DiffLayout.Unified})};_this.setLayoutSplit=function(){_this.setState({diffLayout:DiffLayout.Split})};return _this}_createClass(DiffPage,[{key:"render",value:function render(){var _this$props=this.props,commit=_this$props.commit,match=_this$props.match;var _match$params=match.params,repo=_match$params.repo,org=_match$params.org,resource=_match$params.resource;var repoUri="".concat(resource,"/").concat(org,"/").concat(repo);if(!commit){return null}var additions=commit.additions,deletions=commit.deletions,files=commit.files;var parents=commit.commit.parents;var title=commit.commit.message.split("\n")[0];var parentsLinks=null;if(parents.length>1){var _parents=_slicedToArray(parents,2),p1=_parents[0],p2=_parents[1];parentsLinks=react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(react_router_dom_1.Link,{to:"/".concat(repoUri,"/commit/").concat(p1)},p1),"+",react_1.default.createElement(react_router_dom_1.Link,{to:"/".concat(repoUri,"/commit/").concat(p2)},p2))}else if(parents.length===1){parentsLinks=react_1.default.createElement(react_router_dom_1.Link,{to:"/".concat(repoUri,"/commit/").concat(parents[0])},parents[0])}var topBar=react_1.default.createElement(TopBarContainer,null,react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiTitle,{size:"xs"},react_1.default.createElement(H4,null,title))),react_1.default.createElement("div",null,react_1.default.createElement(Parents,null,"Parents: ",parentsLinks)));var fileCount=files.length;var diffs=commit.files.map(function(file){return react_1.default.createElement(Difference,{repoUri:repoUri,revision:commit.commit.id,fileDiff:file,key:file.path})});return react_1.default.createElement("div",{className:"diff"},topBar,react_1.default.createElement(Container,null,react_1.default.createElement(eui_1.EuiText,null,commit.commit.message)),react_1.default.createElement(Container,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement(Icon,{type:"dataVisualizer"}),"Showing",react_1.default.createElement(PrimaryB,null," ",fileCount," Changed files "),"with",react_1.default.createElement(B,null," ",additions," additions")," and ",react_1.default.createElement(B,null,deletions," deletions "))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,null,"Committed by",react_1.default.createElement(PrimaryB,null," ",commit.commit.committer," "),react_1.default.createElement(CommitId,null,commit.commit.id.substr(0,COMMIT_ID_LENGTH)))))),react_1.default.createElement(Container,null,diffs))}}]);return DiffPage}(react_1.default.Component);exports.DiffPage=DiffPage;var mapStateToProps=function mapStateToProps(state){return{commit:state.commit.commit,query:state.search.query,repoScope:state.search.searchOptions.repoScope.map(function(r){return r.uri})}};var mapDispatchToProps={onSearchScopeChanged:actions_1.changeSearchScope};exports.Diff=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(DiffPage))},4292:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var monaco_diff_editor_1=__webpack_require__(4293);var DiffEditor=function(_react_1$default$Comp){_inherits(DiffEditor,_react_1$default$Comp);function DiffEditor(){var _this;_classCallCheck(this,DiffEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DiffEditor).apply(this,arguments));_this.diffEditor=null;_this.mountDiffEditor=function(container){_this.diffEditor=new monaco_diff_editor_1.MonacoDiffEditor(container,_this.props.originCode,_this.props.modifiedCode,_this.props.language,_this.props.renderSideBySide);_this.diffEditor.init()};return _this}_createClass(DiffEditor,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.renderSideBySide!==this.props.renderSideBySide){this.updateLayout(this.props.renderSideBySide)}}},{key:"updateLayout",value:function updateLayout(renderSideBySide){this.diffEditor.diffEditor.updateOptions({renderSideBySide:renderSideBySide})}},{key:"render",value:function render(){return react_1.default.createElement("div",{id:"diffEditor",ref:this.mountDiffEditor,style:{height:1e3}})}}]);return DiffEditor}(react_1.default.Component);exports.DiffEditor=DiffEditor},4293:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var resize_checker_1=__webpack_require__(438);var monaco_1=__webpack_require__(447);var MonacoDiffEditor=function(){function MonacoDiffEditor(container,originCode,modifiedCode,language,renderSideBySide){_classCallCheck(this,MonacoDiffEditor);this.container=container;this.originCode=originCode;this.modifiedCode=modifiedCode;this.language=language;this.renderSideBySide=renderSideBySide;this.diffEditor=null;this.resizeChecker=null}_createClass(MonacoDiffEditor,[{key:"init",value:function init(){var _this=this;return new Promise(function(resolve){var originalModel=monaco_1.monaco.editor.createModel(_this.originCode,_this.language);var modifiedModel=monaco_1.monaco.editor.createModel(_this.modifiedCode,_this.language);var diffEditor=monaco_1.monaco.editor.createDiffEditor(_this.container,{enableSplitViewResizing:false,renderSideBySide:_this.renderSideBySide,scrollBeyondLastLine:false});_this.resizeChecker=new resize_checker_1.ResizeChecker(_this.container);_this.resizeChecker.on("resize",function(){setTimeout(function(){_this.diffEditor.layout()})});diffEditor.setModel({original:originalModel,modified:modifiedModel});_this.diffEditor=diffEditor})}}]);return MonacoDiffEditor}();exports.MonacoDiffEditor=MonacoDiffEditor},4294:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(146)},4295:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(350)},4296:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(941)},4297:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3599)},4298:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3601)},4299:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3609)},4300:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(660)},4301:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3618)},4302:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3620)},4303:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3549)},4304:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3550)},4305:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3551)},4306:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3552)},4307:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3553)},4308:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3554)},4309:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3555)},4310:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3556)},4311:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3566)},4312:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3567)},4313:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3568)},4314:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3569)},4315:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3570)},4316:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3571)},4317:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3573)},4318:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3574)},4319:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3575)},4320:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3557)},4321:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3558)},4322:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3559)},4323:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3560)},4324:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3561)},4325:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3562)},4326:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3563)},4327:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3564)},4328:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3565)},4329:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3572)},4330:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var constants_1=__webpack_require__(1588);var shortcuts_1=__webpack_require__(715);var content_1=__webpack_require__(4331);var side_tabs_1=__webpack_require__(4374);var selectors_1=__webpack_require__(411);var CodeMain=function(_react_1$default$Comp){_inherits(CodeMain,_react_1$default$Comp);function CodeMain(){_classCallCheck(this,CodeMain);return _possibleConstructorReturn(this,_getPrototypeOf(CodeMain).apply(this,arguments))}_createClass(CodeMain,[{key:"componentDidMount",value:function componentDidMount(){this.setBreadcrumbs()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setBreadcrumbs()}},{key:"setBreadcrumbs",value:function setBreadcrumbs(){var _this$props$match$par=this.props.match.params,resource=_this$props$match$par.resource,org=_this$props$match$par.org,repo=_this$props$match$par.repo;chrome_1.default.breadcrumbs.set([{text:constants_1.APP_TITLE,href:"#/"},{text:"".concat(org," → ").concat(repo),href:"#/".concat(resource,"/").concat(org,"/").concat(repo)}])}},{key:"componentWillUnmount",value:function componentWillUnmount(){chrome_1.default.breadcrumbs.set([{text:constants_1.APP_TITLE,href:"#/"}])}},{key:"render",value:function render(){var _this$props=this.props,loadingFileTree=_this$props.loadingFileTree,loadingStructureTree=_this$props.loadingStructureTree,hasStructure=_this$props.hasStructure,languageServerInitializing=_this$props.languageServerInitializing;return react_1.default.createElement("div",{className:"codeContainer__root"},react_1.default.createElement("div",{className:"codeContainer__rootInner"},react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(side_tabs_1.SideTabs,{loadingFileTree:loadingFileTree,loadingStructureTree:loadingStructureTree,hasStructure:hasStructure,languageServerInitializing:languageServerInitializing}),react_1.default.createElement(content_1.Content,null))),react_1.default.createElement(shortcuts_1.ShortcutsProvider,null))}}]);return CodeMain}(react_1.default.Component);var mapStateToProps=function mapStateToProps(state){return{loadingFileTree:state.file.fileTreeLoadingPaths.includes(""),loadingStructureTree:state.symbol.loading,hasStructure:selectors_1.structureSelector(state).length>0&&!state.symbol.error,languageServerInitializing:state.symbol.languageServerInitializing}};exports.Main=react_redux_1.connect(mapStateToProps)(CodeMain)},4331:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);__webpack_require__(4332);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_markdown_1=tslib_1.__importDefault(__webpack_require__(825));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var repository_utils_1=__webpack_require__(514);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var types_1=__webpack_require__(344);var reducers_1=__webpack_require__(982);var selectors_1=__webpack_require__(411);var url_1=__webpack_require__(76);var editor_1=__webpack_require__(4344);var clone_status_1=__webpack_require__(4368);var commit_history_1=__webpack_require__(4369);var directory_1=__webpack_require__(4371);var error_panel_1=__webpack_require__(1603);var not_found_1=__webpack_require__(1604);var top_bar_1=__webpack_require__(4372);var LANG_MD="markdown";var ButtonOption;(function(ButtonOption){ButtonOption["Code"]="Code";ButtonOption["Blame"]="Blame";ButtonOption["History"]="History";ButtonOption["Folder"]="Directory"})(ButtonOption||(ButtonOption={}));var ButtonLabel;(function(ButtonLabel){ButtonLabel["Code"]="Code";ButtonLabel["Content"]="Content";ButtonLabel["Download"]="Download";ButtonLabel["Raw"]="Raw"})(ButtonLabel||(ButtonLabel={}));var CodeContent=function(_react_1$default$Pure){_inherits(CodeContent,_react_1$default$Pure);function CodeContent(){var _this;_classCallCheck(this,CodeContent);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeContent).apply(this,arguments));_this.findNode=function(pathSegments,node){if(!node){return undefined}else if(pathSegments.length===0){return node}else if(pathSegments.length===1){return(node.children||[]).find(function(n){return n.name===pathSegments[0]})}else{var currentFolder=pathSegments.shift();var nextNode=(node.children||[]).find(function(n){return n.name===currentFolder});if(nextNode){return _this.findNode(pathSegments,nextNode)}else{return undefined}}};_this.switchButton=function(id){var _this$props$match$par=_this.props.match.params,path=_this$props$match$par.path,resource=_this$props$match$par.resource,org=_this$props$match$par.org,repo=_this$props$match$par.repo,revision=_this$props$match$par.revision;var repoUri="".concat(resource,"/").concat(org,"/").concat(repo);switch(id){case ButtonOption.Code:url_1.history.push("/".concat(repoUri,"/").concat(types_1.PathTypes.blob,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path||""));break;case ButtonOption.Folder:url_1.history.push("/".concat(repoUri,"/").concat(types_1.PathTypes.tree,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path||""));break;case ButtonOption.Blame:url_1.history.push("/".concat(repoUri,"/").concat(types_1.PathTypes.blame,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path||""));break;case ButtonOption.History:url_1.history.push("/".concat(repoUri,"/").concat(types_1.PathTypes.commits,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path||""));break}};_this.openRawFile=function(){var _this$props$match$par2=_this.props.match.params,path=_this$props$match$par2.path,resource=_this$props$match$par2.resource,org=_this$props$match$par2.org,repo=_this$props$match$par2.repo,revision=_this$props$match$par2.revision;var repoUri="".concat(resource,"/").concat(org,"/").concat(repo);window.open(chrome_1.default.addBasePath("/app/code/repo/".concat(repoUri,"/raw/").concat(url_1.encodeRevisionString(revision),"/").concat(path)))};_this.renderButtons=function(){var buttonId;switch(_this.props.match.params.pathType){case types_1.PathTypes.blame:buttonId=ButtonOption.Blame;break;case types_1.PathTypes.blob:buttonId=ButtonOption.Code;break;case types_1.PathTypes.tree:buttonId=ButtonOption.Folder;break;case types_1.PathTypes.commits:buttonId=ButtonOption.History;break;default:break}var currentTree=_this.props.currentTree;if(_this.props.file&&currentTree&&(currentTree.type===model_1.FileTreeItemType.File||currentTree.type===model_1.FileTreeItemType.Link)){var _this$props$file=_this.props.file,isUnsupported=_this$props$file.isUnsupported,isOversize=_this$props$file.isOversize,isImage=_this$props$file.isImage,lang=_this$props$file.lang;var isMarkdown=lang===LANG_MD;var isText=!isUnsupported&&!isOversize&&!isImage;var buttonOptions=[{id:ButtonOption.Code,label:isText&&!isMarkdown?ButtonLabel.Code:ButtonLabel.Content},{id:ButtonOption.Blame,label:ButtonOption.Blame,isDisabled:isUnsupported||isImage||isOversize},{id:ButtonOption.History,label:ButtonOption.History}];var rawButtonOptions=[{id:"Raw",label:isText?ButtonLabel.Raw:ButtonLabel.Download}];return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"none"},react_1.default.createElement(eui_1.EuiButtonGroup,{buttonSize:"s",color:"primary",options:buttonOptions,type:"single",idSelected:buttonId,onChange:_this.switchButton,className:"codeButtonGroup"}),react_1.default.createElement(eui_1.EuiButtonGroup,{buttonSize:"s",color:"primary",options:rawButtonOptions,type:"single",idSelected:"",onChange:_this.openRawFile,className:"codeButtonGroup"}))}else{return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"none"},react_1.default.createElement(eui_1.EuiButtonGroup,{buttonSize:"s",color:"primary",options:[{id:ButtonOption.Folder,label:ButtonOption.Folder},{id:ButtonOption.History,label:ButtonOption.History}],type:"single",idSelected:buttonId,onChange:_this.switchButton}))}};return _this}_createClass(CodeContent,[{key:"render",value:function render(){return react_1.default.createElement("div",{className:"codeContainer__main"},react_1.default.createElement(top_bar_1.TopBar,{routeParams:this.props.match.params,onSearchScopeChanged:this.props.onSearchScopeChanged,buttons:this.renderButtons(),searchOptions:this.props.searchOptions,branches:this.props.branches,query:this.props.query}),this.renderContent())}},{key:"shouldRenderCloneProgress",value:function shouldRenderCloneProgress(){if(!this.props.repoStatus){return false}var _this$props$repoStatu=this.props.repoStatus,progress=_this$props$repoStatu.progress,cloneProgress=_this$props$repoStatu.cloneProgress,state=_this$props$repoStatu.state;return!!progress&&state===reducers_1.RepoState.CLONING&&progress<model_1.WorkerReservedProgress.COMPLETED&&!repository_utils_1.RepositoryUtils.hasFullyCloned(cloneProgress)}},{key:"renderCloneProgress",value:function renderCloneProgress(){if(!this.props.repoStatus){return null}var _this$props$repoStatu2=this.props.repoStatus,progress=_this$props$repoStatu2.progress,cloneProgress=_this$props$repoStatu2.cloneProgress;var _this$props$match$par3=this.props.match.params,org=_this$props$match$par3.org,repo=_this$props$match$par3.repo;return react_1.default.createElement(clone_status_1.CloneStatus,{repoName:"".concat(org,"/").concat(repo),progress:progress?progress:0,cloneProgress:cloneProgress})}},{key:"renderContent",value:function renderContent(){var _this$props=this.props,file=_this$props.file,match=_this$props.match,tree=_this$props.tree,fileTreeLoadingPaths=_this$props.fileTreeLoadingPaths,isNotFound=_this$props.isNotFound,notFoundDirs=_this$props.notFoundDirs;var _match$params=match.params,path=_match$params.path,pathType=_match$params.pathType,resource=_match$params.resource,org=_match$params.org,repo=_match$params.repo,revision=_match$params.revision;if(this.shouldRenderCloneProgress()){return this.renderCloneProgress()}if(isNotFound||notFoundDirs.includes(path||"")){return react_1.default.createElement(not_found_1.NotFound,null)}var repoUri="".concat(resource,"/").concat(org,"/").concat(repo);switch(pathType){case types_1.PathTypes.tree:var node=this.findNode(path?path.split("/"):[],tree);return react_1.default.createElement("div",{className:"codeContainer__directoryView"},react_1.default.createElement(directory_1.Directory,{node:node,loading:fileTreeLoadingPaths.includes(path)}),react_1.default.createElement(commit_history_1.CommitHistory,{repoUri:repoUri,header:react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s",className:"codeMargin__title"},react_1.default.createElement("h3",null,"Recent Commits")),react_1.default.createElement(eui_1.EuiButton,{size:"s",href:"#/".concat(resource,"/").concat(org,"/").concat(repo,"/").concat(types_1.PathTypes.commits,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path||"")},"View All"))}));case types_1.PathTypes.blob:if(!file){return null}var fileLanguage=file.lang,fileContent=file.content,isUnsupported=file.isUnsupported,isOversize=file.isOversize,isImage=file.isImage;if(isUnsupported){return react_1.default.createElement(error_panel_1.ErrorPanel,{title:react_1.default.createElement("h2",null,"Unsupported File"),content:"Unfortunately that’s an unsupported file type and we’re unable to render it here."})}if(isOversize){return react_1.default.createElement(error_panel_1.ErrorPanel,{title:react_1.default.createElement("h2",null,"File is too big"),content:"Sorry about that, but we can’t show files that are this big right now."})}if(fileLanguage===LANG_MD){var markdownRenderers={link:function link(_ref){var children=_ref.children,href=_ref.href;return react_1.default.createElement(eui_1.EuiLink,{href:href,target:"_blank"},children)}};return react_1.default.createElement("div",{className:"markdown-body code-markdown-container kbnMarkdown__body"},react_1.default.createElement(react_markdown_1.default,{source:fileContent,escapeHtml:true,skipHtml:true,renderers:markdownRenderers}))}else if(isImage){var rawUrl=chrome_1.default.addBasePath("/app/code/repo/".concat(repoUri,"/raw/").concat(revision,"/").concat(path));return react_1.default.createElement("div",{className:"code-auto-margin"},react_1.default.createElement("img",{src:rawUrl,alt:rawUrl}))}return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",className:"codeContainer__blame",gutterSize:"none"},react_1.default.createElement(editor_1.Editor,{showBlame:false}));case types_1.PathTypes.blame:return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",className:"codeContainer__blame",gutterSize:"none"},react_1.default.createElement(editor_1.Editor,{showBlame:true}));case types_1.PathTypes.commits:return react_1.default.createElement("div",{className:"codeContainer__history"},react_1.default.createElement(commit_history_1.CommitHistory,{repoUri:repoUri,header:react_1.default.createElement(eui_1.EuiTitle,{className:"codeMargin__title"},react_1.default.createElement("h3",null,"Commit History")),showPagination:true}))}}}]);return CodeContent}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return{isNotFound:state.file.isNotFound,notFoundDirs:state.file.notFoundDirs,file:state.file.file,tree:state.file.tree,fileTreeLoadingPaths:state.file.fileTreeLoadingPaths,currentTree:selectors_1.currentTreeSelector(state),branches:state.file.branches,hasMoreCommits:selectors_1.hasMoreCommitsSelector(state),loadingCommits:state.file.loadingCommits,repoStatus:selectors_1.statusSelector(state,selectors_1.repoUriSelector(state)),searchOptions:state.search.searchOptions,query:state.search.query}};var mapDispatchToProps={onSearchScopeChanged:actions_1.changeSearchScope};exports.Content=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(CodeContent))},4332:function(module,exports,__webpack_require__){},4333:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var blame_1=__webpack_require__(1597);var initialState={blames:[],loading:false};exports.blame=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(blame_1.loadBlame),function(state){return immer_1.default(state,function(draft){draft.loading=true})}),_defineProperty(_redux_actions_1$hand,String(blame_1.loadBlameSuccess),function(state,action){return immer_1.default(state,function(draft){draft.blames=action.payload;draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(blame_1.loadBlameFailed),function(state,action){return immer_1.default(state,function(draft){draft.loading=false;draft.error=action.payload;draft.blames=[]})}),_redux_actions_1$hand),initialState)},4334:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var commit_1=__webpack_require__(1589);var initialState={commit:null,loading:false};exports.commit=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(commit_1.loadCommit),function(state,action){return immer_1.default(state,function(draft){draft.loading=true})}),_defineProperty(_redux_actions_1$hand,String(commit_1.loadCommitSuccess),function(state,action){return immer_1.default(state,function(draft){draft.commit=action.payload;draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(commit_1.loadCommitFailed),function(state,action){return immer_1.default(state,function(draft){draft.commit=null;draft.loading=false})}),_redux_actions_1$hand),initialState)},4335:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var initialState={loading:false,showing:false,references:[],referencesTitle:""};exports.editor=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.findReferences),function(state,action){return immer_1.default(state,function(draft){draft.refPayload=action.payload;draft.showing=true;draft.loading=true;draft.references=initialState.references;draft.hover=state.currentHover;draft.referencesTitle=initialState.referencesTitle})}),_defineProperty(_redux_actions_1$hand,String(actions_1.findReferencesSuccess),function(state,action){return immer_1.default(state,function(draft){var _action$payload=action.payload,title=_action$payload.title,repos=_action$payload.repos;draft.references=repos;draft.referencesTitle=title;draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.findReferencesFailed),function(state){return immer_1.default(state,function(draft){draft.references=[];draft.loading=false;draft.refPayload=undefined})}),_defineProperty(_redux_actions_1$hand,String(actions_1.closeReferences),function(state){return immer_1.default(state,function(draft){draft.showing=false;draft.loading=false;draft.refPayload=undefined;draft.references=[]})}),_defineProperty(_redux_actions_1$hand,String(actions_1.hoverResult),function(state,action){return immer_1.default(state,function(draft){draft.currentHover=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.revealPosition),function(state,action){return immer_1.default(state,function(draft){draft.revealPosition=action.payload})}),_redux_actions_1$hand),initialState)},4336:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ReferenceType;(function(ReferenceType){ReferenceType[ReferenceType["BRANCH"]=0]="BRANCH";ReferenceType[ReferenceType["TAG"]=1]="TAG";ReferenceType[ReferenceType["REMOTE_BRANCH"]=2]="REMOTE_BRANCH";ReferenceType[ReferenceType["OTHER"]=3]="OTHER"})(ReferenceType=exports.ReferenceType||(exports.ReferenceType={}))},4337:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var language_server_1=__webpack_require__(1593);var language_server_2=__webpack_require__(515);var initialState={languageServers:[],loading:false,installServerLoading:{}};exports.languageServer=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(language_server_2.loadLanguageServers),function(state,action){return immer_1.default(state,function(draft){draft.loading=true})}),_defineProperty(_redux_actions_1$hand,String(language_server_2.loadLanguageServersSuccess),function(state,action){return immer_1.default(state,function(draft){draft.languageServers=action.payload;draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(language_server_2.loadLanguageServersFailed),function(state,action){return immer_1.default(state,function(draft){draft.languageServers=[];draft.loading=false})}),_defineProperty(_redux_actions_1$hand,String(language_server_2.requestInstallLanguageServer),function(state,action){return immer_1.default(state,function(draft){draft.installServerLoading[action.payload]=true})}),_defineProperty(_redux_actions_1$hand,String(language_server_2.requestInstallLanguageServerSuccess),function(state,action){return immer_1.default(state,function(draft){draft.installServerLoading[action.payload]=false;draft.languageServers.find(function(ls){return ls.name===action.payload}).status=language_server_1.LanguageServerStatus.READY})}),_redux_actions_1$hand),initialState)},4338:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var ToastType;(function(ToastType){ToastType["danger"]="danger";ToastType["success"]="success";ToastType["warning"]="warning"})(ToastType=exports.ToastType||(exports.ToastType={}));var initialState={repositories:[],loading:false,importLoading:false,showToast:false,projectConfigs:{},repoNotFound:false};exports.repository=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepos),function(state){return immer_1.default(state,function(draft){draft.loading=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchReposSuccess),function(state,action){return immer_1.default(state,function(draft){draft.loading=false;draft.repositories=action.payload||[]})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchReposFailed),function(state,action){if(action.payload){return immer_1.default(state,function(draft){draft.error=action.payload;draft.loading=false})}else{return state}}),_defineProperty(_redux_actions_1$hand,String(actions_1.deleteRepoFinished),function(state,action){return immer_1.default(state,function(draft){draft.repositories=state.repositories.filter(function(repo){return repo.uri!==action.payload})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.importRepo),function(state){return immer_1.default(state,function(draft){draft.importLoading=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.importRepoSuccess),function(state,action){return immer_1.default(state,function(draft){draft.importLoading=false;draft.showToast=true;draft.toastType=ToastType.success;draft.toastMessage="".concat(action.payload.name," has been successfully submitted!");draft.repositories=[].concat(_toConsumableArray(state.repositories),[action.payload])})}),_defineProperty(_redux_actions_1$hand,String(actions_1.importRepoFailed),function(state,action){return immer_1.default(state,function(draft){if(action.payload){if(action.payload.res.status===304){draft.toastMessage="This Repository has already been imported!";draft.showToast=true;draft.toastType=ToastType.warning;draft.importLoading=false}else{draft.toastMessage=action.payload.body.message;draft.showToast=true;draft.toastType=ToastType.danger;draft.importLoading=false}}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.closeToast),function(state,action){return immer_1.default(state,function(draft){draft.showToast=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.fetchRepoConfigSuccess),function(state,action){return immer_1.default(state,function(draft){draft.repoConfigs=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadConfigsSuccess),function(state,action){return immer_1.default(state,function(draft){draft.projectConfigs=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadRepo),function(state,action){return immer_1.default(state,function(draft){draft.currentRepository=undefined;draft.repoNotFound=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadRepoSuccess),function(state,action){return immer_1.default(state,function(draft){draft.currentRepository=action.payload;draft.repoNotFound=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadRepoFailed),function(state,action){return immer_1.default(state,function(draft){draft.currentRepository=undefined;draft.repoNotFound=true})}),_redux_actions_1$hand),initialState)},4339:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var initialState={match:{}};exports.route=redux_actions_1.handleActions(_defineProperty({},String(actions_1.routeChange),function(state,action){return immer_1.default(state,function(draft){draft.match=action.payload})}),initialState)},4340:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var initialState={query:"",isLoading:false,isScopeSearchLoading:false,scope:model_1.SearchScope.DEFAULT,searchOptions:{repoScope:[],defaultRepoScopeOn:false},scopeSearchResults:{repositories:[]}};exports.search=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.changeSearchScope),function(state,action){return immer_1.default(state,function(draft){if(Object.values(model_1.SearchScope).includes(action.payload)){draft.scope=action.payload}else{draft.scope=model_1.SearchScope.DEFAULT}draft.isLoading=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.documentSearch),function(state,action){return immer_1.default(state,function(draft){if(action.payload){draft.query=action.payload.query;draft.page=parseInt(action.payload.page,10);if(action.payload.languages){draft.languages=new Set(decodeURIComponent(action.payload.languages).split(","))}else{draft.languages=new Set}if(action.payload.repositories){draft.repositories=new Set(decodeURIComponent(action.payload.repositories).split(","))}else{draft.repositories=new Set}draft.isLoading=true;draft.error=undefined}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.documentSearchSuccess),function(state,action){return immer_1.default(state,function(draft){var _action$payload=action.payload,from=_action$payload.from,page=_action$payload.page,totalPage=_action$payload.totalPage,results=_action$payload.results,total=_action$payload.total,repoAggregations=_action$payload.repoAggregations,langAggregations=_action$payload.langAggregations,took=_action$payload.took;draft.isLoading=false;var repoStats=repoAggregations.map(function(agg){return{name:agg.key,value:agg.doc_count}});var languageStats=langAggregations.map(function(agg){return{name:agg.key,value:agg.doc_count}});draft.documentSearchResults=_objectSpread({},draft.documentSearchResults,{query:state.query,total:total,took:took,stats:{total:total,from:from+1,to:from+results.length,page:page,totalPage:totalPage,repoStats:repoStats,languageStats:languageStats},results:results})})}),_defineProperty(_redux_actions_1$hand,String(actions_1.documentSearchFailed),function(state,action){if(action.payload){return immer_1.default(state,function(draft){draft.isLoading=false;draft.error=action.payload})}else{return state}}),_defineProperty(_redux_actions_1$hand,String(actions_1.suggestionSearch),function(state,action){return immer_1.default(state,function(draft){if(action.payload){draft.query=action.payload}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.repositorySearch),function(state,action){return immer_1.default(state,function(draft){if(action.payload){draft.query=action.payload.query;draft.isLoading=true}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.repositorySearchSuccess),function(state,action){return immer_1.default(state,function(draft){draft.repositorySearchResults=action.payload;draft.isLoading=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.repositorySearchFailed),function(state,action){if(action.payload){return immer_1.default(state,function(draft){draft.isLoading=false;draft.error=action.payload.error})}else{return state}}),_defineProperty(_redux_actions_1$hand,String(actions_1.saveSearchOptions),function(state,action){return immer_1.default(state,function(draft){draft.searchOptions=action.payload})}),_defineProperty(_redux_actions_1$hand,String(actions_1.searchReposForScope),function(state,action){return immer_1.default(state,function(draft){draft.isScopeSearchLoading=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.searchReposForScopeSuccess),function(state,action){return immer_1.default(state,function(draft){draft.scopeSearchResults=action.payload;draft.isScopeSearchLoading=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.turnOnDefaultRepoScope),function(state,action){return immer_1.default(state,function(draft){draft.searchOptions.defaultRepoScope=action.payload;draft.searchOptions.defaultRepoScopeOn=true})}),_defineProperty(_redux_actions_1$hand,String(actions_1.turnOffDefaultRepoScope),function(state,action){return immer_1.default(state,function(draft){delete draft.searchOptions.defaultRepoScope;draft.searchOptions.defaultRepoScopeOn=false})}),_redux_actions_1$hand),initialState)},4341:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var initialState={};exports.setup=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.checkSetupFailed),function(state){return immer_1.default(state,function(draft){draft.ok=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.checkSetupSuccess),function(state){return immer_1.default(state,function(draft){draft.ok=true})}),_redux_actions_1$hand),initialState)},4342:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var helpShortcut={key:"?",help:"Display this page",modifier:new Map,onPress:function onPress(dispatch){dispatch(actions_1.toggleHelp(null))}};var initialState={showHelp:false,shortcuts:[helpShortcut]};exports.shortcuts=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.toggleHelp),function(state,action){return immer_1.default(state,function(draft){if(action.payload===null){draft.showHelp=!state.showHelp}else{draft.showHelp=action.payload}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.registerShortcut),function(state,action){return immer_1.default(state,function(draft){var hotKey=action.payload;draft.shortcuts.push(hotKey)})}),_defineProperty(_redux_actions_1$hand,String(actions_1.unregisterShortcut),function(state,action){return immer_1.default(state,function(draft){var hotKey=action.payload;var idx=state.shortcuts.indexOf(hotKey);if(idx>=0){draft.shortcuts.splice(idx,1)}})}),_redux_actions_1$hand),initialState)},4343:function(module,exports,__webpack_require__){"use strict";var _redux_actions_1$hand;function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var immer_1=tslib_1.__importDefault(__webpack_require__(300));var redux_actions_1=__webpack_require__(20);var actions_1=__webpack_require__(40);var language_server_1=__webpack_require__(515);var initialState={symbols:{},loading:false,structureTree:{},closedPaths:[],languageServerInitializing:false};exports.symbol=redux_actions_1.handleActions((_redux_actions_1$hand={},_defineProperty(_redux_actions_1$hand,String(actions_1.loadStructure),function(state,action){return immer_1.default(state,function(draft){draft.loading=true;draft.lastRequestPath=action.payload||""})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadStructureSuccess),function(state,action){return immer_1.default(state,function(draft){draft.loading=false;var _action$payload=action.payload,path=_action$payload.path,data=_action$payload.data,structureTree=_action$payload.structureTree;draft.structureTree[path]=structureTree;draft.symbols=_objectSpread({},state.symbols,_defineProperty({},path,data));draft.languageServerInitializing=false;draft.error=undefined})}),_defineProperty(_redux_actions_1$hand,String(actions_1.loadStructureFailed),function(state,action){return immer_1.default(state,function(draft){if(action.payload){draft.loading=false;draft.error=action.payload}draft.languageServerInitializing=false})}),_defineProperty(_redux_actions_1$hand,String(actions_1.closeSymbolPath),function(state,action){return immer_1.default(state,function(draft){var path=action.payload;if(!state.closedPaths.includes(path)){draft.closedPaths.push(path)}})}),_defineProperty(_redux_actions_1$hand,String(actions_1.openSymbolPath),function(state,action){return immer_1.default(state,function(draft){var idx=state.closedPaths.indexOf(action.payload);if(idx>=0){draft.closedPaths.splice(idx,1)}})}),_defineProperty(_redux_actions_1$hand,String(language_server_1.languageServerInitializing),function(state){return immer_1.default(state,function(draft){draft.languageServerInitializing=true})}),_redux_actions_1$hand),initialState)},4344:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var actions_1=__webpack_require__(40);var blame_widget_1=__webpack_require__(4345);var monaco_1=__webpack_require__(447);var monaco_helper_1=__webpack_require__(4347);var selectors_1=__webpack_require__(411);var url_1=__webpack_require__(76);var shortcuts_1=__webpack_require__(715);var references_panel_1=__webpack_require__(4367);var url_2=__webpack_require__(76);var EditorComponent=function(_react_1$default$Comp){_inherits(EditorComponent,_react_1$default$Comp);function EditorComponent(props,context){var _this;_classCallCheck(this,EditorComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditorComponent).call(this,props,context));_this.lineDecorations=null;return _this}_createClass(EditorComponent,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.container=document.getElementById("mainEditor");this.monaco=new monaco_helper_1.MonacoHelper(this.container,this.props,this.props.location.search);var file=this.props.file;if(file&&file.content){var _file$payload=file.payload,uri=_file$payload.uri,path=_file$payload.path,revision=_file$payload.revision;var qs=this.props.location.search;this.loadText(file.content,uri,path,file.lang,revision,qs).then(function(){if(_this2.props.revealPosition){_this2.revealPosition(_this2.props.revealPosition)}if(_this2.props.showBlame){_this2.loadBlame(_this2.props.blames)}})}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this3=this;var file=this.props.file;var _file$payload2=file.payload,uri=_file$payload2.uri,path=_file$payload2.path,revision=_file$payload2.revision;var _this$props$match$par=this.props.match.params,resource=_this$props$match$par.resource,org=_this$props$match$par.org,repo=_this$props$match$par.repo,routeRevision=_this$props$match$par.revision,routePath=_this$props$match$par.path;var prevContent=prevProps.file&&prevProps.file.content;var qs=this.props.location.search;if(prevContent!==file.content||qs!==prevProps.location.search){this.loadText(file.content,uri,path,file.lang,revision,qs).then(function(){if(_this3.props.revealPosition){_this3.revealPosition(_this3.props.revealPosition)}})}else if(file.payload.uri==="".concat(resource,"/").concat(org,"/").concat(repo)&&file.payload.revision===routeRevision&&file.payload.path===routePath&&prevProps.revealPosition!==this.props.revealPosition){this.revealPosition(this.props.revealPosition)}if(this.monaco&&qs!==prevProps.location.search){this.monaco.updateUrlQuery(qs)}if(this.monaco&&this.monaco.editor){if(prevProps.showBlame!==this.props.showBlame&&this.props.showBlame){this.loadBlame(this.props.blames);this.monaco.editor.updateOptions({lineHeight:38})}else if(!this.props.showBlame){this.destroyBlameWidgets();this.monaco.editor.updateOptions({lineHeight:18,lineDecorationsWidth:16})}if(prevProps.blames!==this.props.blames&&this.props.showBlame){this.loadBlame(this.props.blames);this.monaco.editor.updateOptions({lineHeight:38,lineDecorationsWidth:316})}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.monaco.destroy()}},{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiFlexItem,{"data-test-subj":"codeSourceViewer",className:"codeOverflowHidden",grow:1},react_1.default.createElement(shortcuts_1.Shortcut,{keyCode:"f",help:"With editor ‘active’ Find in file",linuxModifier:[shortcuts_1.Modifier.ctrl],macModifier:[shortcuts_1.Modifier.meta],winModifier:[shortcuts_1.Modifier.ctrl]}),react_1.default.createElement("div",{tabIndex:0,className:"codeContainer__editor",id:"mainEditor"}),this.renderReferences())}},{key:"loadBlame",value:function loadBlame(blames){var _this4=this;if(this.blameWidgets){this.destroyBlameWidgets()}this.blameWidgets=blames.map(function(b,index){return new blame_widget_1.BlameWidget(b,index===0,_this4.monaco.editor)});if(!this.lineDecorations){this.lineDecorations=this.monaco.editor.deltaDecorations([],[{range:new monaco_1.monaco.Range(1,1,Infinity,1),options:{isWholeLine:true,linesDecorationsClassName:"code-line-decoration"}}])}}},{key:"destroyBlameWidgets",value:function destroyBlameWidgets(){if(this.blameWidgets){this.blameWidgets.forEach(function(bw){return bw.destroy()})}if(this.lineDecorations){this.monaco.editor.deltaDecorations(this.lineDecorations,[]);this.lineDecorations=null}this.blameWidgets=null}},{key:"loadText",value:function(){var _loadText=_asyncToGenerator(regeneratorRuntime.mark(function _callee(text,repo,file,lang,revision,qs){var _this5=this;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this.monaco){_context.next=5;break}_context.next=3;return this.monaco.loadFile(repo,file,text,lang,revision);case 3:this.editor=_context.sent;this.editor.onMouseDown(function(e){if(e.target.type===monaco_1.monaco.editor.MouseTargetType.GUTTER_LINE_NUMBERS){var uri="".concat(repo,"/blob/").concat(url_2.encodeRevisionString(revision),"/").concat(file);url_1.history.push("/".concat(uri,"!L").concat(e.target.position.lineNumber,":0").concat(qs))}_this5.monaco.container.focus()});case 5:case"end":return _context.stop()}}},_callee,this)}));function loadText(_x,_x2,_x3,_x4,_x5,_x6){return _loadText.apply(this,arguments)}return loadText}()},{key:"revealPosition",value:function revealPosition(pos){if(this.monaco){if(pos){this.monaco.revealPosition(pos.line,pos.character)}else{this.monaco.clearLineSelection()}}}},{key:"renderReferences",value:function renderReferences(){var _this6=this;return this.props.isReferencesOpen&&react_1.default.createElement(references_panel_1.ReferencesPanel,{onClose:function onClose(){return _this6.props.closeReferences(true)},references:this.props.references,isLoading:this.props.isReferencesLoading,title:this.props.referencesTitle,refUrl:this.props.refUrl})}}]);return EditorComponent}(react_1.default.Component);exports.EditorComponent=EditorComponent;var mapStateToProps=function mapStateToProps(state){return{file:state.file.file,isReferencesOpen:state.editor.showing,isReferencesLoading:state.editor.loading,references:state.editor.references,referencesTitle:state.editor.referencesTitle,hover:state.editor.hover,refUrl:selectors_1.refUrlSelector(state),revealPosition:state.editor.revealPosition,blames:state.blame.blames}};var mapDispatchToProps={closeReferences:actions_1.closeReferences,findReferences:actions_1.findReferences,hoverResult:actions_1.hoverResult};exports.Editor=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(EditorComponent))},4345:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=tslib_1.__importDefault(__webpack_require__(17));var blame_1=__webpack_require__(4346);var BlameWidget=function(){function BlameWidget(blame,isFirstLine,editor){var _this=this;_classCallCheck(this,BlameWidget);this.blame=blame;this.isFirstLine=isFirstLine;this.editor=editor;this.allowEditorOverflow=true;this.suppressMouseDown=false;this.containerNode=document.createElement("div");this.domNode=document.createElement("div");this.containerNode.appendChild(this.domNode);this.editor.onDidLayoutChange(function(){return _this.update()});this.update();this.editor.addContentWidget(this);this.editor.layoutContentWidget(this)}_createClass(BlameWidget,[{key:"destroy",value:function destroy(){this.editor.removeContentWidget(this)}},{key:"getDomNode",value:function getDomNode(){return this.containerNode}},{key:"getId",value:function getId(){return"blame_"+this.blame.startLine}},{key:"getPosition",value:function getPosition(){return{position:{column:0,lineNumber:this.blame.startLine},preference:[0]}}},{key:"update",value:function update(){var _this$editor$getConfi=this.editor.getConfiguration().fontInfo,fontSize=_this$editor$getConfi.fontSize,lineHeight=_this$editor$getConfi.lineHeight;this.domNode.style.position="relative";this.domNode.style.left="-332px";this.domNode.style.width="316px";this.domNode.style.fontSize="".concat(fontSize,"px");this.domNode.style.lineHeight="".concat(lineHeight,"px");var element=react_1.default.createElement(blame_1.Blame,{blame:this.blame,isFirstLine:this.isFirstLine},null);react_dom_1.default.render(element,this.domNode)}}]);return BlameWidget}();exports.BlameWidget=BlameWidget},4346:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(16));var react_1=tslib_1.__importDefault(__webpack_require__(0));var Blame=function(_react_1$default$Pure){_inherits(Blame,_react_1$default$Pure);function Blame(){_classCallCheck(this,Blame);return _possibleConstructorReturn(this,_getPrototypeOf(Blame).apply(this,arguments))}_createClass(Blame,[{key:"render",value:function render(){var _this$props=this.props,blame=_this$props.blame,isFirstLine=_this$props.isFirstLine;return react_1.default.createElement(eui_1.EuiFlexGroup,{className:isFirstLine?"codeBlame__item codeBlame__item--first ":"codeBlame__item",gutterSize:"none",justifyContent:"spaceBetween"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiAvatar,{size:"s",type:"space",className:"codeAvatar",name:blame.committer.name,initialsLength:1})),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"xs",className:"codeText__blameMessage eui-textTruncate"},blame.commit.message)))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false,className:"eui-textTruncate"},react_1.default.createElement(eui_1.EuiText,{size:"xs",className:"eui-textTruncate code-auto-margin"},react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},moment_1.default(blame.commit.date).fromNow()))))}}]);return Blame}(react_1.default.PureComponent);exports.Blame=Blame},4347:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var resize_checker_1=__webpack_require__(438);var definition_provider_1=__webpack_require__(4348);var uri_util_1=__webpack_require__(375);var editor_service_1=__webpack_require__(4351);var hover_controller_1=__webpack_require__(4353);var monaco_1=__webpack_require__(447);var references_action_1=__webpack_require__(4364);var single_selection_helper_1=__webpack_require__(1601);var textmodel_resolver_1=__webpack_require__(4365);var MonacoHelper=function(){function MonacoHelper(container,editorActions,urlQuery){var _this=this;_classCallCheck(this,MonacoHelper);this.container=container;this.editorActions=editorActions;this.urlQuery=urlQuery;this.decorations=[];this.editor=null;this.monaco=null;this.resizeChecker=null;this.updateUrlQuery=function(q){_this.urlQuery=q};this.getUrlQuery=function(){return _this.urlQuery};this.destroy=function(){_this.monaco=null;document.removeEventListener("copy",_this.handleCopy);document.removeEventListener("cut",_this.handleCopy);if(_this.resizeChecker){_this.resizeChecker.destroy()}};this.handleCopy=this.handleCopy.bind(this)}_createClass(MonacoHelper,[{key:"init",value:function init(){var _this2=this;return new Promise(function(resolve){_this2.monaco=monaco_1.monaco;var definitionProvider={provideDefinition:function provideDefinition(model,position){return definition_provider_1.provideDefinition(monaco_1.monaco,model,position)}};_this2.monaco.languages.registerDefinitionProvider("java",definitionProvider);_this2.monaco.languages.registerDefinitionProvider("typescript",definitionProvider);_this2.monaco.languages.registerDefinitionProvider("javascript",definitionProvider);if(chrome_1.default.getInjected("enableLangserversDeveloping",false)===true){_this2.monaco.languages.registerDefinitionProvider("go",definitionProvider)}var codeEditorService=new editor_service_1.EditorService(_this2.getUrlQuery);codeEditorService.setMonacoHelper(_this2);_this2.editor=monaco_1.monaco.editor.create(_this2.container,{readOnly:true,minimap:{enabled:false},hover:{enabled:false},occurrencesHighlight:false,selectionHighlight:false,renderLineHighlight:"none",contextmenu:false,folding:true,scrollBeyondLastLine:false,renderIndentGuides:false,automaticLayout:false},{textModelService:new textmodel_resolver_1.TextModelResolverService(monaco_1.monaco),codeEditorService:codeEditorService});single_selection_helper_1.registerEditor(_this2.editor);_this2.resizeChecker=new resize_checker_1.ResizeChecker(_this2.container);_this2.resizeChecker.on("resize",function(){setTimeout(function(){_this2.editor.layout()})});references_action_1.registerReferencesAction(_this2.editor,_this2.getUrlQuery);var hoverController=new hover_controller_1.HoverController(_this2.editor);hoverController.setReduxActions(_this2.editorActions);document.addEventListener("copy",_this2.handleCopy);document.addEventListener("cut",_this2.handleCopy);resolve(_this2.editor)})}},{key:"loadFile",value:function(){var _loadFile=_asyncToGenerator(regeneratorRuntime.mark(function _callee(repoUri,file,text,lang){var revision,ed,oldModel,uri,newModel,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:revision=_args.length>4&&_args[4]!==undefined?_args[4]:"master";if(this.initialized){_context.next=4;break}_context.next=4;return this.init();case 4:ed=this.editor;oldModel=ed.getModel();if(oldModel){oldModel.dispose()}ed.setModel(null);uri=this.monaco.Uri.parse(uri_util_1.toCanonicalUrl({schema:"git:",repoUri:repoUri,file:file,revision:revision,pathType:"blob"}));newModel=this.monaco.editor.getModel(uri);if(!newModel){newModel=this.monaco.editor.createModel(text,lang,uri)}else{newModel.setValue(text)}ed.setModel(newModel);return _context.abrupt("return",ed);case 13:case"end":return _context.stop()}}},_callee,this)}));function loadFile(_x,_x2,_x3,_x4){return _loadFile.apply(this,arguments)}return loadFile}()},{key:"revealPosition",value:function revealPosition(line,pos){var position={lineNumber:line,column:pos};this.decorations=this.editor.deltaDecorations(this.decorations,[{range:new this.monaco.Range(line,0,line,0),options:{isWholeLine:true,className:"code-monaco-highlight-line code-line-number-".concat(line),linesDecorationsClassName:"code-mark-line-number"}}]);this.editor.setPosition(position);this.editor.revealLineInCenterIfOutsideViewport(line)}},{key:"clearLineSelection",value:function clearLineSelection(){this.decorations=this.editor.deltaDecorations(this.decorations,[])}},{key:"handleCopy",value:function handleCopy(e){if(this.editor&&this.editor.hasTextFocus()&&this.editor.hasWidgetFocus()&&!this.editor.getSelection().isEmpty()){var text=this.editor.getModel().getValueInRange(this.editor.getSelection());e.clipboardData.setData("text/plain",text);e.preventDefault()}}},{key:"initialized",get:function get(){return this.monaco!==null}}]);return MonacoHelper}();exports.MonacoHelper=MonacoHelper},4348:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(3);var kfetch_1=__webpack_require__(32);var lsp_client_1=__webpack_require__(983);function provideDefinition(monaco,model,position){var lspClient=new lsp_client_1.LspRestClient("/api/code/lsp");var lspMethods=new lsp_client_1.TextDocumentMethods(lspClient);function handleLocation(location){return{uri:monaco.Uri.parse(location.uri),range:{startLineNumber:location.range.start.line+1,startColumn:location.range.start.character+1,endLineNumber:location.range.end.line+1,endColumn:location.range.end.character+1}}}function handleQname(_x){return _handleQname.apply(this,arguments)}function _handleQname(){_handleQname=_asyncToGenerator(regeneratorRuntime.mark(function _callee(qname){var res;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return kfetch_1.kfetch({pathname:"/api/code/lsp/symbol/".concat(qname)});case 2:res=_context.sent;if(!res.symbols){_context.next=5;break}return _context.abrupt("return",res.symbols.map(function(s){return handleLocation(s.symbolInformation.location)}));case 5:return _context.abrupt("return",[]);case 6:case"end":return _context.stop()}}},_callee)}));return _handleQname.apply(this,arguments)}return lspMethods.edefinition.send({position:{line:position.lineNumber-1,character:position.column-1},textDocument:{uri:model.uri.toString()}}).then(function(result){if(result){var locations=result.filter(function(l){return l.location!==undefined});if(locations.length>0){return locations.map(function(l){return handleLocation(l.location)})}else{return Promise.all(result.filter(function(l){return l.qname!==undefined}).map(function(l){return handleQname(l.qname)})).then(lodash_1.flatten)}}else{return[]}},function(_){return[]})}exports.provideDefinition=provideDefinition},4349:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var lsp_method_1=__webpack_require__(4350);var TextDocumentMethods=function TextDocumentMethods(client){_classCallCheck(this,TextDocumentMethods);this.client=client;this.documentSymbol=new lsp_method_1.LspMethod("textDocument/documentSymbol",this.client);this.hover=new lsp_method_1.LspMethod("textDocument/hover",this.client);this.definition=new lsp_method_1.LspMethod("textDocument/definition",this.client);this.edefinition=new lsp_method_1.LspMethod("textDocument/edefinition",this.client);this.references=new lsp_method_1.LspMethod("textDocument/references",this.client)};exports.TextDocumentMethods=TextDocumentMethods},4350:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var LspMethod=function(){function LspMethod(method,client){_classCallCheck(this,LspMethod);this.client=client;this.method=method}_createClass(LspMethod,[{key:"asyncTask",value:function asyncTask(input){var _this=this;var abortController=new AbortController;var promise=function promise(){return _this.client.sendRequest(_this.method,input,abortController.signal).then(function(result){return result.result})};return{cancel:function cancel(){abortController.abort()},promise:promise}}},{key:"send",value:function(){var _send=_asyncToGenerator(regeneratorRuntime.mark(function _callee(input){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.client.sendRequest(this.method,input).then(function(result){return result.result});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee,this)}));function send(_x){return _send.apply(this,arguments)}return send}()}]);return LspMethod}();exports.LspMethod=LspMethod},4351:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var standaloneCodeServiceImpl_js_1=__webpack_require__(4352);var kfetch_1=__webpack_require__(32);var messages_1=__webpack_require__(984);var uri_util_1=__webpack_require__(375);var url_1=__webpack_require__(76);var EditorService=function(_standaloneCodeServic){_inherits(EditorService,_standaloneCodeServic);function EditorService(getUrlQuery){var _this;_classCallCheck(this,EditorService);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditorService).call(this));_this.getUrlQuery=getUrlQuery;return _this}_createClass(EditorService,[{key:"openCodeEditor",value:function(){var _openCodeEditor=_asyncToGenerator(regeneratorRuntime.mark(function _callee(input,source,sideBySide){var _input$resource,scheme,authority,path,uri,_input$options$select,startColumn,startLineNumber,url,currentPath;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_input$resource=input.resource,scheme=_input$resource.scheme,authority=_input$resource.authority,path=_input$resource.path;if(!(scheme==="symbol")){_context.next=6;break}_context.next=4;return EditorService.handleSymbolUri(authority,this.getUrlQuery);case 4:_context.next=8;break;case 6:uri="/".concat(authority).concat(path);if(input.options&&input.options.selection){_input$options$select=input.options.selection,startColumn=_input$options$select.startColumn,startLineNumber=_input$options$select.startLineNumber;url=uri+"!L".concat(startLineNumber,":").concat(startColumn);currentPath=window.location.hash.substring(1);if(currentPath===url){this.helper.revealPosition(startLineNumber,startColumn)}else{url_1.history.push("".concat(url).concat(this.getUrlQuery()))}}case 8:return _context.abrupt("return",source);case 9:case"end":return _context.stop()}}},_callee,this)}));function openCodeEditor(_x,_x2,_x3){return _openCodeEditor.apply(this,arguments)}return openCodeEditor}()},{key:"setMonacoHelper",value:function setMonacoHelper(helper){this.helper=helper}}],[{key:"handleSymbolUri",value:function(){var _handleSymbolUri=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(qname,getUrlQuery){var result,symbol,_uri_util_1$parseSche,schema,uri,_symbol$location$rang,line,character,url;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return EditorService.findSymbolByQname(qname);case 2:result=_context2.sent;if(result.symbols.length>0){symbol=result.symbols[0].symbolInformation;_uri_util_1$parseSche=uri_util_1.parseSchema(symbol.location.uri),schema=_uri_util_1$parseSche.schema,uri=_uri_util_1$parseSche.uri;if(schema==="git:"){_symbol$location$rang=symbol.location.range.start,line=_symbol$location$rang.line,character=_symbol$location$rang.character;url=uri+"!L".concat(line+1,":").concat(character+1);url_1.history.push("".concat(url).concat(getUrlQuery()))}}case 4:case"end":return _context2.stop()}}},_callee2)}));function handleSymbolUri(_x4,_x5){return _handleSymbolUri.apply(this,arguments)}return handleSymbolUri}()},{key:"findSymbolByQname",value:function(){var _findSymbolByQname=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(qname){var response,error;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return kfetch_1.kfetch({pathname:"/api/code/lsp/symbol/".concat(qname),method:"GET"});case 3:response=_context3.sent;return _context3.abrupt("return",response);case 7:_context3.prev=7;_context3.t0=_context3["catch"](0);error=_context3.t0.body;throw new messages_1.ResponseError(error.code,error.message,error.data);case 11:case"end":return _context3.stop()}}},_callee3,null,[[0,7]])}));function findSymbolByQname(_x6){return _findSymbolByQname.apply(this,arguments)}return findSymbolByQname}()}]);return EditorService}(standaloneCodeServiceImpl_js_1.StandaloneCodeEditorServiceImpl);exports.EditorService=EditorService},4352:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(942)},4353:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var monaco_1=__webpack_require__(447);var content_hover_widget_1=__webpack_require__(4354);var HoverController=function(){function HoverController(editor){var _this=this;_classCallCheck(this,HoverController);this.editor=editor;this.disposables=[this.editor.onMouseMove(function(e){return _this.onEditorMouseMove(e)}),this.editor.onKeyDown(function(e){return _this.onKeyDown(e)})];this.contentWidget=new content_hover_widget_1.ContentHoverWidget(editor)}_createClass(HoverController,[{key:"dispose",value:function dispose(){this.disposables.forEach(function(d){return d.dispose()})}},{key:"getId",value:function getId(){return HoverController.ID}},{key:"setReduxActions",value:function setReduxActions(actions){this.contentWidget.setHoverResultAction(actions.hoverResult)}},{key:"onEditorMouseMove",value:function onEditorMouseMove(mouseEvent){var targetType=mouseEvent.target.type;var MouseTargetType=monaco_1.monaco.editor.MouseTargetType;if(targetType===MouseTargetType.CONTENT_WIDGET&&mouseEvent.target.detail===content_hover_widget_1.ContentHoverWidget.ID){return}if(targetType===MouseTargetType.CONTENT_TEXT){this.contentWidget.startShowingAt(mouseEvent.target.range,false)}else{this.contentWidget.hide()}}},{key:"onKeyDown",value:function onKeyDown(e){if(e.keyCode===monaco_1.monaco.KeyCode.Escape){this.contentWidget.hide()}}}],[{key:"get",value:function get(editor){return editor.getContribution(HoverController.ID)}}]);return HoverController}();HoverController.ID="code.editor.contrib.hover";exports.HoverController=HoverController},4354:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var async_1=__webpack_require__(4355);var wordHighlighter_1=__webpack_require__(4356);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_dom_1=tslib_1.__importDefault(__webpack_require__(17));var lsp_error_codes_1=__webpack_require__(1599);var hover_buttons_1=__webpack_require__(4357);var hover_widget_1=__webpack_require__(1600);var content_widget_1=__webpack_require__(4359);var monaco_1=__webpack_require__(447);var operation_1=__webpack_require__(4362);var hover_computer_1=__webpack_require__(4363);var ContentHoverWidget=function(_content_widget_1$Con){_inherits(ContentHoverWidget,_content_widget_1$Con);function ContentHoverWidget(editor){var _this;_classCallCheck(this,ContentHoverWidget);_this=_possibleConstructorReturn(this,_getPrototypeOf(ContentHoverWidget).call(this,ContentHoverWidget.ID,editor));_this.lastRange=null;_this.shouldFocus=false;_this.hoverResultAction=undefined;_this.highlightDecorations=[];_this.hoverState=hover_widget_1.HoverState.LOADING;_this.containerDomNode.className="monaco-editor-hover hidden";_this.containerDomNode.tabIndex=0;_this.domNode.className="monaco-editor-hover-content";_this.computer=new hover_computer_1.HoverComputer;_this.hoverOperation=new operation_1.Operation(_this.computer,function(result){return _this.result(result)},function(error){if(error.code===lsp_error_codes_1.ServerNotInitialized){_this.hoverState=hover_widget_1.HoverState.INITIALIZING;_this.render(_this.lastRange)}},function(){_this.hoverState=hover_widget_1.HoverState.LOADING;_this.render(_this.lastRange)});return _this}_createClass(ContentHoverWidget,[{key:"startShowingAt",value:function startShowingAt(range,focus){if(this.isVisible&&this.lastRange&&this.lastRange.containsRange(range)){return}this.hoverOperation.cancel();var url=this.editor.getModel().uri.toString();if(this.isVisible){this.hide()}this.computer.setParams(url,range);this.hoverOperation.start();this.lastRange=range;this.shouldFocus=focus}},{key:"setHoverResultAction",value:function setHoverResultAction(hoverResultAction){this.hoverResultAction=hoverResultAction}},{key:"hide",value:function hide(){_get(_getPrototypeOf(ContentHoverWidget.prototype),"hide",this).call(this);this.highlightDecorations=this.editor.deltaDecorations(this.highlightDecorations,[])}},{key:"result",value:function result(_result){if(this.hoverResultAction){this.hoverResultAction(_result)}if(this.lastRange&&_result&&_result.contents){this.render(this.lastRange,_result)}else{this.hide()}}},{key:"render",value:function render(renderRange,result){var fragment=document.createDocumentFragment();var props={state:this.hoverState,gotoDefinition:this.gotoDefinition.bind(this),findReferences:this.findReferences.bind(this)};var startColumn=renderRange.startColumn;if(result){var contents=[];if(Array.isArray(result.contents)){contents=result.contents}else{contents=[result.contents]}contents=contents.filter(function(v){if(typeof v==="string"){return!!v}else{return!!v.value}});if(contents.length===0){this.hide();return}props=_objectSpread({},props,{state:hover_widget_1.HoverState.READY,contents:contents});if(result.range){this.lastRange=this.toMonacoRange(result.range);this.highlightOccurrences(this.lastRange)}startColumn=Math.min(renderRange.startColumn,result.range?result.range.start.character+1:Number.MAX_VALUE)}this.showAt(new monaco_1.monaco.Position(renderRange.startLineNumber,startColumn),this.shouldFocus);var element=react_1.default.createElement(hover_widget_1.HoverWidget,props,null);react_dom_1.default.render(element,fragment);var buttonFragment=document.createDocumentFragment();var buttons=react_1.default.createElement(hover_buttons_1.HoverButtons,props,null);react_dom_1.default.render(buttons,buttonFragment);this.updateContents(fragment,buttonFragment)}},{key:"toMonacoRange",value:function toMonacoRange(r){return new monaco_1.monaco.Range(r.start.line+1,r.start.character+1,r.end.line+1,r.end.character+1)}},{key:"gotoDefinition",value:function gotoDefinition(){var _this2=this;if(this.lastRange){this.editor.setPosition({lineNumber:this.lastRange.startLineNumber,column:this.lastRange.startColumn});var action=this.editor.getAction("editor.action.revealDefinition");action.run().then(function(){return _this2.hide()})}}},{key:"findReferences",value:function findReferences(){var _this3=this;if(this.lastRange){this.editor.setPosition({lineNumber:this.lastRange.startLineNumber,column:this.lastRange.startColumn});var action=this.editor.getAction("editor.action.referenceSearch.trigger");action.run().then(function(){return _this3.hide()})}}},{key:"highlightOccurrences",value:function highlightOccurrences(range){var _this4=this;var pos=new monaco_1.monaco.Position(range.startLineNumber,range.startColumn);return async_1.createCancelablePromise(function(token){return wordHighlighter_1.getOccurrencesAtPosition(_this4.editor.getModel(),pos,token).then(function(data){if(data){if(_this4.isVisible){var decorations=data.map(function(h){return{range:h.range,options:ContentHoverWidget.DECORATION_OPTIONS}});_this4.highlightDecorations=_this4.editor.deltaDecorations(_this4.highlightDecorations,decorations)}}else{_this4.highlightDecorations=_this4.editor.deltaDecorations(_this4.highlightDecorations,[{range:range,options:ContentHoverWidget.DECORATION_OPTIONS}])}})})}}]);return ContentHoverWidget}(content_widget_1.ContentWidget);ContentHoverWidget.ID="editor.contrib.contentHoverWidget";ContentHoverWidget.DECORATION_OPTIONS={className:"wordHighlightStrong"};exports.ContentHoverWidget=ContentHoverWidget},4355:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(34)},4356:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(3619)},4357:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var hover_widget_1=__webpack_require__(1600);var HoverButtons=function(_react_1$default$Pure){_inherits(HoverButtons,_react_1$default$Pure);function HoverButtons(){_classCallCheck(this,HoverButtons);return _possibleConstructorReturn(this,_getPrototypeOf(HoverButtons).apply(this,arguments))}_createClass(HoverButtons,[{key:"render",value:function render(){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiFlexGroup,{className:"button-group euiFlexGroup",gutterSize:"none",responsive:true},react_1.default.createElement(eui_1.EuiButton,{size:"s",isDisabled:this.props.state!==hover_widget_1.HoverState.READY,onClick:this.props.gotoDefinition,"data-test-subj":"codeGoToDefinitionButton"},"Goto Definition"),react_1.default.createElement(eui_1.EuiButton,{size:"s",isDisabled:this.props.state!==hover_widget_1.HoverState.READY,onClick:this.props.findReferences,"data-test-subj":"codeFindReferenceButton"},"Find Reference")))}}]);return HoverButtons}(react_1.default.PureComponent);exports.HoverButtons=HoverButtons},4358:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(940)},4359:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var scrollableElement_1=__webpack_require__(4360);var disposable_1=__webpack_require__(4361);var monaco_1=__webpack_require__(447);function toggleClass(node,clazzName,toggle){node.classList.toggle(clazzName,toggle)}exports.toggleClass=toggleClass;var ContentWidget=function(_disposable_1$Disposa){_inherits(ContentWidget,_disposable_1$Disposa);function ContentWidget(id,editor){var _this;_classCallCheck(this,ContentWidget);_this=_possibleConstructorReturn(this,_getPrototypeOf(ContentWidget).call(this));_this.id=id;_this.editor=editor;_this.stoleFocus=false;_this.containerDomNode=document.createElement("div");_this.domNode=document.createElement("div");_this.extraNode=document.createElement("div");_this.scrollbar=new scrollableElement_1.DomScrollableElement(_this.domNode,{});_this.disposables.push(_this.scrollbar);_this.containerDomNode.appendChild(_this.scrollbar.getDomNode());_this.containerDomNode.appendChild(_this.extraNode);_this.visible=false;_this.editor.onDidLayoutChange(function(e){return _this.updateMaxHeight()});_this.editor.onDidChangeModel(function(){return _this.hide()});_this.updateMaxHeight();_this.showAtPosition=null;_this.editor.addContentWidget(_assertThisInitialized(_this));return _this}_createClass(ContentWidget,[{key:"getId",value:function getId(){return this.id}},{key:"getDomNode",value:function getDomNode(){return this.containerDomNode}},{key:"showAt",value:function showAt(position,focus){this.showAtPosition=position;this.editor.layoutContentWidget(this);this.isVisible=true;this.editor.render();this.stoleFocus=focus;if(focus){this.containerDomNode.focus()}}},{key:"hide",value:function hide(){if(!this.isVisible){return}this.isVisible=false;this.editor.layoutContentWidget(this);if(this.stoleFocus){this.editor.focus()}}},{key:"getPosition",value:function getPosition(){var ContentWidgetPositionPreference=monaco_1.monaco.editor.ContentWidgetPositionPreference;if(this.isVisible){return{position:this.showAtPosition,preference:[ContentWidgetPositionPreference.ABOVE,ContentWidgetPositionPreference.BELOW]}}return null}},{key:"dispose",value:function dispose(){this.editor.removeContentWidget(this);this.disposables.forEach(function(d){return d.dispose()})}},{key:"updateContents",value:function updateContents(node,extra){this.domNode.textContent="";this.domNode.appendChild(node);this.extraNode.innerHTML="";if(extra){this.extraNode.appendChild(extra)}this.updateFont();this.editor.layoutContentWidget(this);this.onContentsChange()}},{key:"onContentsChange",value:function onContentsChange(){this.scrollbar.scanDomNode()}},{key:"updateMaxHeight",value:function updateMaxHeight(){var height=Math.max(this.editor.getLayoutInfo().height/4,250);var _this$editor$getConfi=this.editor.getConfiguration().fontInfo,fontSize=_this$editor$getConfi.fontSize,lineHeight=_this$editor$getConfi.lineHeight;this.domNode.style.fontSize="".concat(fontSize,"px");this.domNode.style.lineHeight="".concat(lineHeight,"px");this.domNode.style.maxHeight="".concat(height,"px")}},{key:"updateFont",value:function updateFont(){var _this2=this;var codeTags=Array.prototype.slice.call(this.domNode.getElementsByTagName("code"));var codeClasses=Array.prototype.slice.call(this.domNode.getElementsByClassName("code"));[].concat(_toConsumableArray(codeTags),_toConsumableArray(codeClasses)).forEach(function(node){return _this2.editor.applyFontInfo(node)})}},{key:"isVisible",get:function get(){return this.visible},set:function set(value){this.visible=value;toggleClass(this.containerDomNode,"hidden",!this.visible)}}]);return ContentWidget}(disposable_1.Disposable);exports.ContentWidget=ContentWidget},4360:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(349)},4361:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var Disposable=function(){function Disposable(){_classCallCheck(this,Disposable);this.disposables=[]}_createClass(Disposable,[{key:"dispose",value:function dispose(){this.disposables.forEach(function(d){return d.dispose()});this.disposables=[]}},{key:"_register",value:function _register(t){this.disposables.push(t);return t}}]);return Disposable}();exports.Disposable=Disposable},4362:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var OperationState;(function(OperationState){OperationState[OperationState["IDLE"]=0]="IDLE";OperationState[OperationState["DELAYED"]=1]="DELAYED";OperationState[OperationState["RUNNING"]=2]="RUNNING"})(OperationState||(OperationState={}));var Operation=function(){function Operation(computer,successCallback,errorCallback,progressCallback){_classCallCheck(this,Operation);this.computer=computer;this.successCallback=successCallback;this.errorCallback=errorCallback;this.progressCallback=progressCallback;this.task=null;this.state=OperationState.IDLE;this.delay=Operation.DEFAULT_DELAY_TIME}_createClass(Operation,[{key:"setDelay",value:function setDelay(delay){this.delay=delay}},{key:"start",value:function start(){if(this.state===OperationState.IDLE){this.task=this.computer.compute();this.triggerDelay()}}},{key:"triggerDelay",value:function triggerDelay(){this.cancelDelay();this.timeout=setTimeout(this.triggerAsyncTask.bind(this),this.delay);this.state=OperationState.DELAYED}},{key:"cancel",value:function cancel(){if(this.state===OperationState.RUNNING){if(this.task){this.task.cancel();this.task=null}}else if(this.state===OperationState.DELAYED){this.cancelDelay()}this.state=OperationState.IDLE}},{key:"cancelDelay",value:function cancelDelay(){if(this.timeout){clearTimeout(this.timeout);this.timeout=null}}},{key:"showLoading",value:function showLoading(){this.progressCallback(this.computer.loadingMessage())}},{key:"triggerAsyncTask",value:function triggerAsyncTask(){var _this=this;if(this.task){this.state=OperationState.RUNNING;var loadingDelay=setTimeout(this.showLoading.bind(this),this.delay);var task=this.task;task.promise().then(function(result){clearTimeout(loadingDelay);if(task===_this.task){_this.successCallback(result)}},function(error){clearTimeout(loadingDelay);if(task===_this.task){_this.errorCallback(error)}})}}}]);return Operation}();Operation.DEFAULT_DELAY_TIME=300;exports.Operation=Operation},4363:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var lsp_client_1=__webpack_require__(983);exports.LOADING="loading";var HoverComputer=function(){function HoverComputer(){_classCallCheck(this,HoverComputer);this.range=null;this.uri=null;var lspClient=new lsp_client_1.LspRestClient("/api/code/lsp");this.lspMethods=new lsp_client_1.TextDocumentMethods(lspClient)}_createClass(HoverComputer,[{key:"setParams",value:function setParams(uri,range){this.range=range;this.uri=uri}},{key:"compute",value:function compute(){return this.lspMethods.hover.asyncTask({position:{line:this.range.startLineNumber-1,character:this.range.startColumn-1},textDocument:{uri:this.uri}})}},{key:"loadingMessage",value:function loadingMessage(){return{range:{start:{line:this.range.startLineNumber-1,character:this.range.startColumn-1},end:{line:this.range.endLineNumber-1,character:this.range.endColumn-1}},contents:exports.LOADING}}}]);return HoverComputer}();exports.HoverComputer=HoverComputer},4364:function(module,exports,__webpack_require__){"use strict";function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var url_1=tslib_1.__importDefault(__webpack_require__(31));var uri_util_1=__webpack_require__(375);var url_2=__webpack_require__(76);function registerReferencesAction(e,getUrlQuery){e.addAction({id:"editor.action.referenceSearch.trigger",label:"Find All References",contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function run(ed){var position=ed.getPosition();var _uri_util_1$parseSche=uri_util_1.parseSchema(ed.getModel().uri.toString()),uri=_uri_util_1$parseSche.uri;var refUrl="git:/".concat(uri,"!L").concat(position.lineNumber-1,":").concat(position.column-1);var queries=url_1.default.parse(getUrlQuery(),true).query;var query=querystring_1.default.stringify(_objectSpread({},queries,{tab:"references",refUrl:refUrl}));url_2.history.push("".concat(uri,"?").concat(query))}})}exports.registerReferencesAction=registerReferencesAction},4365:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var immortal_reference_1=__webpack_require__(4366);var TextModelResolverService=function(){function TextModelResolverService(monaco){_classCallCheck(this,TextModelResolverService);this.monaco=monaco}_createClass(TextModelResolverService,[{key:"createModelReference",value:function(){var _createModelReference=_asyncToGenerator(regeneratorRuntime.mark(function _callee(resource){var model,result;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:model=this.monaco.editor.getModel(resource);if(model){_context.next=10;break}_context.next=4;return this.fetchText(resource);case 4:result=_context.sent;if(result){_context.next=9;break}return _context.abrupt("return",new immortal_reference_1.ImmortalReference(null));case 9:model=this.monaco.editor.createModel(result.text,result.lang,resource);case 10:return _context.abrupt("return",new immortal_reference_1.ImmortalReference({textEditorModel:model}));case 11:case"end":return _context.stop()}}},_callee,this)}));function createModelReference(_x){return _createModelReference.apply(this,arguments)}return createModelReference}()},{key:"registerTextModelContentProvider",value:function registerTextModelContentProvider(scheme,provider){return{dispose:function dispose(){}}}},{key:"fetchText",value:function(){var _fetchText=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(resource){var repo,revision,file,response,contentType,lang,text;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:repo="".concat(resource.authority).concat(resource.path);revision=resource.query;file=resource.fragment;_context2.next=5;return fetch(chrome_1.default.addBasePath("/api/code/repo/".concat(repo,"/blob/").concat(revision,"/").concat(file)));case 5:response=_context2.sent;if(!(response.status===200)){_context2.next=16;break}contentType=response.headers.get("Content-Type");if(!(contentType&&contentType.startsWith("text/"))){_context2.next=14;break}lang=contentType.split(";")[0].substring("text/".length);_context2.next=12;return response.text();case 12:text=_context2.sent;return _context2.abrupt("return",{text:text,lang:lang});case 14:_context2.next=17;break;case 16:return _context2.abrupt("return",null);case 17:case"end":return _context2.stop()}}},_callee2)}));function fetchText(_x2){return _fetchText.apply(this,arguments)}return fetchText}()}]);return TextModelResolverService}();exports.TextModelResolverService=TextModelResolverService},4366:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var ImmortalReference=function(){function ImmortalReference(object){_classCallCheck(this,ImmortalReference);this.object=object}_createClass(ImmortalReference,[{key:"dispose",value:function dispose(){}}]);return ImmortalReference}();exports.ImmortalReference=ImmortalReference},4367:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var classnames_1=tslib_1.__importDefault(__webpack_require__(54));var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var react_1=tslib_1.__importDefault(__webpack_require__(0));var uri_util_1=__webpack_require__(375);var url_1=__webpack_require__(76);var codeblock_1=__webpack_require__(1602);var ReferencesPanel=function(_react_1$default$Comp){_inherits(ReferencesPanel,_react_1$default$Comp);function ReferencesPanel(props){var _this;_classCallCheck(this,ReferencesPanel);_this=_possibleConstructorReturn(this,_getPrototypeOf(ReferencesPanel).call(this,props));_this.close=function(){_this.props.onClose()};_this.toggleExpand=function(){_this.setState({expanded:!_this.state.expanded})};_this.state={expanded:false};return _this}_createClass(ReferencesPanel,[{key:"render",value:function render(){var body=this.props.isLoading?react_1.default.createElement(eui_1.EuiLoadingKibana,{size:"xl"}):this.renderGroupByRepo();var styles={};var expanded=this.state.expanded;return react_1.default.createElement(eui_1.EuiPanel,{grow:false,className:classnames_1.default(["code-editor-references-panel",expanded?"expanded":""]),style:styles},react_1.default.createElement(eui_1.EuiButtonIcon,{size:"s",onClick:this.toggleExpand,iconType:expanded?"arrowDown":"arrowUp","aria-label":"Next",className:"expandButton"}),!expanded&&react_1.default.createElement(eui_1.EuiButtonIcon,{className:"euiFlyout__closeButton",size:"s",onClick:this.close,iconType:"cross","aria-label":"Next"}),react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h3",null,this.props.title)),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement("div",{className:"code-auto-overflow-y"},body))}},{key:"renderGroupByRepo",value:function renderGroupByRepo(){var _this2=this;return this.props.references.map(function(ref){return _this2.renderReferenceRepo(ref)})}},{key:"renderReferenceRepo",value:function renderReferenceRepo(_ref){var _this3=this;var repo=_ref.repo,files=_ref.files;var _repo$split$slice=repo.split("/").slice(1),_repo$split$slice2=_slicedToArray(_repo$split$slice,2),org=_repo$split$slice2[0],name=_repo$split$slice2[1];var buttonContent=react_1.default.createElement("span",null,react_1.default.createElement("span",null,org),"/",react_1.default.createElement("b",null,name));return react_1.default.createElement(eui_1.EuiAccordion,{id:repo,key:repo,buttonContentClassName:"code-editor-reference-accordion-button",buttonContent:buttonContent,paddingSize:"s",initialIsOpen:true},files.map(function(file){return _this3.renderReference(file)}))}},{key:"renderReference",value:function renderReference(file){var key="".concat(file.uri);var lineNumberFn=function lineNumberFn(l){return file.lineNumbers[l-1]};var fileComponent=react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("a",{href:"#".concat(this.computeUrl(file.uri))},file.file)),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}));return react_1.default.createElement(codeblock_1.CodeBlock,{key:key,language:file.language,startLine:0,code:file.code,folding:false,lineNumbersFunc:lineNumberFn,highlightRanges:file.highlights,fileComponent:fileComponent,onClick:this.onCodeClick.bind(this,file.lineNumbers,file.uri)})}},{key:"onCodeClick",value:function onCodeClick(lineNumbers,url,pos){var line=parseInt(lineNumbers[pos.lineNumber-1],10);url_1.history.push(this.computeUrl(url,line))}},{key:"computeUrl",value:function computeUrl(url,line){var _uri_util_1$parseSche=uri_util_1.parseSchema(url),uri=_uri_util_1$parseSche.uri;var search=url_1.history.location.search;if(search.startsWith("?")){search=search.substring(1)}var queries=querystring_1.default.parse(search);var query=querystring_1.default.stringify(_objectSpread({},queries,{tab:"references",refUrl:this.props.refUrl}));return line!==undefined?"".concat(uri,"!L").concat(line,":0?").concat(query):"".concat(uri,"?").concat(query)}}]);return ReferencesPanel}(react_1.default.Component);exports.ReferencesPanel=ReferencesPanel},4368:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var eui_theme_light_json_1=tslib_1.__importDefault(__webpack_require__(41));var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.CloneStatus=function(props){var progressRate=props.progress,cloneProgress=props.cloneProgress,repoName=props.repoName;var progress="Receiving objects: ".concat(progressRate.toFixed(2),"%");if(progressRate<0){progress="Clone Failed"}else if(cloneProgress){var receivedObjects=cloneProgress.receivedObjects,totalObjects=cloneProgress.totalObjects,indexedObjects=cloneProgress.indexedObjects;if(receivedObjects===totalObjects){progress="Indexing objects: ".concat((indexedObjects*100/totalObjects).toFixed(2),"% (").concat(indexedObjects,"/").concat(totalObjects,")")}else{progress="Receiving objects: ".concat((receivedObjects*100/totalObjects).toFixed(2),"% (").concat(receivedObjects,"/").concat(totalObjects,")")}}return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",alignItems:"center"},react_1.default.createElement(eui_1.EuiSpacer,{size:"xxl"}),react_1.default.createElement(eui_1.EuiSpacer,{size:"xxl"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{style:{fontSize:eui_theme_light_json_1.default.euiSizeXXL,color:"#1A1A1A"}},repoName," is cloning")),react_1.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{style:{fontSize:eui_theme_light_json_1.default.euiSizeM,color:"#69707D"}},"Your project will be available when this process is complete")),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiText,{size:"m",color:"subdued"},progress))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false,style:{minWidth:640}},react_1.default.createElement(eui_1.EuiProgress,{color:"primary",size:"s",max:100,value:progressRate})))}},4369:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var lodash_1=tslib_1.__importDefault(__webpack_require__(3));var moment_1=tslib_1.__importDefault(__webpack_require__(16));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var commit_link_1=__webpack_require__(4370);var selectors_1=__webpack_require__(411);var actions_1=__webpack_require__(40);var COMMIT_ID_LENGTH=8;var Commit=function Commit(props){var date=props.date,commit=props.commit;var message=commit.message,committer=commit.committer,id=commit.id;var commitId=id.split("").slice(0,COMMIT_ID_LENGTH).join("");return react_1.default.createElement(eui_1.EuiPanel,{className:"code-timeline__commit--root"},react_1.default.createElement("div",{className:"eui-textTruncate"},react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement("p",{className:"eui-textTruncate"},message)),react_1.default.createElement(eui_1.EuiText,{size:"xs"},react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},committer," · ",date))),react_1.default.createElement("div",{className:"code-commit-id"},react_1.default.createElement(commit_link_1.CommitLink,{repoUri:props.repoUri,commit:commitId})))};var CommitGroup=function CommitGroup(props){var commitList=props.commits.map(function(commit){return react_1.default.createElement(Commit,{commit:commit,key:commit.id,date:props.date,repoUri:props.repoUri})});return react_1.default.createElement("div",{className:"code-timeline__commit-container"},react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"s"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement("div",{className:"code-timeline__marker"})),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiText,null,react_1.default.createElement("h4",null,react_1.default.createElement(eui_1.EuiTextColor,{color:"subdued"},"Commits on ",props.date))))),react_1.default.createElement("div",{className:"code-timeline"},commitList))};exports.CommitHistoryLoading=function(){return react_1.default.createElement("div",{className:"codeLoader"},react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"}))};exports.PageButtons=function(props){return react_1.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceAround"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{onClick:props.onClick,iconType:"arrowDown",isLoading:props.loading,isDisabled:props.disabled,size:"s"},"More")))};exports.CommitHistoryComponent=function(props){var commits=lodash_1.default.groupBy(props.commits,function(commit){return moment_1.default(commit.updated).format("YYYYMMDD")});var commitDates=Object.keys(commits).sort(function(a,b){return b.localeCompare(a)});var commitList=commitDates.map(function(cd){return react_1.default.createElement(CommitGroup,{commits:commits[cd],date:moment_1.default(cd).format("MMMM Do, YYYY"),key:cd,repoUri:props.repoUri})});return react_1.default.createElement("div",{className:"codeContainer__commitMessages"},react_1.default.createElement("div",{className:"codeHeader__commit"},props.header),commitList,!props.showPagination&&props.loadingCommits&&react_1.default.createElement(exports.CommitHistoryLoading,null),props.showPagination&&react_1.default.createElement(exports.PageButtons,{disabled:!props.hasMoreCommit||props.commits.length<10,onClick:function onClick(){return props.fetchMoreCommits(props.repoUri)},loading:props.loadingCommits}))};var mapStateToProps=function mapStateToProps(state){return{file:state.file.file,commits:selectors_1.treeCommitsSelector(state)||[],loadingCommits:state.file.loadingCommits,hasMoreCommit:selectors_1.hasMoreCommitsSelector(state)}};var mapDispatchToProps={fetchMoreCommits:actions_1.fetchMoreCommits};exports.CommitHistory=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(exports.CommitHistoryComponent)},4370:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.CommitLink=function(_ref){var repoUri=_ref.repoUri,commit=_ref.commit,children=_ref.children;return react_1.default.createElement(eui_1.EuiBadge,{color:"hollow"},children||commit)}},4371:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var model_1=__webpack_require__(228);var types_1=__webpack_require__(344);var url_1=__webpack_require__(76);var DirectoryNodes=function DirectoryNodes(props){var _typeIconMap;var typeIconMap=(_typeIconMap={},_defineProperty(_typeIconMap,model_1.FileTreeItemType.File,"document"),_defineProperty(_typeIconMap,model_1.FileTreeItemType.Directory,"folderClosed"),_defineProperty(_typeIconMap,model_1.FileTreeItemType.Link,"symlink"),_defineProperty(_typeIconMap,model_1.FileTreeItemType.Submodule,"submodule"),_typeIconMap);var nodes=props.nodes.map(function(n){return react_1.default.createElement(eui_1.EuiFlexItem,{key:n.path,grow:false},react_1.default.createElement(react_router_dom_1.Link,{className:"code-link",to:props.getUrl(n.path),"data-test-subj":"codeFileExplorerNode-".concat(n.name)},react_1.default.createElement("div",{className:"code-directory__node"},react_1.default.createElement(eui_1.EuiIcon,{type:typeIconMap[n.type],color:"subdued"}),react_1.default.createElement(eui_1.EuiText,{size:"xs",className:"code-fileNodeName eui-textTruncate"},n.name))))});return react_1.default.createElement(eui_1.EuiFlexItem,{className:"codeContainer__directoryList"},react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column"},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h3",null,props.title))),react_1.default.createElement(eui_1.EuiFlexGroup,{wrap:true,direction:"row",gutterSize:"none",justifyContent:"flexStart"},nodes)))};exports.Directory=react_router_dom_1.withRouter(function(props){var files=[];var folders=[];if(props.node&&props.node.children){files=props.node.children.filter(function(n){return n.type===model_1.FileTreeItemType.File||n.type===model_1.FileTreeItemType.Link});folders=props.node.children.filter(function(n){return n.type===model_1.FileTreeItemType.Directory||n.type===model_1.FileTreeItemType.Submodule})}var _props$match$params=props.match.params,resource=_props$match$params.resource,org=_props$match$params.org,repo=_props$match$params.repo,revision=_props$match$params.revision;var getUrl=function getUrl(pathType){return function(path){return"/".concat(resource,"/").concat(org,"/").concat(repo,"/").concat(pathType,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path)}};var fileList=react_1.default.createElement(DirectoryNodes,{nodes:files,title:"Files",getUrl:getUrl(types_1.PathTypes.blob)});var folderList=react_1.default.createElement(DirectoryNodes,{nodes:folders,title:"Directories",getUrl:getUrl(types_1.PathTypes.tree)});var children=props.loading?react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},"Loading..."),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"}))):react_1.default.createElement(react_1.default.Fragment,null,files.length>0&&fileList,folders.length>0&&folderList);return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column"},children)})},4372:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=__webpack_require__(76);var url_2=__webpack_require__(76);var breadcrumb_1=__webpack_require__(4373);var search_bar_1=__webpack_require__(980);var TopBar=function(_react_1$default$Comp){_inherits(TopBar,_react_1$default$Comp);function TopBar(){var _this;_classCallCheck(this,TopBar);_this=_possibleConstructorReturn(this,_getPrototypeOf(TopBar).apply(this,arguments));_this.state={value:"master"};_this.onChange=function(e){var _this$props$routePara=_this.props.routeParams,resource=_this$props$routePara.resource,org=_this$props$routePara.org,repo=_this$props$routePara.repo,_this$props$routePara2=_this$props$routePara.path,path=_this$props$routePara2===void 0?"":_this$props$routePara2,pathType=_this$props$routePara.pathType;_this.setState({value:e.target.value});var revision=_this.props.branches.find(function(b){return b.name===e.target.value}).commit.id;url_2.history.push("/".concat(resource,"/").concat(org,"/").concat(repo,"/").concat(pathType,"/").concat(url_1.encodeRevisionString(revision),"/").concat(path))};return _this}_createClass(TopBar,[{key:"render",value:function render(){return react_1.default.createElement("div",{className:"code-top-bar__container"},react_1.default.createElement(search_bar_1.SearchBar,{query:this.props.query,onSearchScopeChanged:this.props.onSearchScopeChanged,enableSubmitWhenOptionsChanged:false,searchOptions:this.props.searchOptions}),react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",className:"codeTopBar__toolbar"},react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none"},react_1.default.createElement(eui_1.EuiFlexItem,{className:"codeContainer__select",grow:false,style:{display:"none"}},react_1.default.createElement(eui_1.EuiSelect,{options:this.props.branches.map(function(b){return{value:b.name,text:b.name}}),onChange:this.onChange})),react_1.default.createElement(breadcrumb_1.Breadcrumb,{routeParams:this.props.routeParams}))),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},this.props.buttons)))}}]);return TopBar}(react_1.default.Component);exports.TopBar=TopBar},4373:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=__webpack_require__(76);var Breadcrumb=function(_react_1$default$Pure){_inherits(Breadcrumb,_react_1$default$Pure);function Breadcrumb(){_classCallCheck(this,Breadcrumb);return _possibleConstructorReturn(this,_getPrototypeOf(Breadcrumb).apply(this,arguments))}_createClass(Breadcrumb,[{key:"render",value:function render(){var _this$props$routePara=this.props.routeParams,resource=_this$props$routePara.resource,org=_this$props$routePara.org,repo=_this$props$routePara.repo,revision=_this$props$routePara.revision,path=_this$props$routePara.path;var repoUri="".concat(resource,"/").concat(org,"/").concat(repo);var breadcrumbs=[];var pathSegments=path?path.split("/"):[];pathSegments.forEach(function(p,index){var paths=pathSegments.slice(0,index+1);var href="#".concat(repoUri,"/tree/").concat(url_1.encodeRevisionString(revision),"/").concat(paths.join("/"));breadcrumbs.push(_defineProperty({text:p,href:href,className:"codeNoMinWidth"},"data-test-subj","codeFileBreadcrumb-".concat(p)))});return react_1.default.createElement(eui_1.EuiBreadcrumbs,{max:Number.MAX_VALUE,breadcrumbs:breadcrumbs})}}]);return Breadcrumb}(react_1.default.PureComponent);exports.Breadcrumb=Breadcrumb},4374:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var querystring_1=__webpack_require__(74);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var query_string_1=__webpack_require__(424);var types_1=__webpack_require__(344);var file_tree_1=__webpack_require__(4375);var shortcuts_1=__webpack_require__(715);var symbol_tree_1=__webpack_require__(4376);var Tabs;(function(Tabs){Tabs["file"]="file";Tabs["structure"]="structure"})(Tabs||(Tabs={}));var CodeSideTabs=function(_react_1$default$Pure){_inherits(CodeSideTabs,_react_1$default$Pure);function CodeSideTabs(){var _this;_classCallCheck(this,CodeSideTabs);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeSideTabs).apply(this,arguments));_this.switchTab=function(tab){var history=_this.props.history;var _history$location=history.location,pathname=_history$location.pathname,search=_history$location.search;history.push(query_string_1.QueryString.replaceParamInUrl("".concat(pathname).concat(search),"sideTab",tab))};_this.toggleTab=function(){var currentTab=_this.sideTab;if(currentTab===Tabs.file){_this.switchTab(Tabs.structure)}else{_this.switchTab(Tabs.file)}};return _this}_createClass(CodeSideTabs,[{key:"renderLoadingSpinner",value:function renderLoadingSpinner(text){return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},text),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"})))}},{key:"render",value:function render(){var _this2=this;var tabs=this.tabs;var selectedTab=tabs.find(function(t){return t.id===_this2.sideTab});return react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiTabbedContent,{className:"code-navigation__sidebar",tabs:tabs,onTabClick:function onTabClick(tab){return _this2.switchTab(tab.id)},expand:true,selectedTab:selectedTab}),react_1.default.createElement(shortcuts_1.Shortcut,{keyCode:"t",help:"Toggle tree and symbol view in sidebar",onPress:this.toggleTab}))}},{key:"sideTab",get:function get(){var search=this.props.location.search;var qs=search;if(search.charAt(0)==="?"){qs=search.substr(1)}var tab=querystring_1.parse(qs).sideTab;return tab===Tabs.structure?Tabs.structure:Tabs.file}},{key:"tabs",get:function get(){var _this$props=this.props,languageServerInitializing=_this$props.languageServerInitializing,loadingFileTree=_this$props.loadingFileTree,loadingStructureTree=_this$props.loadingStructureTree;var fileTabContent=loadingFileTree?this.renderLoadingSpinner("Loading file tree"):react_1.default.createElement("div",{className:"codeFileTree__container"},react_1.default.createElement(file_tree_1.FileTree,null));var structureTabContent;if(languageServerInitializing){structureTabContent=this.renderLoadingSpinner("Language server is initializing")}else if(loadingStructureTree){structureTabContent=this.renderLoadingSpinner("Loading structure tree")}else{structureTabContent=react_1.default.createElement(symbol_tree_1.SymbolTree,null)}return[{id:Tabs.file,name:"Files",content:fileTabContent,"data-test-subj":"codeFileTreeTab"},{id:Tabs.structure,name:"Structure",content:structureTabContent,disabled:this.props.match.params.pathType===types_1.PathTypes.tree||!this.props.hasStructure,"data-test-subj":"codeStructureTreeTab"}]}}]);return CodeSideTabs}(react_1.default.PureComponent);exports.SideTabs=react_router_dom_1.withRouter(CodeSideTabs)},4375:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var eui_1=__webpack_require__(1);var classnames_1=tslib_1.__importDefault(__webpack_require__(54));var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var types_1=__webpack_require__(344);var url_1=__webpack_require__(76);var CodeFileTree=function(_react_1$default$Comp){_inherits(CodeFileTree,_react_1$default$Comp);function CodeFileTree(){var _this;_classCallCheck(this,CodeFileTree);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeFileTree).apply(this,arguments));_this.onClick=function(node){var _this$props$match$par=_this.props.match.params,resource=_this$props$match$par.resource,org=_this$props$match$par.org,repo=_this$props$match$par.repo,revision=_this$props$match$par.revision,path=_this$props$match$par.path;if(!(path===node.path)){var pathType;if(node.type===model_1.FileTreeItemType.Link||node.type===model_1.FileTreeItemType.File){pathType=types_1.PathTypes.blob}else{pathType=types_1.PathTypes.tree}_this.props.history.push("/".concat(resource,"/").concat(org,"/").concat(repo,"/").concat(pathType,"/").concat(url_1.encodeRevisionString(revision),"/").concat(node.path))}};_this.toggleTree=function(path){if(_this.isPathOpen(path)){_this.props.closeTreePath(path)}else{_this.props.openTreePath(path)}};_this.flattenDirectory=function(node){if(node.childrenCount===1&&node.children[0].type===model_1.FileTreeItemType.Directory){return[node].concat(_toConsumableArray(_this.flattenDirectory(node.children[0])))}else{return[node]}};_this.getItemRenderer=function(node,forceOpen,flattenFrom){return function(){var className="codeFileTree__item kbn-resetFocusState";var bg=null;if(_this.props.match.params.path===node.path){bg=react_1.default.createElement("div",{ref:function ref(el){return _this.scrollIntoView(el)},className:"codeFileTree__node--fullWidth"})}var onClick=function onClick(){var path=flattenFrom?flattenFrom.path:node.path;_this.toggleTree(path);_this.onClick(node)};switch(node.type){case model_1.FileTreeItemType.Directory:{return react_1.default.createElement("div",{className:"codeFileTree__node"},react_1.default.createElement("div",{"data-test-subj":"codeFileTreeNode-Directory-".concat(node.path),className:className,role:"button",tabIndex:0,onKeyDown:onClick,onClick:onClick},forceOpen?react_1.default.createElement(eui_1.EuiIcon,{type:"arrowDown",size:"s",className:"codeFileTree__icon"}):react_1.default.createElement(eui_1.EuiIcon,{type:"arrowRight",size:"s",className:"codeFileTree__icon"}),react_1.default.createElement(eui_1.EuiIcon,{type:forceOpen?"folderOpen":"folderClosed","data-test-subj":"codeFileTreeNode-Directory-Icon-".concat(node.path,"-").concat(forceOpen?"open":"closed")}),react_1.default.createElement("span",{className:"codeFileTree__directory"},react_1.default.createElement(eui_1.EuiText,{size:"xs",grow:false,className:"eui-displayInlineBlock"},node.name))),bg)}case model_1.FileTreeItemType.Submodule:{return react_1.default.createElement("div",{className:"codeFileTree__node"},react_1.default.createElement("div",{"data-test-subj":"codeFileTreeNode-Submodule-".concat(node.path),tabIndex:0,onKeyDown:onClick,onClick:onClick,className:classnames_1.default(className,"codeFileTree__file"),role:"button"},react_1.default.createElement(eui_1.EuiIcon,{type:"submodule"}),react_1.default.createElement("span",{className:"codeFileTree__directory"},react_1.default.createElement(eui_1.EuiText,{size:"xs",grow:false,color:"default",className:"eui-displayInlineBlock"},node.name))),bg)}case model_1.FileTreeItemType.Link:{return react_1.default.createElement("div",{className:"codeFileTree__node"},react_1.default.createElement("div",{"data-test-subj":"codeFileTreeNode-Link-".concat(node.path),tabIndex:0,onKeyDown:onClick,onClick:onClick,className:classnames_1.default(className,"codeFileTree__file"),role:"button"},react_1.default.createElement(eui_1.EuiIcon,{type:"symlink"}),react_1.default.createElement("span",{className:"codeFileTree__directory"},react_1.default.createElement(eui_1.EuiText,{size:"xs",grow:false,color:"default",className:"eui-displayInlineBlock"},node.name))),bg)}case model_1.FileTreeItemType.File:{return react_1.default.createElement("div",{className:"codeFileTree__node"},react_1.default.createElement("div",{"data-test-subj":"codeFileTreeNode-File-".concat(node.path),tabIndex:0,onKeyDown:onClick,onClick:onClick,className:classnames_1.default(className,"codeFileTree__file"),role:"button"},react_1.default.createElement(eui_1.EuiIcon,{type:"document"}),react_1.default.createElement("span",{className:"codeFileTree__directory"},react_1.default.createElement(eui_1.EuiText,{size:"xs",grow:false,color:"default",className:"eui-displayInlineBlock"},node.name))),bg)}}}};_this.treeToItems=function(node){var forceOpen=node.type===model_1.FileTreeItemType.Directory?_this.isPathOpen(node.path):false;var data={id:node.name,name:node.name,isSelected:false,renderItem:_this.getItemRenderer(node,forceOpen),forceOpen:forceOpen,onClick:function onClick(){return void 0}};if(node.type===model_1.FileTreeItemType.Directory&&Number(node.childrenCount)>0){var nodes=_this.flattenDirectory(node);var length=nodes.length;if(length>1&&!(_this.props.match.params.path===node.path)){data.name=nodes.map(function(n){return n.name}).join("/");data.id=data.name;var lastNode=nodes[length-1];var flattenNode=_objectSpread({},lastNode,{name:data.name,id:data.id});data.forceOpen=_this.isPathOpen(node.path);data.renderItem=_this.getItemRenderer(flattenNode,data.forceOpen,node);if(data.forceOpen&&Number(flattenNode.childrenCount)>0){data.items=flattenNode.children.map(_this.treeToItems)}}else if(forceOpen&&node.children){data.items=node.children.map(_this.treeToItems)}}return data};return _this}_createClass(CodeFileTree,[{key:"componentDidMount",value:function componentDidMount(){var path=this.props.match.params.path;if(path){this.props.openTreePath(path)}}},{key:"scrollIntoView",value:function scrollIntoView(el){if(el){var rect=el.getBoundingClientRect();var elemTop=rect.top;var elemBottom=rect.bottom;var isVisible=elemTop>=0&&elemBottom<=window.innerHeight;if(!isVisible){el.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}}},{key:"render",value:function render(){var items=[{name:"",id:"",items:(this.props.node.children||[]).map(this.treeToItems)}];return this.props.node&&react_1.default.createElement(eui_1.EuiSideNav,{items:items,isOpenOnMobile:true,className:"codeContainer__sideTabTree"})}},{key:"isPathOpen",value:function isPathOpen(path){return this.props.openedPaths.includes(path)}}]);return CodeFileTree}(react_1.default.Component);exports.CodeFileTree=CodeFileTree;var mapStateToProps=function mapStateToProps(state){return{node:state.file.tree,openedPaths:state.file.openedPaths}};var mapDispatchToProps={closeTreePath:actions_1.closeTreePath,openTreePath:actions_1.openTreePath};exports.FileTree=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(CodeFileTree))},4376:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var actions_1=__webpack_require__(40);var selectors_1=__webpack_require__(411);var code_symbol_tree_1=__webpack_require__(4377);var mapStateToProps=function mapStateToProps(state){return{structureTree:selectors_1.structureSelector(state),closedPaths:state.symbol.closedPaths}};var mapDispatchToProps={openSymbolPath:actions_1.openSymbolPath,closeSymbolPath:actions_1.closeSymbolPath};exports.SymbolTree=react_router_dom_1.withRouter(react_redux_1.connect(mapStateToProps,mapDispatchToProps)(code_symbol_tree_1.CodeSymbolTree))},4377:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var url_1=tslib_1.__importDefault(__webpack_require__(31));var main_1=__webpack_require__(4378);var lodash_1=__webpack_require__(3);var repository_utils_1=__webpack_require__(514);var sortSymbol=function sortSymbol(a,b){var lineDiff=a.location.range.start.line-b.location.range.start.line;if(lineDiff===0){return a.location.range.start.character-b.location.range.start.character}else{return lineDiff}};var CodeSymbolTree=function(_react_1$default$Pure){_inherits(CodeSymbolTree,_react_1$default$Pure);function CodeSymbolTree(){var _this;_classCallCheck(this,CodeSymbolTree);_this=_possibleConstructorReturn(this,_getPrototypeOf(CodeSymbolTree).apply(this,arguments));_this.state={};_this.getClickHandler=function(symbol){return function(){_this.setState({activeSymbol:symbol})}};_this.getStructureTreeItemRenderer=function(location,name,kind){var isContainer=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var forceOpen=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var path=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";return function(){var tokenType="tokenFile";tokenType="token".concat(Object.keys(main_1.SymbolKind).find(function(k){return main_1.SymbolKind[k]===kind}));var bg=null;if(_this.state.activeSymbol&&_this.state.activeSymbol.name===name&&lodash_1.isEqual(_this.state.activeSymbol.location,location)){bg=react_1.default.createElement("div",{className:"code-full-width-node"})}var queries=url_1.default.parse(_this.props.location.search,true).query;return react_1.default.createElement("div",{className:"code-symbol-container"},bg,react_1.default.createElement("div",{className:isContainer?"codeSymbol":"codeSymbol codeSymbol--nested"},isContainer&&(forceOpen?react_1.default.createElement(eui_1.EuiIcon,{type:"arrowDown",size:"s",color:"subdued",className:"codeStructureTree--icon",onClick:function onClick(){return _this.props.closeSymbolPath(path)}}):react_1.default.createElement(eui_1.EuiIcon,{type:"arrowRight",size:"s",color:"subdued",className:"codeStructureTree--icon",onClick:function onClick(){return _this.props.openSymbolPath(path)}})),react_1.default.createElement(react_router_dom_1.Link,{to:url_1.default.format({pathname:repository_utils_1.RepositoryUtils.locationToUrl(location),query:_objectSpread({sideTab:"structure"},queries)}),className:"code-symbol-link",onClick:_this.getClickHandler({name:name,location:location})},react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"none",alignItems:"center",className:"code-structure-node"},react_1.default.createElement(eui_1.EuiToken,{iconType:tokenType}),react_1.default.createElement(eui_1.EuiText,{"data-test-subj":"codeStructureTreeNode-".concat(name),size:"s"},name)))))}};_this.symbolsToSideNavItems=function(symbolsWithMembers){return symbolsWithMembers.sort(sortSymbol).map(function(s,index){var item={name:s.name,id:"".concat(s.name,"_").concat(index),onClick:function onClick(){return void 0}};if(s.members){item.forceOpen=!_this.props.closedPaths.includes(s.path);if(item.forceOpen){item.items=_this.symbolsToSideNavItems(s.members)}item.renderItem=_this.getStructureTreeItemRenderer(s.location,s.name,s.kind,true,item.forceOpen,s.path)}else{item.renderItem=_this.getStructureTreeItemRenderer(s.location,s.name,s.kind,false,false,s.path)}return item})};return _this}_createClass(CodeSymbolTree,[{key:"render",value:function render(){var items=[{name:"",id:"",items:this.symbolsToSideNavItems(this.props.structureTree)}];return react_1.default.createElement("div",{className:"codeContainer__sideTabTree"},react_1.default.createElement(eui_1.EuiSideNav,{items:items}))}}]);return CodeSymbolTree}(react_1.default.PureComponent);exports.CodeSymbolTree=CodeSymbolTree},4378:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(4320)},4379:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var react_redux_1=__webpack_require__(11);var react_router_dom_1=__webpack_require__(23);var actions_1=__webpack_require__(40);var url_1=__webpack_require__(76);var CSRoute=function(_react_router_dom_1$R){_inherits(CSRoute,_react_router_dom_1$R);function CSRoute(){_classCallCheck(this,CSRoute);return _possibleConstructorReturn(this,_getPrototypeOf(CSRoute).apply(this,arguments))}_createClass(CSRoute,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){if(this.state.match&&this.state.match.params&&this.state.match.params.revision){this.state.match.params.revision=url_1.decodeRevisionString(this.state.match.params.revision)}this.props.routeChange(_objectSpread({},this.state.match,{location:this.props.location}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.state.match&&this.state.match.params&&this.state.match.params.revision){this.state.match.params.revision=url_1.decodeRevisionString(this.state.match.params.revision)}this.props.routeChange(_objectSpread({},this.state.match,{location:this.props.location}))}}]);return CSRoute}(react_router_dom_1.Route);exports.Route=react_redux_1.connect(null,{routeChange:actions_1.routeChange})(CSRoute)},4380:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(11);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var url_1=tslib_1.__importDefault(__webpack_require__(31));var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var url_2=__webpack_require__(76);var project_item_1=__webpack_require__(1594);var search_bar_1=__webpack_require__(980);var code_result_1=__webpack_require__(4381);var empty_placeholder_1=__webpack_require__(4382);var pagination_1=__webpack_require__(4383);var side_bar_1=__webpack_require__(4384);var SearchPage=function(_react_1$default$Pure){_inherits(SearchPage,_react_1$default$Pure);function SearchPage(){var _this;_classCallCheck(this,SearchPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchPage).apply(this,arguments));_this.state={uri:""};_this.searchBar=null;_this.onLanguageFilterToggled=function(lang){var _this$props=_this.props,languages=_this$props.languages,repositories=_this$props.repositories,query=_this$props.query,page=_this$props.page;var tempLangs=new Set;if(languages&&languages.has(lang)){tempLangs=new Set(languages);tempLangs.delete(lang)}else{tempLangs=languages?new Set(languages):new Set;tempLangs.add(lang)}var queries=querystring_1.default.parse(url_2.history.location.search.replace("?",""));return function(){url_2.history.push(url_1.default.format({pathname:"/search",query:_objectSpread({},queries,{q:query,p:page,langs:Array.from(tempLangs).join(","),repos:repositories?Array.from(repositories).join(","):undefined})}))}};_this.onRepositoryFilterToggled=function(repo){var _this$props2=_this.props,languages=_this$props2.languages,repositories=_this$props2.repositories,query=_this$props2.query;var tempRepos=new Set;if(repositories&&repositories.has(repo)){tempRepos=new Set(repositories);tempRepos.delete(repo)}else{tempRepos=repositories?new Set(repositories):new Set;tempRepos.add(repo)}var queries=querystring_1.default.parse(url_2.history.location.search.replace("?",""));return function(){url_2.history.push(url_1.default.format({pathname:"/search",query:_objectSpread({},queries,{q:query,p:1,langs:languages?Array.from(languages).join(","):undefined,repos:Array.from(tempRepos).join(",")})}))}};return _this}_createClass(SearchPage,[{key:"componentDidMount",value:function componentDidMount(){chrome_1.default.breadcrumbs.push({text:"Search"})}},{key:"componentWillUnmount",value:function componentWillUnmount(){chrome_1.default.breadcrumbs.pop()}},{key:"render",value:function render(){var _this2=this;var _this$props3=this.props,query=_this$props3.query,scope=_this$props3.scope,documentSearchResults=_this$props3.documentSearchResults,languages=_this$props3.languages,isLoading=_this$props3.isLoading,repositories=_this$props3.repositories,repositorySearchResults=_this$props3.repositorySearchResults;var mainComp=isLoading?react_1.default.createElement("div",null,react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},"Loading..."),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiText,{textAlign:"center"},react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"}))):react_1.default.createElement(empty_placeholder_1.EmptyPlaceholder,{query:query,toggleOptionsFlyout:function toggleOptionsFlyout(){_this2.searchBar.toggleOptionsFlyout()}});var repoStats=[];var languageStats=[];if(scope===model_1.SearchScope.REPOSITORY&&repositorySearchResults&&repositorySearchResults.total>0){var repos=repositorySearchResults.repositories,from=repositorySearchResults.from,total=repositorySearchResults.total;var resultComps=repos&&repos.map(function(repo){return react_1.default.createElement(eui_1.EuiFlexItem,{key:repo.uri},react_1.default.createElement(project_item_1.ProjectItem,{key:repo.uri,project:repo,showStatus:false,enableManagement:false}))});var to=from+repos.length;var statsComp=react_1.default.createElement(eui_1.EuiTitle,{size:"m"},react_1.default.createElement("h1",null,"Showing ",total>0?from:0," - ",to," of ",total," results."));mainComp=react_1.default.createElement("div",{className:"codeContainer__search--inner"},statsComp,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement("div",{className:"codeContainer__search--results"},resultComps))}else if(scope===model_1.SearchScope.DEFAULT&&documentSearchResults){var stats=documentSearchResults.stats,results=documentSearchResults.results;var _total=stats.total,_from=stats.from,_to=stats.to,page=stats.page,totalPage=stats.totalPage;languageStats=stats.languageStats;repoStats=stats.repoStats;if(documentSearchResults.total>0){var _statsComp=react_1.default.createElement(eui_1.EuiTitle,{size:"m"},react_1.default.createElement("h1",null,"Showing ",_total>0?_from:0," - ",_to," of ",_total," results."));mainComp=react_1.default.createElement("div",{className:"codeContainer__search--inner"},_statsComp,react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement("div",{className:"codeContainer__search--results"},react_1.default.createElement(code_result_1.CodeResult,{results:results})),react_1.default.createElement(pagination_1.Pagination,{query:this.props.query,totalPage:totalPage,currentPage:page-1}))}}return react_1.default.createElement("div",{className:"codeContainer__root"},react_1.default.createElement("div",{className:"codeContainer__rootInner"},react_1.default.createElement(side_bar_1.SideBar,{query:this.props.query,scope:scope,repositories:repositories,languages:languages,repoFacets:repoStats,langFacets:languageStats,onLanguageFilterToggled:this.onLanguageFilterToggled,onRepositoryFilterToggled:this.onRepositoryFilterToggled}),react_1.default.createElement("div",{className:"codeContainer__search--main"},react_1.default.createElement(search_bar_1.SearchBar,{searchOptions:this.props.searchOptions,query:this.props.query,onSearchScopeChanged:this.props.onSearchScopeChanged,enableSubmitWhenOptionsChanged:true,ref:function ref(element){return _this2.searchBar=element}}),mainComp)))}}]);return SearchPage}(react_1.default.PureComponent);var mapStateToProps=function mapStateToProps(state){return _objectSpread({},state.search)};var mapDispatchToProps={onSearchScopeChanged:actions_1.changeSearchScope};exports.Search=react_redux_1.connect(mapStateToProps,mapDispatchToProps)(SearchPage)},4381:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(23);var repository_utils_1=__webpack_require__(514);var url_1=__webpack_require__(76);var codeblock_1=__webpack_require__(1602);var CodeResult=function(_react_1$default$Pure){_inherits(CodeResult,_react_1$default$Pure);function CodeResult(){_classCallCheck(this,CodeResult);return _possibleConstructorReturn(this,_getPrototypeOf(CodeResult).apply(this,arguments))}_createClass(CodeResult,[{key:"render",value:function render(){var _this=this;return this.props.results.map(function(item){var uri=item.uri,filePath=item.filePath,hits=item.hits,compositeContent=item.compositeContent;var content=compositeContent.content,lineMapping=compositeContent.lineMapping,ranges=compositeContent.ranges;var repoLinkUrl="/".concat(uri,"/tree/HEAD/");var fileLinkUrl="/".concat(uri,"/blob/HEAD/").concat(filePath);var key="".concat(uri).concat(filePath);var lineMappingFunc=function lineMappingFunc(l){return lineMapping[l-1]};return react_1.default.createElement("div",{key:"resultitem".concat(key),"data-test-subj":"codeSearchResultList"},react_1.default.createElement("div",{style:{marginBottom:".5rem"}},react_1.default.createElement(react_router_dom_1.Link,{to:repoLinkUrl},react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"row",alignItems:"center",justifyContent:"flexStart",gutterSize:"none"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"s",color:"subdued"},repository_utils_1.RepositoryUtils.orgNameFromUri(uri),"/")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{size:"s",color:"default"},react_1.default.createElement("strong",null,repository_utils_1.RepositoryUtils.repoNameFromUri(uri))))))),react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"xs",style:{marginBottom:"1rem"}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiBadge,{color:"default"},hits)),react_1.default.createElement(eui_1.EuiText,{size:"s"}," hits from ",react_1.default.createElement(react_router_dom_1.Link,{to:fileLinkUrl,"data-test-subj":"codeSearchResultFileItem"},filePath))),react_1.default.createElement(codeblock_1.CodeBlock,{key:"code".concat(key),language:item.language,startLine:0,code:content,highlightRanges:ranges,folding:false,lineNumbersFunc:lineMappingFunc,onClick:_this.onCodeClick.bind(_this,lineMapping,fileLinkUrl)}))})}},{key:"onCodeClick",value:function onCodeClick(lineNumbers,fileUrl,pos){var line=parseInt(lineNumbers[pos.lineNumber-1],10);if(!isNaN(line)){url_1.history.push("".concat(fileUrl,"!L").concat(line,":0"))}}}]);return CodeResult}(react_1.default.PureComponent);exports.CodeResult=CodeResult},4382:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.EmptyPlaceholder=function(props){return react_1.default.createElement(eui_1.EuiFlexGroup,{direction:"column",alignItems:"center"},react_1.default.createElement(eui_1.EuiSpacer,{size:"xxl"}),react_1.default.createElement(eui_1.EuiSpacer,{size:"xxl"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{style:{fontSize:"24px",color:"#98A2B3"}},'"',props.query,'"')),react_1.default.createElement(eui_1.EuiSpacer,{size:"l"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{style:{fontSize:"28px",color:"#1A1A1A"}},"Hmmm... we looked for that, but couldn’t find anything.")),react_1.default.createElement(eui_1.EuiSpacer,{size:"l"}),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiText,{style:{fontSize:"16px",color:"#69707D"}},"You can search for something else or modify your search settings.")),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiButton,{fill:true,onClick:function onClick(){if(props.toggleOptionsFlyout){props.toggleOptionsFlyout()}}},"Modify your search settings")))}},4383:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=tslib_1.__importDefault(__webpack_require__(31));var url_2=__webpack_require__(76);var Pagination=function(_react_1$default$Pure){_inherits(Pagination,_react_1$default$Pure);function Pagination(){var _this;_classCallCheck(this,Pagination);_this=_possibleConstructorReturn(this,_getPrototypeOf(Pagination).apply(this,arguments));_this.onPageClicked=function(page){var query=_this.props.query;var queries=querystring_1.default.parse(url_2.history.location.search.replace("?",""));url_2.history.push(url_1.default.format({pathname:"/search",query:_objectSpread({},queries,{q:query,p:page+1})}))};return _this}_createClass(Pagination,[{key:"render",value:function render(){return react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"l"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiPagination,{pageCount:this.props.totalPage,activePage:this.props.currentPage,onPageClick:this.onPageClicked})))}}]);return Pagination}(react_1.default.PureComponent);exports.Pagination=Pagination},4384:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var repository_utils_1=__webpack_require__(514);var scope_tabs_1=__webpack_require__(4385);var SideBar=function(_react_1$default$Pure){_inherits(SideBar,_react_1$default$Pure);function SideBar(){_classCallCheck(this,SideBar);return _possibleConstructorReturn(this,_getPrototypeOf(SideBar).apply(this,arguments))}_createClass(SideBar,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,languages=_this$props.languages,langFacets=_this$props.langFacets,repoFacets=_this$props.repoFacets,repositories=_this$props.repositories;var repoStatsComp=repoFacets.map(function(item,index){if(!!repositories&&repositories.has(item.name)){return react_1.default.createElement(eui_1.EuiFacetButton,{className:"codeFilter__item",key:"repostats".concat(index),onClick:_this.props.onRepositoryFilterToggled(item.name),quantity:item.value,isSelected:true,buttonRef:function buttonRef(){}},repository_utils_1.RepositoryUtils.repoNameFromUri(item.name))}else{return react_1.default.createElement(eui_1.EuiFacetButton,{className:"codeFilter__item",key:"repostats".concat(index),onClick:_this.props.onRepositoryFilterToggled(item.name),quantity:item.value,buttonRef:function buttonRef(){}},repository_utils_1.RepositoryUtils.repoNameFromUri(item.name))}});var langStatsComp=langFacets.map(function(item,index){if(languages&&languages.has(item.name)){return react_1.default.createElement(eui_1.EuiFacetButton,{className:"codeFilter__item",key:"langstats".concat(index),onClick:_this.props.onLanguageFilterToggled(item.name),quantity:item.value,isSelected:true,"data-test-subj":"codeSearchLanguageFilterItem",buttonRef:function buttonRef(){}},item.name)}else{return react_1.default.createElement(eui_1.EuiFacetButton,{className:"codeFilter__item",key:"langstats".concat(index),onClick:_this.props.onLanguageFilterToggled(item.name),quantity:item.value,"data-test-subj":"codeSearchLanguageFilterItem",buttonRef:function buttonRef(){}},item.name)}});return react_1.default.createElement("div",{className:"codeSidebar__container"},react_1.default.createElement(scope_tabs_1.ScopeTabs,{query:this.props.query,scope:this.props.scope}),react_1.default.createElement("div",{className:"codeFilter__group"},react_1.default.createElement(eui_1.EuiFlexGroup,{className:"codeFilter__title",gutterSize:"s",alignItems:"center",style:{marginBottom:".5rem"}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiToken,{iconType:"tokenRepo"})),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xxs"},react_1.default.createElement("h3",null,"Repositories")))),react_1.default.createElement(eui_1.EuiFacetGroup,null,repoStatsComp),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiFlexGroup,{className:"codeFilter__title",gutterSize:"s",alignItems:"center",style:{marginBottom:".5rem"}},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiToken,{iconType:"tokenElement",displayOptions:{color:"tokenTint07",shape:"rectangle",fill:true}})),react_1.default.createElement(eui_1.EuiFlexItem,null,react_1.default.createElement(eui_1.EuiTitle,{size:"xxs"},react_1.default.createElement("h3",null,"Languages")))),react_1.default.createElement(eui_1.EuiFacetGroup,{"data-test-subj":"codeSearchLanguageFilterList"},langStatsComp)))}}]);return SideBar}(react_1.default.PureComponent);exports.SideBar=SideBar},4385:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var eui_1=__webpack_require__(1);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var react_1=tslib_1.__importDefault(__webpack_require__(0));var url_1=tslib_1.__importDefault(__webpack_require__(31));var model_1=__webpack_require__(228);var url_2=__webpack_require__(76);var ScopeTabs=function(_react_1$default$Pure){_inherits(ScopeTabs,_react_1$default$Pure);function ScopeTabs(){var _this;_classCallCheck(this,ScopeTabs);_this=_possibleConstructorReturn(this,_getPrototypeOf(ScopeTabs).apply(this,arguments));_this.onTabClicked=function(scope){return function(){var query=_this.props.query;var queries=querystring_1.default.parse(url_2.history.location.search.replace("?",""));url_2.history.push(url_1.default.format({pathname:"/search",query:_objectSpread({},queries,{q:query,scope:scope})}))}};return _this}_createClass(ScopeTabs,[{key:"render",value:function render(){return react_1.default.createElement("div",{className:"codeContainer__tabs"},react_1.default.createElement(eui_1.EuiTabs,{style:{height:"100%"}},react_1.default.createElement(eui_1.EuiTab,{className:"codeUtility__width--half",isSelected:this.props.scope!==model_1.SearchScope.REPOSITORY,onClick:this.onTabClicked(model_1.SearchScope.DEFAULT)},"Code"),react_1.default.createElement(eui_1.EuiTab,{className:"codeUtility__width--half",isSelected:this.props.scope===model_1.SearchScope.REPOSITORY,onClick:this.onTabClicked(model_1.SearchScope.REPOSITORY)},"Repository")))}}]);return ScopeTabs}(react_1.default.PureComponent);exports.ScopeTabs=ScopeTabs},4386:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var help_menu_1=__webpack_require__(4387);exports.HelpMenu=help_menu_1.HelpMenu},4387:function(module,exports,__webpack_require__){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var eui_1=__webpack_require__(1);var documentation_links_1=__webpack_require__(1596);var HelpMenu=function(_react_1$default$Pure){_inherits(HelpMenu,_react_1$default$Pure);function HelpMenu(){_classCallCheck(this,HelpMenu);return _possibleConstructorReturn(this,_getPrototypeOf(HelpMenu).apply(this,arguments))}_createClass(HelpMenu,[{key:"render",value:function render(){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(eui_1.EuiHorizontalRule,{margin:"none"}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiText,{size:"s"},react_1.default.createElement("p",null,"For Code specific information")),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiButton,{fill:true,iconType:"popout",href:chrome_1.default.addBasePath("/app/code#/setup-guide")},"Setup Guide"),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(eui_1.EuiButton,{fill:true,iconType:"popout",href:documentation_links_1.documentationLinks.code,target:"_blank"},"Code documentation"))}}]);return HelpMenu}(react_1.default.PureComponent);exports.HelpMenu=HelpMenu},4388:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var redux_1=__webpack_require__(42);var redux_saga_1=tslib_1.__importDefault(__webpack_require__(985));var reducers_1=__webpack_require__(982);var sagas_1=__webpack_require__(4389);var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||redux_1.compose;var sagaMW=redux_saga_1.default();exports.store=redux_1.createStore(reducers_1.rootReducer,composeEnhancers(redux_1.applyMiddleware(sagaMW)));sagaMW.run(sagas_1.rootSaga)},4389:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(rootSaga);Object.defineProperty(exports,"__esModule",{value:true});var effects_1=__webpack_require__(301);var blame_1=__webpack_require__(4390);var commit_1=__webpack_require__(4391);var editor_1=__webpack_require__(4392);var file_1=__webpack_require__(4393);var language_server_1=__webpack_require__(4394);var project_status_1=__webpack_require__(4395);var repository_1=__webpack_require__(4396);var search_1=__webpack_require__(4397);var setup_1=__webpack_require__(4398);var status_1=__webpack_require__(1605);var structure_1=__webpack_require__(4399);function rootSaga(){return regeneratorRuntime.wrap(function rootSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return effects_1.fork(setup_1.watchRootRoute);case 2:_context.next=4;return effects_1.fork(commit_1.watchLoadCommit);case 4:_context.next=6;return effects_1.fork(repository_1.watchFetchRepos);case 6:_context.next=8;return effects_1.fork(repository_1.watchDeleteRepo);case 8:_context.next=10;return effects_1.fork(repository_1.watchIndexRepo);case 10:_context.next=12;return effects_1.fork(repository_1.watchImportRepo);case 12:_context.next=14;return effects_1.fork(file_1.watchFetchRepoTree);case 14:_context.next=16;return effects_1.fork(file_1.watchFetchRootRepoTree);case 16:_context.next=18;return effects_1.fork(file_1.watchFetchBranchesAndCommits);case 18:_context.next=20;return effects_1.fork(search_1.watchDocumentSearch);case 20:_context.next=22;return effects_1.fork(search_1.watchRepositorySearch);case 22:_context.next=24;return effects_1.fork(structure_1.watchLoadStructure);case 24:_context.next=26;return effects_1.fork(editor_1.watchLspMethods);case 26:_context.next=28;return effects_1.fork(editor_1.watchCloseReference);case 28:_context.next=30;return effects_1.fork(repository_1.watchFetchRepoConfigs);case 30:_context.next=32;return effects_1.fork(repository_1.watchInitRepoCmd);case 32:_context.next=34;return effects_1.fork(repository_1.watchGotoRepo);case 34:_context.next=36;return effects_1.fork(editor_1.watchLoadRepo);case 36:_context.next=38;return effects_1.fork(search_1.watchSearchRouteChange);case 38:_context.next=40;return effects_1.fork(repository_1.watchAdminRouteChange);case 40:_context.next=42;return effects_1.fork(editor_1.watchMainRouteChange);case 42:_context.next=44;return effects_1.fork(editor_1.watchLoadRepo);case 44:_context.next=46;return effects_1.fork(file_1.watchRepoRouteChange);case 46:_context.next=48;return effects_1.fork(blame_1.watchLoadBlame);case 48:_context.next=50;return effects_1.fork(blame_1.watchBlame);case 50:_context.next=52;return effects_1.fork(status_1.watchRepoCloneSuccess);case 52:_context.next=54;return effects_1.fork(status_1.watchRepoDeleteFinished);case 54:_context.next=56;return effects_1.fork(language_server_1.watchLoadLanguageServers);case 56:_context.next=58;return effects_1.fork(language_server_1.watchInstallLanguageServer);case 58:_context.next=60;return effects_1.fork(project_status_1.watchLoadRepoListStatus);case 60:_context.next=62;return effects_1.fork(project_status_1.watchLoadRepoStatus);case 62:_context.next=64;return effects_1.fork(project_status_1.watchPollingRepoStatus);case 64:_context.next=66;return effects_1.fork(project_status_1.watchResetPollingStatus);case 66:_context.next=68;return effects_1.fork(project_status_1.watchRepoDeleteStatusPolling);case 68:_context.next=70;return effects_1.fork(project_status_1.watchRepoIndexStatusPolling);case 70:_context.next=72;return effects_1.fork(project_status_1.watchRepoCloneStatusPolling);case 72:_context.next=74;return effects_1.fork(search_1.watchRepoScopeSearch);case 74:case"end":return _context.stop()}}},_marked)}exports.rootSaga=rootSaga},4390:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleFetchBlame),_marked2=regeneratorRuntime.mark(watchLoadBlame),_marked3=regeneratorRuntime.mark(handleBlame),_marked4=regeneratorRuntime.mark(watchBlame);Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var blame_1=__webpack_require__(1597);var patterns_1=__webpack_require__(448);function requestBlame(repoUri,revision,path){return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(repoUri,"/blame/").concat(encodeURIComponent(revision),"/").concat(path)})}function handleFetchBlame(action){var _action$payload,repoUri,revision,path,blame;return regeneratorRuntime.wrap(function handleFetchBlame$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_action$payload=action.payload,repoUri=_action$payload.repoUri,revision=_action$payload.revision,path=_action$payload.path;_context.next=4;return effects_1.call(requestBlame,repoUri,revision,path);case 4:blame=_context.sent;_context.next=7;return effects_1.put(blame_1.loadBlameSuccess(blame));case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);_context.next=13;return effects_1.put(blame_1.loadBlameFailed(_context.t0));case 13:case"end":return _context.stop()}}},_marked,null,[[0,9]])}function watchLoadBlame(){return regeneratorRuntime.wrap(function watchLoadBlame$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(String(blame_1.loadBlame),handleFetchBlame);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchLoadBlame=watchLoadBlame;function handleBlame(action){var _action$payload$param,resource,org,repo,revision,path,repoUri;return regeneratorRuntime.wrap(function handleBlame$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_action$payload$param=action.payload.params,resource=_action$payload$param.resource,org=_action$payload$param.org,repo=_action$payload$param.repo,revision=_action$payload$param.revision,path=_action$payload$param.path;repoUri="".concat(resource,"/").concat(org,"/").concat(repo);_context3.next=4;return effects_1.put(blame_1.loadBlame({repoUri:repoUri,revision:revision,path:path}));case 4:case"end":return _context3.stop()}}},_marked3)}function watchBlame(){return regeneratorRuntime.wrap(function watchBlame$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeEvery(patterns_1.blamePattern,handleBlame);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchBlame=watchBlame},4391:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleLoadCommit),_marked2=regeneratorRuntime.mark(watchLoadCommit);Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var actions_1=__webpack_require__(40);var patterns_1=__webpack_require__(448);function requestCommit(repo,commitId){return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(repo,"/diff/").concat(commitId)})}function handleLoadCommit(action){var _action$payload$param,commitId,resource,org,repo,repoUri,commit;return regeneratorRuntime.wrap(function handleLoadCommit$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_action$payload$param=action.payload.params,commitId=_action$payload$param.commitId,resource=_action$payload$param.resource,org=_action$payload$param.org,repo=_action$payload$param.repo;_context.next=4;return effects_1.put(actions_1.loadCommit(commitId));case 4:repoUri="".concat(resource,"/").concat(org,"/").concat(repo);_context.next=7;return effects_1.call(requestCommit,repoUri,commitId);case 7:commit=_context.sent;_context.next=10;return effects_1.put(actions_1.loadCommitSuccess(commit));case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_context.next=16;return effects_1.put(actions_1.loadCommitFailed(_context.t0));case 16:case"end":return _context.stop()}}},_marked,null,[[0,12]])}function watchLoadCommit(){return regeneratorRuntime.wrap(function watchLoadCommit$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(patterns_1.commitRoutePattern,handleLoadCommit);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchLoadCommit=watchLoadCommit},4392:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleReferences),_marked2=regeneratorRuntime.mark(watchLspMethods),_marked3=regeneratorRuntime.mark(handleCloseReferences),_marked4=regeneratorRuntime.mark(watchCloseReference),_marked5=regeneratorRuntime.mark(handleReference),_marked6=regeneratorRuntime.mark(handleFile),_marked7=regeneratorRuntime.mark(loadRepoSaga),_marked8=regeneratorRuntime.mark(watchLoadRepo),_marked9=regeneratorRuntime.mark(handleMainRouteChange),_marked10=regeneratorRuntime.mark(watchMainRouteChange);Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var kfetch_1=__webpack_require__(32);var url_1=tslib_1.__importDefault(__webpack_require__(31));var effects_1=__webpack_require__(301);var uri_util_1=__webpack_require__(375);var actions_1=__webpack_require__(40);var status_1=__webpack_require__(1590);var types_1=__webpack_require__(344);var file_1=__webpack_require__(1598);var selectors_1=__webpack_require__(411);var url_2=__webpack_require__(76);var patterns_1=__webpack_require__(448);function handleReferences(action){var params,_ref,title,files,repos;return regeneratorRuntime.wrap(function handleReferences$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;params=action.payload;_context.next=4;return effects_1.call(requestFindReferences,params);case 4:_ref=_context.sent;title=_ref.title;files=_ref.files;repos=Object.keys(files).map(function(repo){return{repo:repo,files:files[repo]}});_context.next=10;return effects_1.put(actions_1.findReferencesSuccess({title:title,repos:repos}));case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_context.next=16;return effects_1.put(actions_1.findReferencesFailed(_context.t0));case 16:case"end":return _context.stop()}}},_marked,null,[[0,12]])}function requestFindReferences(params){return kfetch_1.kfetch({pathname:"/api/code/lsp/findReferences",method:"POST",body:JSON.stringify(params)})}function watchLspMethods(){return regeneratorRuntime.wrap(function watchLspMethods$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeLatest(String(actions_1.findReferences),handleReferences);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchLspMethods=watchLspMethods;function handleCloseReferences(action){var search,pathname,queryParams,query;return regeneratorRuntime.wrap(function handleCloseReferences$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!action.payload){_context3.next=10;break}_context3.next=3;return effects_1.select(selectors_1.urlQueryStringSelector);case 3:search=_context3.sent;pathname=url_2.history.location.pathname;queryParams=url_1.default.parse(search,true).query;if(queryParams.tab){delete queryParams.tab}if(queryParams.refUrl){delete queryParams.refUrl}query=querystring_1.default.stringify(queryParams);if(query){url_2.history.push("".concat(pathname,"?").concat(query))}else{url_2.history.push(pathname)}case 10:case"end":return _context3.stop()}}},_marked3)}function watchCloseReference(){return regeneratorRuntime.wrap(function watchCloseReference$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeLatest(String(actions_1.closeReferences),handleCloseReferences);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchCloseReference=watchCloseReference;function handleReference(url){var refUrl,_uri_util_1$parseLspU,uri,position,schema,repoUri,file,revision;return regeneratorRuntime.wrap(function handleReference$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return effects_1.select(selectors_1.refUrlSelector);case 2:refUrl=_context5.sent;if(!(refUrl===url)){_context5.next=5;break}return _context5.abrupt("return");case 5:_uri_util_1$parseLspU=uri_util_1.parseLspUrl(url),uri=_uri_util_1$parseLspU.uri,position=_uri_util_1$parseLspU.position,schema=_uri_util_1$parseLspU.schema,repoUri=_uri_util_1$parseLspU.repoUri,file=_uri_util_1$parseLspU.file,revision=_uri_util_1$parseLspU.revision;if(!(uri&&position)){_context5.next=9;break}_context5.next=9;return effects_1.put(actions_1.findReferences({textDocument:{uri:uri_util_1.toCanonicalUrl({revision:revision,schema:schema,repoUri:repoUri,file:file})},position:position}));case 9:case"end":return _context5.stop()}}},_marked5)}function handleFile(repoUri,file,revision){var response,payload;return regeneratorRuntime.wrap(function handleFile$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return effects_1.select(selectors_1.fileSelector);case 2:response=_context6.sent;payload=response&&response.payload;if(!(payload&&payload.path===file&&payload.revision===revision&&payload.uri===repoUri)){_context6.next=6;break}return _context6.abrupt("return");case 6:_context6.next=8;return effects_1.put(actions_1.fetchFile({uri:repoUri,path:file,revision:revision}));case 8:case"end":return _context6.stop()}}},_marked6)}function fetchRepo(repoUri){return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(repoUri)})}function loadRepoSaga(action){var repo,repoScope;return regeneratorRuntime.wrap(function loadRepoSaga$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return effects_1.call(fetchRepo,action.payload);case 3:repo=_context7.sent;_context7.next=6;return effects_1.put(status_1.loadRepoSuccess(repo));case 6:_context7.next=8;return effects_1.select(selectors_1.repoScopeSelector);case 8:repoScope=_context7.sent;if(!(repoScope.length===0)){_context7.next=12;break}_context7.next=12;return effects_1.put(actions_1.turnOnDefaultRepoScope(repo));case 12:_context7.next=18;break;case 14:_context7.prev=14;_context7.t0=_context7["catch"](0);_context7.next=18;return effects_1.put(status_1.loadRepoFailed(_context7.t0));case 18:case"end":return _context7.stop()}}},_marked7,null,[[0,14]])}function watchLoadRepo(){return regeneratorRuntime.wrap(function watchLoadRepo$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return effects_1.takeEvery(String(status_1.loadRepo),loadRepoSaga);case 2:case"end":return _context8.stop()}}},_marked8)}exports.watchLoadRepo=watchLoadRepo;function handleMainRouteChange(action){var location,search,queryParams,_action$payload$param,resource,org,repo,file,pathType,revision,goto,repoUri,position,tab,refUrl,commits,lastRequestPath,currentTree,tree,isDir,openPath,isTreeLoaded,targetTree,uri;return regeneratorRuntime.wrap(function handleMainRouteChange$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:isTreeLoaded=function _ref2(isDirectory,targetTree){if(!isDirectory){return!!targetTree}else if(!targetTree){return false}else{return targetTree.children&&targetTree.children.length>0}};_context9.next=3;return effects_1.put(actions_1.fetchRepos());case 3:location=action.payload.location;search=location.search.startsWith("?")?location.search.substring(1):location.search;queryParams=querystring_1.default.parse(search);_action$payload$param=action.payload.params,resource=_action$payload$param.resource,org=_action$payload$param.org,repo=_action$payload$param.repo,file=_action$payload$param.path,pathType=_action$payload$param.pathType,revision=_action$payload$param.revision,goto=_action$payload$param.goto;repoUri="".concat(resource,"/").concat(org,"/").concat(repo);if(goto){position=uri_util_1.parseGoto(goto)}_context9.next=11;return effects_1.put(status_1.loadRepo(repoUri));case 11:_context9.next=13;return effects_1.put(actions_1.fetchRepoBranches({uri:repoUri}));case 13:if(!file){_context9.next=33;break}if(![types_1.PathTypes.blob,types_1.PathTypes.blame].includes(pathType)){_context9.next=25;break}_context9.next=17;return effects_1.put(actions_1.revealPosition(position));case 17:tab=queryParams.tab,refUrl=queryParams.refUrl;if(!(tab==="references"&&refUrl)){_context9.next=23;break}_context9.next=21;return effects_1.call(handleReference,decodeURIComponent(refUrl));case 21:_context9.next=25;break;case 23:_context9.next=25;return effects_1.put(actions_1.closeReferences(false));case 25:_context9.next=27;return effects_1.call(handleFile,repoUri,file,revision);case 27:_context9.next=29;return effects_1.select(function(state){return state.file.treeCommits[file]});case 29:commits=_context9.sent;if(!(commits===undefined)){_context9.next=33;break}_context9.next=33;return effects_1.put(actions_1.fetchTreeCommits({revision:revision,uri:repoUri,path:file}));case 33:_context9.next=35;return effects_1.select(selectors_1.lastRequestPathSelector);case 35:lastRequestPath=_context9.sent;_context9.next=38;return effects_1.select(selectors_1.getTree);case 38:currentTree=_context9.sent;if(!(currentTree.repoUri!==repoUri)){_context9.next=46;break}_context9.next=42;return effects_1.put(actions_1.resetRepoTree());case 42:_context9.next=44;return effects_1.put(actions_1.fetchRepoCommits({uri:repoUri,revision:revision}));case 44:_context9.next=46;return effects_1.put(actions_1.fetchRootRepoTree({uri:repoUri,revision:revision}));case 46:_context9.next=48;return effects_1.select(selectors_1.getTree);case 48:tree=_context9.sent;isDir=pathType===types_1.PathTypes.tree;openPath=isDir?file:(file||"").split("/").slice(0,-1).join("/");_context9.next=53;return effects_1.put(actions_1.openTreePath(openPath||""));case 53:_context9.next=55;return effects_1.select(selectors_1.createTreeSelector(file||""));case 55:targetTree=_context9.sent;if(isTreeLoaded(isDir,targetTree)){_context9.next=59;break}_context9.next=59;return effects_1.put(actions_1.fetchRepoTree({uri:repoUri,revision:revision,path:file||"",parents:file_1.getPathOfTree(tree,(file||"").split("/"))===null,isDir:isDir}));case 59:uri=uri_util_1.toCanonicalUrl({repoUri:repoUri,file:file,revision:revision});if(!(file&&pathType===types_1.PathTypes.blob)){_context9.next=64;break}if(!(lastRequestPath!==uri)){_context9.next=64;break}_context9.next=64;return effects_1.put(actions_1.loadStructure(uri));case 64:case"end":return _context9.stop()}}},_marked9)}function watchMainRouteChange(){return regeneratorRuntime.wrap(function watchMainRouteChange$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return effects_1.takeLatest(patterns_1.mainRoutePattern,handleMainRouteChange);case 2:case"end":return _context10.stop()}}},_marked10)}exports.watchMainRouteChange=watchMainRouteChange},4393:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var _marked=regeneratorRuntime.mark(handleFetchRepoTree),_marked2=regeneratorRuntime.mark(watchFetchRepoTree),_marked3=regeneratorRuntime.mark(handleFetchRootRepoTree),_marked4=regeneratorRuntime.mark(watchFetchRootRepoTree),_marked5=regeneratorRuntime.mark(handleFetchBranches),_marked6=regeneratorRuntime.mark(handleFetchCommits),_marked7=regeneratorRuntime.mark(handleFetchMoreCommits),_marked8=regeneratorRuntime.mark(handleFetchTreeCommits),_marked9=regeneratorRuntime.mark(handleFetchFile),_marked10=regeneratorRuntime.mark(handleFetchDirs),_marked11=regeneratorRuntime.mark(watchFetchBranchesAndCommits),_marked12=regeneratorRuntime.mark(handleRepoRouteChange),_marked13=regeneratorRuntime.mark(watchRepoRouteChange);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var kfetch_1=__webpack_require__(32);var url_1=tslib_1.__importDefault(__webpack_require__(31));var effects_1=__webpack_require__(301);var actions_1=__webpack_require__(40);var selectors_1=__webpack_require__(411);var patterns_1=__webpack_require__(448);function handleFetchRepoTree(action){var tree;return regeneratorRuntime.wrap(function handleFetchRepoTree$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.call(requestRepoTree,action.payload);case 3:tree=_context.sent;(tree.children||[]).sort(function(a,b){var typeDiff=a.type-b.type;if(typeDiff===0){return a.name>b.name?1:-1}else{return-typeDiff}});tree.repoUri=action.payload.uri;_context.next=8;return effects_1.put(actions_1.fetchRepoTreeSuccess({tree:tree,path:action.payload.path,withParents:action.payload.parents}));case 8:_context.next=17;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);if(!(action.payload.isDir&&_context.t0.body&&_context.t0.body.statusCode===404)){_context.next=15;break}_context.next=15;return effects_1.put(actions_1.dirNotFound(action.payload.path));case 15:_context.next=17;return effects_1.put(actions_1.fetchRepoTreeFailed(_objectSpread({},_context.t0,{path:action.payload.path})));case 17:case"end":return _context.stop()}}},_marked,null,[[0,10]])}function requestRepoTree(_ref){var uri=_ref.uri,revision=_ref.revision,path=_ref.path,_ref$limit=_ref.limit,limit=_ref$limit===void 0?1e3:_ref$limit,_ref$parents=_ref.parents,parents=_ref$parents===void 0?false:_ref$parents;var query={limit:limit,flatten:true};if(parents){query.parents=true}return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(uri,"/tree/").concat(encodeURIComponent(revision),"/").concat(path),query:query})}function watchFetchRepoTree(){return regeneratorRuntime.wrap(function watchFetchRepoTree$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(String(actions_1.fetchRepoTree),handleFetchRepoTree);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchFetchRepoTree=watchFetchRepoTree;function handleFetchRootRepoTree(action){var _action$payload,uri,revision,tree;return regeneratorRuntime.wrap(function handleFetchRootRepoTree$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_action$payload=action.payload,uri=_action$payload.uri,revision=_action$payload.revision;_context3.next=4;return effects_1.call(requestRepoTree,{uri:uri,revision:revision,path:"",isDir:true});case 4:tree=_context3.sent;_context3.next=7;return effects_1.put(actions_1.fetchRootRepoTreeSuccess(tree));case 7:_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](0);_context3.next=13;return effects_1.put(actions_1.fetchRootRepoTreeFailed(_context3.t0));case 13:case"end":return _context3.stop()}}},_marked3,null,[[0,9]])}function watchFetchRootRepoTree(){return regeneratorRuntime.wrap(function watchFetchRootRepoTree$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeEvery(String(actions_1.fetchRootRepoTree),handleFetchRootRepoTree);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchFetchRootRepoTree=watchFetchRootRepoTree;function handleFetchBranches(action){var results;return regeneratorRuntime.wrap(function handleFetchBranches$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return effects_1.call(requestBranches,action.payload);case 3:results=_context5.sent;_context5.next=6;return effects_1.put(actions_1.fetchRepoBranchesSuccess(results));case 6:_context5.next=12;break;case 8:_context5.prev=8;_context5.t0=_context5["catch"](0);_context5.next=12;return effects_1.put(actions_1.fetchRepoBranchesFailed(_context5.t0));case 12:case"end":return _context5.stop()}}},_marked5,null,[[0,8]])}function requestBranches(_ref2){var uri=_ref2.uri;return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(uri,"/references")})}function handleFetchCommits(action){var results;return regeneratorRuntime.wrap(function handleFetchCommits$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return effects_1.call(requestCommits,action.payload);case 3:results=_context6.sent;_context6.next=6;return effects_1.put(actions_1.fetchRepoCommitsSuccess(results));case 6:_context6.next=12;break;case 8:_context6.prev=8;_context6.t0=_context6["catch"](0);_context6.next=12;return effects_1.put(actions_1.fetchRepoCommitsFailed(_context6.t0));case 12:case"end":return _context6.stop()}}},_marked6,null,[[0,8]])}function handleFetchMoreCommits(action){var path,commits,revision,uri,newCommits;return regeneratorRuntime.wrap(function handleFetchMoreCommits$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return effects_1.select(selectors_1.currentPathSelector);case 3:path=_context7.sent;_context7.next=6;return effects_1.select(selectors_1.treeCommitsSelector);case 6:commits=_context7.sent;revision=commits.length>0?commits[commits.length-1].id:"head";uri=action.payload;_context7.next=11;return effects_1.call(requestCommits,{uri:uri,revision:revision},path,true);case 11:newCommits=_context7.sent;_context7.next=14;return effects_1.put(actions_1.fetchTreeCommitsSuccess({path:path,commits:newCommits,append:true}));case 14:_context7.next=20;break;case 16:_context7.prev=16;_context7.t0=_context7["catch"](0);_context7.next=20;return effects_1.put(actions_1.fetchTreeCommitsFailed(_context7.t0));case 20:case"end":return _context7.stop()}}},_marked7,null,[[0,16]])}function handleFetchTreeCommits(action){var path,commits;return regeneratorRuntime.wrap(function handleFetchTreeCommits$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;path=action.payload.path;_context8.next=4;return effects_1.call(requestCommits,action.payload,path);case 4:commits=_context8.sent;_context8.next=7;return effects_1.put(actions_1.fetchTreeCommitsSuccess({path:path,commits:commits}));case 7:_context8.next=13;break;case 9:_context8.prev=9;_context8.t0=_context8["catch"](0);_context8.next=13;return effects_1.put(actions_1.fetchTreeCommitsFailed(_context8.t0));case 13:case"end":return _context8.stop()}}},_marked8,null,[[0,9]])}function requestCommits(_ref3,path,loadMore,count){var uri=_ref3.uri,revision=_ref3.revision;var pathStr=path?"/".concat(path):"";var options={pathname:"/api/code/repo/".concat(uri,"/history/").concat(encodeURIComponent(revision)).concat(pathStr)};if(loadMore){options.query={after:1}}if(count){options.count=count}return kfetch_1.kfetch(options)}function requestFile(_x,_x2){return _requestFile.apply(this,arguments)}function _requestFile(){_requestFile=_asyncToGenerator(regeneratorRuntime.mark(function _callee(payload,line){var uri,revision,path,url,query,response,contentType,lang;return regeneratorRuntime.wrap(function _callee$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:uri=payload.uri,revision=payload.revision,path=payload.path;url="/api/code/repo/".concat(uri,"/blob/").concat(encodeURIComponent(revision),"/").concat(path);query={};if(line){query.line=line}_context14.next=6;return fetch(chrome_1.default.addBasePath(url_1.default.format({pathname:url,query:query})));case 6:response=_context14.sent;if(!(response.status>=200&&response.status<300)){_context14.next=28;break}contentType=response.headers.get("Content-Type");if(!(contentType&&contentType.startsWith("text/"))){_context14.next=21;break}lang=contentType.split(";")[0].substring("text/".length);if(!(lang==="big")){_context14.next=13;break}return _context14.abrupt("return",{payload:payload,content:"",isOversize:true});case 13:_context14.t0=payload;_context14.t1=lang;_context14.next=17;return response.text();case 17:_context14.t2=_context14.sent;return _context14.abrupt("return",{payload:_context14.t0,lang:_context14.t1,content:_context14.t2,isUnsupported:false});case 21:if(!(contentType&&contentType.startsWith("image/"))){_context14.next=25;break}return _context14.abrupt("return",{payload:payload,isImage:true,content:"",url:url,isUnsupported:false});case 25:return _context14.abrupt("return",{payload:payload,isImage:false,content:"",url:url,isUnsupported:true});case 26:_context14.next=30;break;case 28:if(!(response.status===404)){_context14.next=30;break}return _context14.abrupt("return",{payload:payload,isNotFound:true});case 30:throw new Error("invalid file type");case 31:case"end":return _context14.stop()}}},_callee)}));return _requestFile.apply(this,arguments)}exports.requestFile=requestFile;function handleFetchFile(action){var results;return regeneratorRuntime.wrap(function handleFetchFile$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return effects_1.call(requestFile,action.payload);case 3:results=_context9.sent;if(!results.isNotFound){_context9.next=11;break}_context9.next=7;return effects_1.put(actions_1.setNotFound(true));case 7:_context9.next=9;return effects_1.put(actions_1.fetchFileFailed(new Error("file not found")));case 9:_context9.next=13;break;case 11:_context9.next=13;return effects_1.put(actions_1.fetchFileSuccess(results));case 13:_context9.next=19;break;case 15:_context9.prev=15;_context9.t0=_context9["catch"](0);_context9.next=19;return effects_1.put(actions_1.fetchFileFailed(_context9.t0));case 19:case"end":return _context9.stop()}}},_marked9,null,[[0,15]])}function handleFetchDirs(action){var dir;return regeneratorRuntime.wrap(function handleFetchDirs$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return effects_1.call(requestRepoTree,action.payload);case 3:dir=_context10.sent;_context10.next=6;return effects_1.put(actions_1.fetchDirectorySuccess(dir));case 6:_context10.next=12;break;case 8:_context10.prev=8;_context10.t0=_context10["catch"](0);_context10.next=12;return actions_1.fetchDirectoryFailed(_context10.t0);case 12:case"end":return _context10.stop()}}},_marked10,null,[[0,8]])}function watchFetchBranchesAndCommits(){return regeneratorRuntime.wrap(function watchFetchBranchesAndCommits$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return effects_1.takeEvery(String(actions_1.fetchRepoBranches),handleFetchBranches);case 2:_context11.next=4;return effects_1.takeEvery(String(actions_1.fetchRepoCommits),handleFetchCommits);case 4:_context11.next=6;return effects_1.takeLatest(String(actions_1.fetchFile),handleFetchFile);case 6:_context11.next=8;return effects_1.takeEvery(String(actions_1.fetchDirectory),handleFetchDirs);case 8:_context11.next=10;return effects_1.takeLatest(String(actions_1.fetchTreeCommits),handleFetchTreeCommits);case 10:_context11.next=12;return effects_1.takeLatest(String(actions_1.fetchMoreCommits),handleFetchMoreCommits);case 12:case"end":return _context11.stop()}}},_marked11)}exports.watchFetchBranchesAndCommits=watchFetchBranchesAndCommits;function handleRepoRouteChange(action){var _action$payload$param,repo,org,resource,uri;return regeneratorRuntime.wrap(function handleRepoRouteChange$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_action$payload$param=action.payload.params,repo=_action$payload$param.repo,org=_action$payload$param.org,resource=_action$payload$param.resource;uri="".concat(resource,"/").concat(org,"/").concat(repo);_context12.next=4;return effects_1.put(actions_1.gotoRepo(uri));case 4:case"end":return _context12.stop()}}},_marked12)}function watchRepoRouteChange(){return regeneratorRuntime.wrap(function watchRepoRouteChange$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return effects_1.takeEvery(patterns_1.repoRoutePattern,handleRepoRouteChange);case 2:case"end":return _context13.stop()}}},_marked13)}exports.watchRepoRouteChange=watchRepoRouteChange},4394:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleInstallLanguageServer),_marked2=regeneratorRuntime.mark(handleLoadLanguageServer),_marked3=regeneratorRuntime.mark(watchLoadLanguageServers),_marked4=regeneratorRuntime.mark(watchInstallLanguageServer);Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var language_server_1=__webpack_require__(515);function fetchLangServers(){return kfetch_1.kfetch({pathname:"/api/code/install"})}function installLanguageServer(languageServer){return kfetch_1.kfetch({pathname:"/api/code/install/".concat(languageServer),method:"POST"})}function handleInstallLanguageServer(action){return regeneratorRuntime.wrap(function handleInstallLanguageServer$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.call(installLanguageServer,action.payload);case 3:_context.next=5;return effects_1.put(language_server_1.requestInstallLanguageServerSuccess(action.payload));case 5:_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);_context.next=11;return effects_1.put(language_server_1.requestInstallLanguageServerFailed(_context.t0));case 11:case"end":return _context.stop()}}},_marked,null,[[0,7]])}function handleLoadLanguageServer(){var langServers;return regeneratorRuntime.wrap(function handleLoadLanguageServer$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return effects_1.call(fetchLangServers);case 3:langServers=_context2.sent;_context2.next=6;return effects_1.put(language_server_1.loadLanguageServersSuccess(langServers));case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);_context2.next=12;return effects_1.put(language_server_1.loadLanguageServersFailed(_context2.t0));case 12:case"end":return _context2.stop()}}},_marked2,null,[[0,8]])}function watchLoadLanguageServers(){return regeneratorRuntime.wrap(function watchLoadLanguageServers$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return effects_1.takeEvery(String(language_server_1.loadLanguageServers),handleLoadLanguageServer);case 2:case"end":return _context3.stop()}}},_marked3)}exports.watchLoadLanguageServers=watchLoadLanguageServers;function watchInstallLanguageServer(){return regeneratorRuntime.wrap(function watchInstallLanguageServer$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeEvery(String(language_server_1.requestInstallLanguageServer),handleInstallLanguageServer);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchInstallLanguageServer=watchInstallLanguageServer},4395:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _marked=regeneratorRuntime.mark(loadRepoListStatus),_marked2=regeneratorRuntime.mark(loadRepoStatus),_marked3=regeneratorRuntime.mark(handleRepoStatus),_marked4=regeneratorRuntime.mark(handleRepoListStatus),_marked5=regeneratorRuntime.mark(triggerPollRepoStatus),_marked6=regeneratorRuntime.mark(handleReposStatusLoaded),_marked7=regeneratorRuntime.mark(watchLoadRepoListStatus),_marked8=regeneratorRuntime.mark(watchLoadRepoStatus),_marked9=regeneratorRuntime.mark(watchPollingRepoStatus),_marked10=regeneratorRuntime.mark(handleResetPollingStatus),_marked11=regeneratorRuntime.mark(watchResetPollingStatus),_marked12=regeneratorRuntime.mark(watchRepoCloneStatusPolling),_marked13=regeneratorRuntime.mark(watchRepoIndexStatusPolling),_marked14=regeneratorRuntime.mark(watchRepoDeleteStatusPolling);Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var moment_1=tslib_1.__importDefault(__webpack_require__(16));var redux_saga_1=__webpack_require__(985);var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var model_1=__webpack_require__(228);var ROUTES=tslib_1.__importStar(__webpack_require__(600));var selectors_1=__webpack_require__(411);var actions_1=__webpack_require__(40);var reducers_1=__webpack_require__(982);var status_1=__webpack_require__(1605);var REPO_STATUS_POLLING_FREQ_MS=1e3;function fetchStatus(repoUri){return kfetch_1.kfetch({pathname:"/api/code/repo/status/".concat(repoUri)})}function loadRepoListStatus(repos){var promises,statuses;return regeneratorRuntime.wrap(function loadRepoListStatus$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;promises=repos.map(function(repo){return effects_1.call(fetchStatus,repo.uri)});_context.next=4;return effects_1.all(promises);case 4:statuses=_context.sent;_context.next=7;return effects_1.put(actions_1.loadStatusSuccess(statuses.reduce(function(acc,status){acc[status.gitStatus.uri]=status;return acc},{})));case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);_context.next=13;return effects_1.put(actions_1.loadStatusFailed(_context.t0));case 13:case"end":return _context.stop()}}},_marked,null,[[0,9]])}function loadRepoStatus(repo){var repoStatus;return regeneratorRuntime.wrap(function loadRepoStatus$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return effects_1.call(fetchStatus,repo.uri);case 3:repoStatus=_context2.sent;_context2.next=6;return effects_1.put(actions_1.loadStatusSuccess(_defineProperty({},repo.uri,repoStatus)));case 6:_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);_context2.next=12;return effects_1.put(actions_1.loadStatusFailed(_context2.t0));case 12:case"end":return _context2.stop()}}},_marked2,null,[[0,8]])}function handleRepoStatus(action){var repository;return regeneratorRuntime.wrap(function handleRepoStatus$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:repository=action.payload;_context3.next=3;return effects_1.call(loadRepoStatus,repository);case 3:case"end":return _context3.stop()}}},_marked3)}function handleRepoListStatus(action){var repos;return regeneratorRuntime.wrap(function handleRepoListStatus$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:repos=action.payload;_context4.next=3;return effects_1.call(loadRepoListStatus,repos);case 3:case"end":return _context4.stop()}}},_marked4)}function isInProgress(progress){return progress<model_1.WorkerReservedProgress.COMPLETED&&progress>=model_1.WorkerReservedProgress.INIT}function triggerPollRepoStatus(state,repoUri){return regeneratorRuntime.wrap(function triggerPollRepoStatus$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=state;_context5.next=_context5.t0===reducers_1.RepoState.CLONING?3:_context5.t0===reducers_1.RepoState.INDEXING?6:_context5.t0===reducers_1.RepoState.DELETING?9:12;break;case 3:_context5.next=5;return effects_1.put(actions_1.pollRepoCloneStatusStart(repoUri));case 5:return _context5.abrupt("break",13);case 6:_context5.next=8;return effects_1.put(actions_1.pollRepoIndexStatusStart(repoUri));case 8:return _context5.abrupt("break",13);case 9:_context5.next=11;return effects_1.put(actions_1.pollRepoDeleteStatusStart(repoUri));case 11:return _context5.abrupt("break",13);case 12:return _context5.abrupt("break",13);case 13:case"end":return _context5.stop()}}},_marked5)}function handleReposStatusLoaded(action){var route,allStatuses,_arr,_i,repoUri,status,currentUri,_status;return regeneratorRuntime.wrap(function handleReposStatusLoaded$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return effects_1.select(selectors_1.routeSelector);case 2:route=_context6.sent;_context6.next=5;return effects_1.select(selectors_1.allStatusSelector);case 5:allStatuses=_context6.sent;if(!(route.path===ROUTES.ADMIN)){_context6.next=19;break}_arr=Object.keys(allStatuses);_i=0;case 9:if(!(_i<_arr.length)){_context6.next=17;break}repoUri=_arr[_i];status=allStatuses[repoUri];_context6.next=14;return triggerPollRepoStatus(status.state,repoUri);case 14:_i++;_context6.next=9;break;case 17:_context6.next=27;break;case 19:if(!(route.path===ROUTES.MAIN||route.path===ROUTES.MAIN_ROOT)){_context6.next=27;break}_context6.next=22;return effects_1.select(selectors_1.repoUriSelector);case 22:currentUri=_context6.sent;_status=allStatuses[currentUri];if(!_status){_context6.next=27;break}_context6.next=27;return triggerPollRepoStatus(_status.state,currentUri);case 27:case"end":return _context6.stop()}}},_marked6)}function watchLoadRepoListStatus(){return regeneratorRuntime.wrap(function watchLoadRepoListStatus$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return effects_1.takeEvery(String(actions_1.fetchReposSuccess),handleRepoListStatus);case 2:case"end":return _context7.stop()}}},_marked7)}exports.watchLoadRepoListStatus=watchLoadRepoListStatus;function watchLoadRepoStatus(){return regeneratorRuntime.wrap(function watchLoadRepoStatus$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return effects_1.takeLatest(String(actions_1.loadRepoSuccess),handleRepoStatus);case 2:case"end":return _context8.stop()}}},_marked8)}exports.watchLoadRepoStatus=watchLoadRepoStatus;function watchPollingRepoStatus(){return regeneratorRuntime.wrap(function watchPollingRepoStatus$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return effects_1.takeEvery(String(actions_1.loadStatusSuccess),handleReposStatusLoaded);case 2:case"end":return _context9.stop()}}},_marked9)}exports.watchPollingRepoStatus=watchPollingRepoStatus;function handleResetPollingStatus(action){var statuses,_arr2,_i2,repoUri;return regeneratorRuntime.wrap(function handleResetPollingStatus$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return effects_1.select(selectors_1.allStatusSelector);case 2:statuses=_context10.sent;_arr2=Object.keys(statuses);_i2=0;case 5:if(!(_i2<_arr2.length)){_context10.next=16;break}repoUri=_arr2[_i2];_context10.next=9;return effects_1.put(actions_1.pollRepoCloneStatusStop(repoUri));case 9:_context10.next=11;return effects_1.put(actions_1.pollRepoIndexStatusStop(repoUri));case 11:_context10.next=13;return effects_1.put(actions_1.pollRepoDeleteStatusStop(repoUri));case 13:_i2++;_context10.next=5;break;case 16:case"end":return _context10.stop()}}},_marked10)}function watchResetPollingStatus(){return regeneratorRuntime.wrap(function watchResetPollingStatus$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return effects_1.takeEvery(actions_1.routeChange,handleResetPollingStatus);case 2:case"end":return _context11.stop()}}},_marked11)}exports.watchResetPollingStatus=watchResetPollingStatus;var parseCloneStatusPollingRequest=function parseCloneStatusPollingRequest(action){if(action.type===String(actions_1.importRepoSuccess)){return action.payload.uri}else if(action.type===String(actions_1.pollRepoCloneStatusStart)){return action.payload}};var handleRepoCloneStatusProcess=regeneratorRuntime.mark(function handleRepoCloneStatusProcess(status,repoUri){var _status$gitStatus,progress,cloneProgress,errorMessage,timestamp;return regeneratorRuntime.wrap(function handleRepoCloneStatusProcess$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!(!status.gitStatus&&!status.indexStatus&&!status.deleteStatus||status.deleteStatus)){_context12.next=2;break}return _context12.abrupt("return",false);case 2:if(!status.gitStatus){_context12.next=9;break}_status$gitStatus=status.gitStatus,progress=_status$gitStatus.progress,cloneProgress=_status$gitStatus.cloneProgress,errorMessage=_status$gitStatus.errorMessage,timestamp=_status$gitStatus.timestamp;_context12.next=6;return effects_1.put(actions_1.updateCloneProgress({progress:progress,timestamp:moment_1.default(timestamp).toDate(),repoUri:repoUri,errorMessage:errorMessage,cloneProgress:cloneProgress}));case 6:return _context12.abrupt("return",isInProgress(progress));case 9:return _context12.abrupt("return",true);case 10:case"end":return _context12.stop()}}},handleRepoCloneStatusProcess)});function watchRepoCloneStatusPolling(){return regeneratorRuntime.wrap(function watchRepoCloneStatusPolling$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return effects_1.takeEvery([String(actions_1.importRepoSuccess),String(actions_1.pollRepoCloneStatusStart)],pollRepoCloneStatusRunner);case 2:case"end":return _context13.stop()}}},_marked12)}exports.watchRepoCloneStatusPolling=watchRepoCloneStatusPolling;var parseIndexStatusPollingRequest=function parseIndexStatusPollingRequest(action){if(action.type===String(actions_1.indexRepo)||action.type===String(actions_1.pollRepoIndexStatusStart)){return action.payload}else if(action.type===String(actions_1.updateCloneProgress)){return action.payload.repoUri}};var handleRepoIndexStatusProcess=regeneratorRuntime.mark(function handleRepoIndexStatusProcess(status,repoUri){return regeneratorRuntime.wrap(function handleRepoIndexStatusProcess$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!(!status.gitStatus&&!status.indexStatus&&!status.deleteStatus||status.deleteStatus)){_context14.next=2;break}return _context14.abrupt("return",false);case 2:if(!status.indexStatus){_context14.next=8;break}_context14.next=5;return effects_1.put(actions_1.updateIndexProgress({progress:status.indexStatus.progress,timestamp:moment_1.default(status.indexStatus.timestamp).toDate(),repoUri:repoUri}));case 5:return _context14.abrupt("return",isInProgress(status.indexStatus.progress));case 8:return _context14.abrupt("return",true);case 9:case"end":return _context14.stop()}}},handleRepoIndexStatusProcess)});function watchRepoIndexStatusPolling(){return regeneratorRuntime.wrap(function watchRepoIndexStatusPolling$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return effects_1.takeEvery([String(actions_1.indexRepo),status_1.cloneCompletedPattern,String(actions_1.pollRepoIndexStatusStart)],pollRepoIndexStatusRunner);case 2:case"end":return _context15.stop()}}},_marked13)}exports.watchRepoIndexStatusPolling=watchRepoIndexStatusPolling;var parseDeleteStatusPollingRequest=function parseDeleteStatusPollingRequest(action){return action.payload};var handleRepoDeleteStatusProcess=regeneratorRuntime.mark(function handleRepoDeleteStatusProcess(status,repoUri){return regeneratorRuntime.wrap(function handleRepoDeleteStatusProcess$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!(!status.gitStatus&&!status.indexStatus&&!status.deleteStatus)){_context16.next=4;break}_context16.next=3;return effects_1.put(actions_1.updateDeleteProgress({progress:model_1.WorkerReservedProgress.COMPLETED,repoUri:repoUri}));case 3:return _context16.abrupt("return",false);case 4:if(!status.deleteStatus){_context16.next=10;break}_context16.next=7;return effects_1.put(actions_1.updateDeleteProgress({progress:status.deleteStatus.progress,timestamp:moment_1.default(status.deleteStatus.timestamp).toDate(),repoUri:repoUri}));case 7:return _context16.abrupt("return",isInProgress(status.deleteStatus.progress));case 10:return _context16.abrupt("return",true);case 11:case"end":return _context16.stop()}}},handleRepoDeleteStatusProcess)});function watchRepoDeleteStatusPolling(){return regeneratorRuntime.wrap(function watchRepoDeleteStatusPolling$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return effects_1.takeEvery([String(actions_1.deleteRepo),String(actions_1.pollRepoDeleteStatusStart)],pollRepoDeleteStatusRunner);case 2:case"end":return _context17.stop()}}},_marked14)}exports.watchRepoDeleteStatusPolling=watchRepoDeleteStatusPolling;function createRepoStatusPollingRun(handleStatus,pollingStopActionFunction){return regeneratorRuntime.mark(function _callee(repoUri){var repoStatus,keepPolling;return regeneratorRuntime.wrap(function _callee$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.prev=0;case 1:if(false){}_context18.next=4;return effects_1.call(redux_saga_1.delay,REPO_STATUS_POLLING_FREQ_MS);case 4:_context18.next=6;return effects_1.call(fetchStatus,repoUri);case 6:repoStatus=_context18.sent;_context18.next=9;return handleStatus(repoStatus,repoUri);case 9:keepPolling=_context18.sent;if(keepPolling){_context18.next=13;break}_context18.next=13;return effects_1.put(pollingStopActionFunction(repoUri));case 13:_context18.next=1;break;case 15:_context18.prev=15;_context18.next=18;return effects_1.cancelled();case 18:if(!_context18.sent){_context18.next=19;break}case 19:return _context18.finish(15);case 20:case"end":return _context18.stop()}}},_callee,null,[[0,,15,20]])})}function createRepoStatusPollingRunner(parseRepoUri,pollStatusRun,pollingStopActionFunction,pollingStopActionFunctionPattern){return regeneratorRuntime.mark(function _callee2(action){var repoUri,task;return regeneratorRuntime.wrap(function _callee2$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:repoUri=parseRepoUri(action);_context19.next=3;return effects_1.put(pollingStopActionFunction(repoUri));case 3:_context19.next=5;return effects_1.fork(pollStatusRun,repoUri);case 5:task=_context19.sent;_context19.next=8;return effects_1.take(pollingStopActionFunctionPattern(repoUri));case 8:_context19.next=10;return effects_1.cancel(task);case 10:case"end":return _context19.stop()}}},_callee2)})}var runPollRepoCloneStatus=createRepoStatusPollingRun(handleRepoCloneStatusProcess,actions_1.pollRepoCloneStatusStop);var runPollRepoIndexStatus=createRepoStatusPollingRun(handleRepoIndexStatusProcess,actions_1.pollRepoIndexStatusStop);var runPollRepoDeleteStatus=createRepoStatusPollingRun(handleRepoDeleteStatusProcess,actions_1.pollRepoDeleteStatusStop);var pollRepoCloneStatusRunner=createRepoStatusPollingRunner(parseCloneStatusPollingRequest,runPollRepoCloneStatus,actions_1.pollRepoCloneStatusStop,status_1.cloneRepoStatusPollingStopPattern);var pollRepoIndexStatusRunner=createRepoStatusPollingRunner(parseIndexStatusPollingRequest,runPollRepoIndexStatus,actions_1.pollRepoIndexStatusStop,status_1.indexRepoStatusPollingStopPattern);var pollRepoDeleteStatusRunner=createRepoStatusPollingRunner(parseDeleteStatusPollingRequest,runPollRepoDeleteStatus,actions_1.pollRepoDeleteStatusStop,status_1.deleteRepoStatusPollingStopPattern)},4396:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleFetchRepos),_marked2=regeneratorRuntime.mark(handleDeleteRepo),_marked3=regeneratorRuntime.mark(handleIndexRepo),_marked4=regeneratorRuntime.mark(handleImportRepo),_marked5=regeneratorRuntime.mark(handleFetchRepoConfigs),_marked6=regeneratorRuntime.mark(handleInitCmd),_marked7=regeneratorRuntime.mark(handleGotoRepo),_marked8=regeneratorRuntime.mark(watchImportRepo),_marked9=regeneratorRuntime.mark(watchDeleteRepo),_marked10=regeneratorRuntime.mark(watchIndexRepo),_marked11=regeneratorRuntime.mark(watchFetchRepos),_marked12=regeneratorRuntime.mark(watchFetchRepoConfigs),_marked13=regeneratorRuntime.mark(watchInitRepoCmd),_marked14=regeneratorRuntime.mark(watchGotoRepo),_marked15=regeneratorRuntime.mark(handleAdminRouteChange),_marked16=regeneratorRuntime.mark(watchAdminRouteChange);Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var actions_1=__webpack_require__(40);var language_server_1=__webpack_require__(515);var url_1=__webpack_require__(76);var patterns_1=__webpack_require__(448);function requestRepos(){return kfetch_1.kfetch({pathname:"/api/code/repos"})}function handleFetchRepos(){var repos;return regeneratorRuntime.wrap(function handleFetchRepos$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.call(requestRepos);case 3:repos=_context.sent;_context.next=6;return effects_1.put(actions_1.fetchReposSuccess(repos));case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_context.next=12;return effects_1.put(actions_1.fetchReposFailed(_context.t0));case 12:case"end":return _context.stop()}}},_marked,null,[[0,8]])}function requestDeleteRepo(uri){return kfetch_1.kfetch({pathname:"/api/code/repo/".concat(uri),method:"delete"})}function requestIndexRepo(uri){return kfetch_1.kfetch({pathname:"/api/code/repo/index/".concat(uri),method:"post",body:JSON.stringify({reindex:true})})}function handleDeleteRepo(action){return regeneratorRuntime.wrap(function handleDeleteRepo$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return effects_1.call(requestDeleteRepo,action.payload||"");case 3:_context2.next=5;return effects_1.put(actions_1.deleteRepoSuccess(action.payload||""));case 5:_context2.next=7;return effects_1.put(actions_1.updateDeleteProgress({repoUri:action.payload,progress:0}));case 7:_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](0);_context2.next=13;return effects_1.put(actions_1.deleteRepoFailed(_context2.t0));case 13:case"end":return _context2.stop()}}},_marked2,null,[[0,9]])}function handleIndexRepo(action){return regeneratorRuntime.wrap(function handleIndexRepo$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return effects_1.call(requestIndexRepo,action.payload||"");case 3:_context3.next=5;return effects_1.put(actions_1.indexRepoSuccess(action.payload||""));case 5:_context3.next=7;return effects_1.put(actions_1.updateIndexProgress({repoUri:action.payload,progress:0}));case 7:_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](0);_context3.next=13;return effects_1.put(actions_1.indexRepoFailed(_context3.t0));case 13:case"end":return _context3.stop()}}},_marked3,null,[[0,9]])}function requestImportRepo(uri){return kfetch_1.kfetch({pathname:"/api/code/repo",method:"post",body:JSON.stringify({url:uri})})}function handleImportRepo(action){var data;return regeneratorRuntime.wrap(function handleImportRepo$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return effects_1.call(requestImportRepo,action.payload||"");case 3:data=_context4.sent;_context4.next=6;return effects_1.put(actions_1.importRepoSuccess(data));case 6:_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4["catch"](0);_context4.next=12;return effects_1.put(actions_1.importRepoFailed(_context4.t0));case 12:case"end":return _context4.stop()}}},_marked4,null,[[0,8]])}function handleFetchRepoConfigs(){var configs;return regeneratorRuntime.wrap(function handleFetchRepoConfigs$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return effects_1.call(requestRepoConfigs);case 3:configs=_context5.sent;_context5.next=6;return effects_1.put(actions_1.fetchRepoConfigSuccess(configs));case 6:_context5.next=12;break;case 8:_context5.prev=8;_context5.t0=_context5["catch"](0);_context5.next=12;return effects_1.put(actions_1.fetchRepoConfigFailed(_context5.t0));case 12:case"end":return _context5.stop()}}},_marked5,null,[[0,8]])}function requestRepoConfigs(){return kfetch_1.kfetch({pathname:"/api/code/workspace",method:"get"})}function handleInitCmd(action){var repoUri;return regeneratorRuntime.wrap(function handleInitCmd$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:repoUri=action.payload;_context6.next=3;return effects_1.call(requestRepoInitCmd,repoUri);case 3:case"end":return _context6.stop()}}},_marked6)}function requestRepoInitCmd(repoUri){return kfetch_1.kfetch({pathname:"/api/code/workspace/".concat(repoUri,"/master"),query:{force:true},method:"post"})}function handleGotoRepo(action){var repoUri,loadRepoDoneAction;return regeneratorRuntime.wrap(function handleGotoRepo$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;repoUri=action.payload;_context7.next=4;return effects_1.put(actions_1.loadRepo(repoUri));case 4:_context7.next=6;return effects_1.take([String(actions_1.loadRepoSuccess),String(actions_1.loadRepoFailed)]);case 6:loadRepoDoneAction=_context7.sent;if(loadRepoDoneAction.type===String(actions_1.loadRepoSuccess)){url_1.history.replace("/".concat(repoUri,"/tree/").concat(loadRepoDoneAction.payload.defaultBranch||"master"))}else{url_1.history.replace("/".concat(action.payload,"/tree/master"))}_context7.next=15;break;case 10:_context7.prev=10;_context7.t0=_context7["catch"](0);url_1.history.replace("/".concat(action.payload,"/tree/master"));_context7.next=15;return effects_1.put(actions_1.gotoRepoFailed(_context7.t0));case 15:case"end":return _context7.stop()}}},_marked7,null,[[0,10]])}function watchImportRepo(){return regeneratorRuntime.wrap(function watchImportRepo$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return effects_1.takeEvery(String(actions_1.importRepo),handleImportRepo);case 2:case"end":return _context8.stop()}}},_marked8)}exports.watchImportRepo=watchImportRepo;function watchDeleteRepo(){return regeneratorRuntime.wrap(function watchDeleteRepo$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return effects_1.takeEvery(String(actions_1.deleteRepo),handleDeleteRepo);case 2:case"end":return _context9.stop()}}},_marked9)}exports.watchDeleteRepo=watchDeleteRepo;function watchIndexRepo(){return regeneratorRuntime.wrap(function watchIndexRepo$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return effects_1.takeEvery(String(actions_1.indexRepo),handleIndexRepo);case 2:case"end":return _context10.stop()}}},_marked10)}exports.watchIndexRepo=watchIndexRepo;function watchFetchRepos(){return regeneratorRuntime.wrap(function watchFetchRepos$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return effects_1.takeEvery(String(actions_1.fetchRepos),handleFetchRepos);case 2:case"end":return _context11.stop()}}},_marked11)}exports.watchFetchRepos=watchFetchRepos;function watchFetchRepoConfigs(){return regeneratorRuntime.wrap(function watchFetchRepoConfigs$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return effects_1.takeEvery(String(actions_1.fetchRepoConfigs),handleFetchRepoConfigs);case 2:case"end":return _context12.stop()}}},_marked12)}exports.watchFetchRepoConfigs=watchFetchRepoConfigs;function watchInitRepoCmd(){return regeneratorRuntime.wrap(function watchInitRepoCmd$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return effects_1.takeEvery(String(actions_1.initRepoCommand),handleInitCmd);case 2:case"end":return _context13.stop()}}},_marked13)}exports.watchInitRepoCmd=watchInitRepoCmd;function watchGotoRepo(){return regeneratorRuntime.wrap(function watchGotoRepo$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return effects_1.takeLatest(String(actions_1.gotoRepo),handleGotoRepo);case 2:case"end":return _context14.stop()}}},_marked14)}exports.watchGotoRepo=watchGotoRepo;function handleAdminRouteChange(){return regeneratorRuntime.wrap(function handleAdminRouteChange$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return effects_1.put(actions_1.fetchRepos());case 2:_context15.next=4;return effects_1.put(actions_1.fetchRepoConfigs());case 4:_context15.next=6;return effects_1.put(language_server_1.loadLanguageServers());case 6:case"end":return _context15.stop()}}},_marked15)}function watchAdminRouteChange(){return regeneratorRuntime.wrap(function watchAdminRouteChange$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return effects_1.takeLatest(patterns_1.adminRoutePattern,handleAdminRouteChange);case 2:case"end":return _context16.stop()}}},_marked16)}exports.watchAdminRouteChange=watchAdminRouteChange},4397:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleDocumentSearch),_marked2=regeneratorRuntime.mark(watchDocumentSearch),_marked3=regeneratorRuntime.mark(handleRepositorySearch),_marked4=regeneratorRuntime.mark(watchRepositorySearch),_marked5=regeneratorRuntime.mark(handleSearchRouteChange),_marked6=regeneratorRuntime.mark(resetDefaultRepoScope),_marked7=regeneratorRuntime.mark(watchSearchRouteChange),_marked8=regeneratorRuntime.mark(handleReposSearchForScope),_marked9=regeneratorRuntime.mark(watchRepoScopeSearch);Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var querystring_1=tslib_1.__importDefault(__webpack_require__(74));var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var model_1=__webpack_require__(228);var actions_1=__webpack_require__(40);var patterns_1=__webpack_require__(448);function requestDocumentSearch(payload){var query=payload.query,page=payload.page,languages=payload.languages,repositories=payload.repositories,repoScope=payload.repoScope;var queryParams={q:query};if(page){queryParams.p=page}if(languages){queryParams.langs=languages}if(repositories){queryParams.repos=repositories}if(repoScope){queryParams.repoScope=repoScope}if(query&&query.length>0){return kfetch_1.kfetch({pathname:"/api/code/search/doc",method:"get",query:queryParams})}else{return{documents:[],took:0,total:0}}}function handleDocumentSearch(action){var data;return regeneratorRuntime.wrap(function handleDocumentSearch$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.call(requestDocumentSearch,action.payload);case 3:data=_context.sent;_context.next=6;return effects_1.put(actions_1.documentSearchSuccess(data));case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_context.next=12;return effects_1.put(actions_1.documentSearchFailed(_context.t0));case 12:case"end":return _context.stop()}}},_marked,null,[[0,8]])}function requestRepositorySearch(q){return kfetch_1.kfetch({pathname:"/api/code/search/repo",method:"get",query:{q:q}})}function watchDocumentSearch(){return regeneratorRuntime.wrap(function watchDocumentSearch$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeLatest(String(actions_1.documentSearch),handleDocumentSearch);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchDocumentSearch=watchDocumentSearch;function handleRepositorySearch(action){var data;return regeneratorRuntime.wrap(function handleRepositorySearch$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return effects_1.call(requestRepositorySearch,action.payload.query);case 3:data=_context3.sent;_context3.next=6;return effects_1.put(actions_1.repositorySearchSuccess(data));case 6:_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3["catch"](0);_context3.next=12;return effects_1.put(actions_1.repositorySearchFailed(_context3.t0));case 12:case"end":return _context3.stop()}}},_marked3,null,[[0,8]])}function watchRepositorySearch(){return regeneratorRuntime.wrap(function watchRepositorySearch$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return effects_1.takeLatest([String(actions_1.repositorySearch),String(actions_1.repositorySearchQueryChanged)],handleRepositorySearch);case 2:case"end":return _context4.stop()}}},_marked4)}exports.watchRepositorySearch=watchRepositorySearch;function handleSearchRouteChange(action){var location,rawSearchStr,queryParams,q,p,langs,repos,scope,repoScope;return regeneratorRuntime.wrap(function handleSearchRouteChange$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:location=action.payload.location;rawSearchStr=location.search.length>0?location.search.substring(1):"";queryParams=querystring_1.default.parse(rawSearchStr);q=queryParams.q,p=queryParams.p,langs=queryParams.langs,repos=queryParams.repos,scope=queryParams.scope,repoScope=queryParams.repoScope;_context5.next=6;return effects_1.put(actions_1.changeSearchScope(scope));case 6:if(!(scope===model_1.SearchScope.REPOSITORY)){_context5.next=11;break}_context5.next=9;return effects_1.put(actions_1.repositorySearch({query:q}));case 9:_context5.next=13;break;case 11:_context5.next=13;return effects_1.put(actions_1.documentSearch({query:q,page:p,languages:langs,repositories:repos,repoScope:repoScope}));case 13:case"end":return _context5.stop()}}},_marked5)}function resetDefaultRepoScope(){return regeneratorRuntime.wrap(function resetDefaultRepoScope$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return effects_1.put(actions_1.turnOffDefaultRepoScope());case 2:case"end":return _context6.stop()}}},_marked6)}function watchSearchRouteChange(){return regeneratorRuntime.wrap(function watchSearchRouteChange$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return effects_1.takeLatest(patterns_1.searchRoutePattern,handleSearchRouteChange);case 2:_context7.next=4;return effects_1.takeLatest(patterns_1.adminRoutePattern,resetDefaultRepoScope);case 4:case"end":return _context7.stop()}}},_marked7)}exports.watchSearchRouteChange=watchSearchRouteChange;function handleReposSearchForScope(action){var data;return regeneratorRuntime.wrap(function handleReposSearchForScope$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return effects_1.call(requestRepositorySearch,action.payload.query);case 3:data=_context8.sent;_context8.next=6;return effects_1.put(actions_1.searchReposForScopeSuccess(data));case 6:_context8.next=12;break;case 8:_context8.prev=8;_context8.t0=_context8["catch"](0);_context8.next=12;return effects_1.put(actions_1.searchReposForScopeFailed(_context8.t0));case 12:case"end":return _context8.stop()}}},_marked8,null,[[0,8]])}function watchRepoScopeSearch(){return regeneratorRuntime.wrap(function watchRepoScopeSearch$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return effects_1.takeEvery(actions_1.searchReposForScope,handleReposSearchForScope);case 2:case"end":return _context9.stop()}}},_marked9)}exports.watchRepoScopeSearch=watchRepoScopeSearch},4398:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(handleRootRoute),_marked2=regeneratorRuntime.mark(watchRootRoute);Object.defineProperty(exports,"__esModule",{value:true});var kfetch_1=__webpack_require__(32);var effects_1=__webpack_require__(301);var actions_1=__webpack_require__(40);var patterns_1=__webpack_require__(448);function handleRootRoute(){return regeneratorRuntime.wrap(function handleRootRoute$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.call(requestSetup);case 3:_context.next=5;return effects_1.put(actions_1.checkSetupSuccess());case 5:_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);_context.next=11;return effects_1.put(actions_1.checkSetupFailed());case 11:case"end":return _context.stop()}}},_marked,null,[[0,7]])}function requestSetup(){return kfetch_1.kfetch({pathname:"/api/code/setup",method:"head"})}function watchRootRoute(){return regeneratorRuntime.wrap(function watchRootRoute$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(patterns_1.rootRoutePattern,handleRootRoute);case 2:_context2.next=4;return effects_1.takeEvery(patterns_1.setupRoutePattern,handleRootRoute);case 4:case"end":return _context2.stop()}}},_marked2)}exports.watchRootRoute=watchRootRoute},4399:function(module,exports,__webpack_require__){"use strict";var _marked=regeneratorRuntime.mark(beginPollingSymbols),_marked2=regeneratorRuntime.mark(watchLoadStructure),_marked3=regeneratorRuntime.mark(pollingSaga);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var redux_saga_1=__webpack_require__(985);var effects_1=__webpack_require__(301);var lsp_client_1=__webpack_require__(983);var actions_1=__webpack_require__(40);var lsp_error_codes_1=__webpack_require__(1599);var language_server_1=__webpack_require__(515);var symbol_utils_1=__webpack_require__(4400);var STRUCTURE_TREE_POLLING_INTERVAL_SEC=3;var SPECIAL_SYMBOL_NAME="{...}";var SPECIAL_CONTAINER_NAME="";var sortSymbol=function sortSymbol(a,b){var lineDiff=a.location.range.start.line-b.location.range.start.line;if(lineDiff===0){return a.location.range.start.character-b.location.range.start.character}else{return lineDiff}};var generateStructureTree=function generateStructureTree(symbols){var structureTree=[];function findContainer(tree,containerName){if(containerName===undefined){return undefined}var result=tree.find(function(s){return symbol_utils_1.matchContainerName(containerName,s.name)});if(result){return result}else{var subTree=tree.reduce(function(s,t){return t.members?s.concat(t.members):s},[]);if(subTree.length>0){return findContainer(subTree,containerName)}else{return undefined}}}symbols.sort(sortSymbol).forEach(function(s,index,arr){var container;if(s.containerName===SPECIAL_CONTAINER_NAME){container=_.findLast(arr.slice(0,index),function(sy){return sy.name===SPECIAL_SYMBOL_NAME})}else{container=findContainer(structureTree,s.containerName)}if(container){if(!container.path){container.path=container.name}if(container.members){container.members.push(_objectSpread({},s,{path:"".concat(container.path,"/").concat(s.name)}))}else{container.members=[_objectSpread({},s,{path:"".concat(container.path,"/").concat(s.name)})]}}else{structureTree.push(_objectSpread({},s,{path:s.name}))}});return structureTree};function requestStructure(uri){var lspClient=new lsp_client_1.LspRestClient("/api/code/lsp");var lspMethods=new lsp_client_1.TextDocumentMethods(lspClient);return lspMethods.documentSymbol.send({textDocument:{uri:uri||""}})}function beginPollingSymbols(action){var pollingTaskId;return regeneratorRuntime.wrap(function beginPollingSymbols$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return effects_1.fork(pollingSaga,action);case 3:pollingTaskId=_context.sent;_context.next=6;return effects_1.take([String(actions_1.loadStructureSuccess),String(actions_1.loadStructureFailed)]);case 6:_context.next=8;return effects_1.cancel(pollingTaskId);case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);_context.next=14;return effects_1.put(actions_1.loadStructureFailed(_context.t0));case 14:case"end":return _context.stop()}}},_marked,null,[[0,10]])}function watchLoadStructure(){return regeneratorRuntime.wrap(function watchLoadStructure$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return effects_1.takeEvery(String(actions_1.loadStructure),beginPollingSymbols);case 2:case"end":return _context2.stop()}}},_marked2)}exports.watchLoadStructure=watchLoadStructure;function pollingSaga(action){var data,structureTree;return regeneratorRuntime.wrap(function pollingSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(false){}_context3.prev=1;_context3.next=4;return effects_1.call(requestStructure,"git:/".concat(action.payload));case 4:data=_context3.sent;structureTree=generateStructureTree(data);_context3.next=8;return effects_1.put(actions_1.loadStructureSuccess({path:action.payload,data:data,structureTree:structureTree}));case 8:_context3.next=21;break;case 10:_context3.prev=10;_context3.t0=_context3["catch"](1);if(!(_context3.t0.code&&_context3.t0.code===lsp_error_codes_1.ServerNotInitialized)){_context3.next=19;break}_context3.next=15;return effects_1.put(language_server_1.languageServerInitializing());case 15:_context3.next=17;return redux_saga_1.delay(STRUCTURE_TREE_POLLING_INTERVAL_SEC*1e3);case 17:_context3.next=21;break;case 19:_context3.next=21;return effects_1.put(actions_1.loadStructureFailed(_context3.t0));case 21:_context3.next=0;break;case 23:case"end":return _context3.stop()}}},_marked3,null,[[1,10]])}},4400:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.matchContainerName=function(containerName,symbolName){return new RegExp("^".concat(containerName,"[[<(].*[>)]]?$")).test(symbolName)}},447:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);__webpack_require__(4294);__webpack_require__(4295);__webpack_require__(4296);__webpack_require__(4297);__webpack_require__(4298);__webpack_require__(4299);__webpack_require__(4300);__webpack_require__(4301);var monaco=tslib_1.__importStar(__webpack_require__(4302));exports.monaco=monaco;var eui_theme_dark_json_1=tslib_1.__importDefault(__webpack_require__(574));var eui_theme_light_json_1=tslib_1.__importDefault(__webpack_require__(41));__webpack_require__(4303);__webpack_require__(4304);__webpack_require__(4305);__webpack_require__(4306);__webpack_require__(4307);__webpack_require__(4308);__webpack_require__(4309);__webpack_require__(4310);__webpack_require__(4311);__webpack_require__(4312);__webpack_require__(4313);__webpack_require__(4314);__webpack_require__(4315);__webpack_require__(4316);__webpack_require__(4317);__webpack_require__(4318);__webpack_require__(4319);__webpack_require__(4320);__webpack_require__(4321);__webpack_require__(4322);__webpack_require__(4323);__webpack_require__(4324);__webpack_require__(4325);__webpack_require__(4326);__webpack_require__(4327);__webpack_require__(4328);__webpack_require__(4329);var chrome_1=tslib_1.__importDefault(__webpack_require__(9));var IS_DARK_THEME=chrome_1.default.getUiSettingsClient().get("theme:darkMode");var themeName=IS_DARK_THEME?eui_theme_dark_json_1.default:eui_theme_light_json_1.default;var syntaxTheme={keyword:themeName.euiColorAccent,comment:themeName.euiColorDarkShade,delimiter:themeName.euiColorSecondary,string:themeName.euiColorPrimary,number:themeName.euiColorWarning,regexp:themeName.euiColorPrimary,types:"".concat(IS_DARK_THEME?themeName.euiColorVis5:themeName.euiColorVis9),annotation:themeName.euiColorLightShade,tag:themeName.euiColorAccent,symbol:themeName.euiColorDanger,foreground:themeName.euiColorDarkestShade,editorBackground:themeName.euiColorEmptyShade,lineNumbers:themeName.euiColorDarkShade,editorIndentGuide:themeName.euiColorLightShade,selectionBackground:"".concat(IS_DARK_THEME?"#343551":"#E3E4ED"),editorWidgetBackground:themeName.euiColorLightestShade,editorWidgetBorder:themeName.euiColorLightShade,findMatchBackground:themeName.euiColorWarning,findMatchHighlightBackground:themeName.euiColorWarning};monaco.editor.defineTheme("euiColors",{base:"vs",inherit:true,rules:[{token:"keyword",foreground:syntaxTheme.keyword,fontStyle:"bold"},{token:"comment",foreground:syntaxTheme.comment},{token:"delimiter",foreground:syntaxTheme.delimiter},{token:"string",foreground:syntaxTheme.string},{token:"number",foreground:syntaxTheme.number},{token:"regexp",foreground:syntaxTheme.regexp},{token:"type",foreground:syntaxTheme.types},{token:"annotation",foreground:syntaxTheme.annotation},{token:"tag",foreground:syntaxTheme.tag},{token:"symbol",foreground:syntaxTheme.symbol},{token:"",foreground:syntaxTheme.foreground}],colors:{"editor.foreground":syntaxTheme.foreground,"editor.background":syntaxTheme.editorBackground,"editorLineNumber.foreground":syntaxTheme.lineNumbers,"editorLineNumber.activeForeground":syntaxTheme.lineNumbers,"editorIndentGuide.background":syntaxTheme.editorIndentGuide,"editor.selectionBackground":syntaxTheme.selectionBackground,"editorWidget.border":syntaxTheme.editorWidgetBorder,"editorWidget.background":syntaxTheme.editorWidgetBackground}});monaco.editor.setTheme("euiColors")},448:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var actions_1=__webpack_require__(40);var types_1=__webpack_require__(344);var ROUTES=tslib_1.__importStar(__webpack_require__(600));exports.generatePattern=function(path){return function(action){return action.type===String(actions_1.routeChange)&&action.payload.path===path}};exports.rootRoutePattern=exports.generatePattern(ROUTES.ROOT);exports.setupRoutePattern=exports.generatePattern(ROUTES.SETUP);exports.adminRoutePattern=exports.generatePattern(ROUTES.ADMIN);exports.repoRoutePattern=exports.generatePattern(ROUTES.REPO);exports.mainRoutePattern=function(action){return action.type===String(actions_1.routeChange)&&(ROUTES.MAIN===action.payload.path||ROUTES.MAIN_ROOT===action.payload.path)};exports.searchRoutePattern=exports.generatePattern(ROUTES.SEARCH);exports.commitRoutePattern=exports.generatePattern(ROUTES.DIFF);exports.sourceFilePattern=function(action){return exports.mainRoutePattern(action)&&action.payload.params.pathType===types_1.PathTypes.blob};exports.blamePattern=function(action){return exports.mainRoutePattern(action)&&action.payload.params.pathType===types_1.PathTypes.blame}},514:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var crypto_1=tslib_1.__importDefault(__webpack_require__(4279));var git_url_parse_1=tslib_1.__importDefault(__webpack_require__(4280));var path_1=tslib_1.__importDefault(__webpack_require__(820));var model_1=__webpack_require__(228);var uri_util_1=__webpack_require__(375);var RepositoryUtils=function(){function RepositoryUtils(){_classCallCheck(this,RepositoryUtils)}_createClass(RepositoryUtils,null,[{key:"buildRepository",value:function buildRepository(remoteUrl){var repo=git_url_parse_1.default(remoteUrl.trim());var host=repo.source?repo.source:"";if(repo.port!==null){host=host+":"+repo.port}var pathname=repo.pathname&&repo.git_suffix?repo.pathname.substr(1,repo.pathname.length-5):repo.pathname.substr(1);var segs=pathname.split("/").filter(function(s){return s.length>0});var org=segs.length>=2?segs.slice(0,segs.length-1).join("_"):"_";var name=segs.length>=1?segs[segs.length-1]:"_";var uri=host?"".concat(host,"/").concat(org,"/").concat(name):repo.full_name;return{uri:uri,url:repo.href,name:name,org:org,protocol:repo.protocol}}},{key:"orgNameFromUri",value:function orgNameFromUri(repoUri){var segs=repoUri.split("/");if(segs&&segs.length===3){return segs[1]}throw new Error("Invalid repository uri.")}},{key:"repoNameFromUri",value:function repoNameFromUri(repoUri){var segs=repoUri.split("/");if(segs&&segs.length===3){return segs[2]}throw new Error("Invalid repository uri.")}},{key:"repoFullNameFromUri",value:function repoFullNameFromUri(repoUri){var segs=repoUri.split("/");if(segs&&segs.length===3){return segs[1]+"/"+segs[2]}throw new Error("Invalid repository uri.")}},{key:"repositoryLocalPath",value:function repositoryLocalPath(repoPath,repoUri){return path_1.default.join(repoPath,repoUri)}},{key:"normalizeRepoUriToIndexName",value:function normalizeRepoUriToIndexName(repoUri){var hash=crypto_1.default.createHash("md5").update(repoUri).digest("hex").substring(0,8);var segs=repoUri.split("/");segs.push(hash);return segs.join("-").toLowerCase()}},{key:"locationToUrl",value:function locationToUrl(loc){var url=uri_util_1.parseLspUrl(loc.uri);var repoUri=url.repoUri,file=url.file,revision=url.revision;if(repoUri&&file&&revision){return uri_util_1.toCanonicalUrl({repoUri:repoUri,file:file,revision:revision,position:loc.range.start})}return""}},{key:"getAllFiles",value:function getAllFiles(fileTree){if(!fileTree){return[]}var result=[];switch(fileTree.type){case model_1.FileTreeItemType.File:result.push(fileTree.path);break;case model_1.FileTreeItemType.Directory:var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=fileTree.children[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var node=_step.value;result=result.concat(RepositoryUtils.getAllFiles(node))}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}break;default:break}return result}},{key:"hasFullyCloned",value:function hasFullyCloned(cloneProgress){return!!cloneProgress&&cloneProgress.isCloned!==undefined&&cloneProgress.isCloned}}]);return RepositoryUtils}();exports.RepositoryUtils=RepositoryUtils},515:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_actions_1=__webpack_require__(20);exports.loadLanguageServers=redux_actions_1.createAction("LOAD LANGUAGE SERVERS");exports.loadLanguageServersSuccess=redux_actions_1.createAction("LOAD LANGUAGE SERVERS SUCCESS");exports.loadLanguageServersFailed=redux_actions_1.createAction("LOAD LANGUAGE SERVERS FAILED");exports.requestInstallLanguageServer=redux_actions_1.createAction("REQUEST INSTALL LANGUAGE SERVERS");exports.requestInstallLanguageServerSuccess=redux_actions_1.createAction("REQUEST INSTALL LANGUAGE SERVERS SUCCESS");exports.requestInstallLanguageServerFailed=redux_actions_1.createAction("REQUEST INSTALL LANGUAGE SERVERS FAILED");exports.installLanguageServerSuccess=redux_actions_1.createAction("INSTALL LANGUAGE SERVERS SUCCESS");exports.languageServerInitializing=redux_actions_1.createAction("LANGUAGE SERVER INITIALIZING")},599:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);tslib_1.__exportStar(__webpack_require__(4277),exports);tslib_1.__exportStar(__webpack_require__(4278),exports);tslib_1.__exportStar(__webpack_require__(4282),exports);tslib_1.__exportStar(__webpack_require__(4283),exports);var AutocompleteSuggestionType;(function(AutocompleteSuggestionType){AutocompleteSuggestionType["SYMBOL"]="symbol";AutocompleteSuggestionType["FILE"]="file";AutocompleteSuggestionType["REPOSITORY"]="repository"})(AutocompleteSuggestionType=exports.AutocompleteSuggestionType||(exports.AutocompleteSuggestionType={}))},600:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var types_1=__webpack_require__(344);exports.ROOT="/";exports.SETUP="/setup-guide";var pathTypes=":pathType(".concat(types_1.PathTypes.blob,"|").concat(types_1.PathTypes.tree,"|").concat(types_1.PathTypes.blame,"|").concat(types_1.PathTypes.commits,")");exports.MAIN="/:resource/:org/:repo/".concat(pathTypes,"/:revision/:path*:goto(!.*)?");exports.DIFF="/:resource/:org/:repo/commit/:commitId";exports.REPO="/:resource/:org/:repo";exports.MAIN_ROOT="/:resource/:org/:repo/".concat(pathTypes,"/:revision");exports.ADMIN="/admin";exports.SEARCH="/search"},7:function(module,exports){module.exports=vendors},715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var shortcut_1=__webpack_require__(1591);exports.Shortcut=shortcut_1.Shortcut;exports.OS=shortcut_1.OS;exports.Modifier=shortcut_1.Modifier;var shortcuts_provider_1=__webpack_require__(4268);exports.ShortcutsProvider=shortcuts_provider_1.ShortcutsProvider},76:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var createHashHistory_1=tslib_1.__importDefault(__webpack_require__(1551));exports.history=createHashHistory_1.default();exports.isImportRepositoryURLInvalid=function(url){return url.trim()===""};exports.decodeRevisionString=function(revision){return revision.replace(":","/")};exports.encodeRevisionString=function(revision){return revision.replace("/",":")}},980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);tslib_1.__exportStar(__webpack_require__(4263),exports)},981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.TypeScriptIcon=function(){return react_1.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},react_1.default.createElement("g",{fill:"none",fillRule:"evenodd"},react_1.default.createElement("rect",{width:"32",height:"32"}),react_1.default.createElement("path",{className:"codeIcon__language",fillRule:"nonzero",d:"M0,0 L26,0 L26,26 L0,26 L0,0 Z M15.47,21.4644444 C16.1922222,22.88 17.6511111,23.9633333 19.9333333,23.9633333 C22.2444444,23.9633333 23.9777778,22.7644444 23.9777778,20.5544444 C23.9777778,18.5177778 22.8077778,17.6077778 20.7277778,16.7122222 L20.1211111,16.4522222 C19.0666667,16.0044444 18.6188889,15.7011111 18.6188889,14.9788889 C18.6188889,14.3866667 19.0666667,13.9244444 19.7888889,13.9244444 C20.4822222,13.9244444 20.9444444,14.2277778 21.3633333,14.9788889 L23.2555556,13.7222222 C22.4611111,12.3355556 21.3344444,11.8011111 19.7888889,11.8011111 C17.6077778,11.8011111 16.2066667,13.1877778 16.2066667,15.0222222 C16.2066667,17.0155556 17.3766667,17.9544444 19.1388889,18.7055556 L19.7455556,18.9655556 C20.8722222,19.4566667 21.5366667,19.76 21.5366667,20.5977778 C21.5366667,21.2911111 20.8866667,21.7966667 19.8755556,21.7966667 C18.6766667,21.7966667 17.9833333,21.1755556 17.4633333,20.3088889 L15.47,21.4644444 Z M14.4444444,11.9166667 L7.22222222,11.9166667 L7.22222222,14.0833333 L9.38888889,14.0833333 L9.38888889,24.5555556 L11.9166667,24.5555556 L11.9166667,14.0833333 L14.4444444,14.0833333 L14.4444444,11.9166667 Z",transform:"translate(3 3)"})))};exports.JavaIcon=function(){return react_1.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},react_1.default.createElement("g",{fill:"none",fillRule:"evenodd"},react_1.default.createElement("rect",{width:"32",height:"32"}),react_1.default.createElement("path",{className:"codeIcon__language",fillRule:"nonzero",d:"M6.65133715,21.6542239 C6.65133715,21.6542239 5.58131391,22.276089 7.41206217,22.4873705 C9.63052249,22.7400382 10.7653474,22.7040978 13.2103357,22.2412384 C13.2103357,22.2412384 13.8528947,22.6441999 14.7513857,22.993794 C9.27003527,25.3429432 2.34619439,22.8576593 6.65133715,21.6542239 Z M5.98100805,18.5884578 C5.98100805,18.5884578 4.78083873,19.4771497 6.61376494,19.6666484 C8.98360848,19.9106042 10.8557408,19.9312956 14.0946721,19.3072526 C14.0946721,19.3072526 14.5422842,19.7613986 15.2469215,20.0097103 C8.61985433,21.9471879 1.23805487,20.1621821 5.98100805,18.5884578 Z M11.6279005,13.3886342 C12.9780624,14.9441037 11.272859,16.3427706 11.272859,16.3427706 C11.272859,16.3427706 14.7023792,14.5730104 13.1275651,12.3556391 C11.6562155,10.2885616 10.5290152,9.26155543 16.6355009,5.71986139 C16.6355009,5.71986139 7.04947126,8.1140008 11.6279005,13.3886342 Z M18.8768322,23.9211483 C18.8768322,23.9211483 19.6685944,24.5740554 18.0044758,25.0782993 C14.8406918,26.0366907 4.83638239,26.3263869 2.05704474,25.116416 C1.05835647,24.6818733 2.93157744,24.0785217 3.52077129,23.9521871 C4.1350139,23.8193202 4.48678723,23.8432794 4.48678723,23.8432794 C3.37592402,23.0602291 -2.69462129,25.3799734 1.403595,26.0443144 C12.5797564,27.8565471 21.7759674,25.2291355 18.8768322,23.9211483 Z M7.16538513,15.4132383 C7.16538513,15.4132383 2.07555902,16.6215754 5.36240912,17.0604756 C6.7499004,17.2467081 9.51616908,17.2042339 12.0940268,16.9885964 C14.2003117,16.8110757 16.31531,16.4331632 16.31531,16.4331632 C16.31531,16.4331632 15.572556,16.7511761 15.0356379,17.1181955 C9.86794281,18.4773705 -0.114585395,17.844614 2.75950241,16.454946 C5.19033408,15.2798257 7.16538513,15.4132383 7.16538513,15.4132383 Z M16.2946169,20.515044 C21.5483503,17.7858026 19.1186085,15.1622028 17.4239969,15.5150664 C17.0079677,15.6011047 16.8228233,15.6762517 16.8228233,15.6762517 C16.8228233,15.6762517 16.977473,15.4344754 17.2715251,15.3299236 C20.6248112,14.1504474 23.2048469,18.807363 16.1889787,20.6522667 C16.1889787,20.6522667 16.2706611,20.5792994 16.2946169,20.515044 Z M13.1259313,0 C13.1259313,0 16.0354154,2.9100278 10.3667418,7.38506722 C5.8209126,10.9746821 9.32993567,13.022158 10.3645638,15.3604166 C7.71155918,12.9666144 5.76427996,10.8592405 7.07008922,8.89780294 C8.98796272,6.018269 14.2999635,4.62315446 13.1259313,0 Z M7.68160939,27.9120908 C12.7240596,28.234458 20.466892,27.7334819 20.6498568,25.3473024 C20.6498568,25.3473024 20.2969949,26.2523282 16.4830275,26.9700348 C12.1789745,27.7803104 6.87078643,27.6855619 3.72333956,27.166069 C3.72333914,27.166069 4.36753154,27.6997194 7.68160939,27.9120908 Z",transform:"translate(6 2)"})))};exports.GoIcon=function(){return react_1.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},react_1.default.createElement("rect",{width:"32",height:"32",fill:"white"}),react_1.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2504 14.4856C18.8097 14.5975 18.4468 14.6939 18.0773 14.792C17.7827 14.8702 17.4839 14.9496 17.138 15.0389L17.1172 15.0444C16.9482 15.0898 16.9306 15.0945 16.7734 14.9131C16.5848 14.6994 16.4465 14.5611 16.1824 14.4353C15.3903 14.0455 14.6233 14.1587 13.9066 14.6239C13.0516 15.1772 12.6115 15.9945 12.6241 17.0129C12.6366 18.0188 13.3282 18.8487 14.3215 18.987C15.1765 19.1002 15.8932 18.7984 16.459 18.1571C16.543 18.0545 16.62 17.9451 16.7055 17.8235C16.7352 17.7812 16.7661 17.7373 16.7985 17.6919H14.3718C14.1078 17.6919 14.0449 17.5284 14.1329 17.3147C14.2964 16.9249 14.5981 16.2711 14.7742 15.9442C14.8119 15.8687 14.8999 15.743 15.0885 15.743H19.1349C19.3166 15.1672 19.6115 14.6232 20.0048 14.1084C20.9226 12.9014 22.0291 12.2727 23.5254 12.0086C24.8079 11.7823 26.015 11.908 27.1089 12.6499C28.1022 13.3289 28.7183 14.2467 28.8818 15.4538C29.0955 17.1513 28.6052 18.5344 27.4358 19.7163C26.6059 20.5587 25.5875 21.0868 24.4181 21.3257C24.1951 21.367 23.972 21.3866 23.7525 21.4059C23.638 21.416 23.5243 21.4259 23.4122 21.4389C22.268 21.4137 21.2244 21.0868 20.3443 20.3324C19.7252 19.7973 19.2988 19.1397 19.0869 18.3741C18.9399 18.671 18.7641 18.9554 18.5589 19.2259C17.6535 20.4204 16.4716 21.1622 14.9753 21.3634C13.7431 21.5269 12.5989 21.288 11.593 20.5336C10.6626 19.8294 10.1345 18.899 9.99617 17.7422C9.83271 16.3717 10.2351 15.1394 11.0649 14.0581C11.9577 12.8888 13.1396 12.1469 14.5856 11.8829C15.7675 11.6691 16.8991 11.8074 17.9176 12.499C18.584 12.939 19.0618 13.5426 19.3761 14.2719C19.4516 14.385 19.4013 14.4479 19.2504 14.4856ZM26.4048 16.3591C26.4011 16.3114 26.3985 16.2669 26.396 16.2246C26.39 16.1222 26.3848 16.0332 26.367 15.9442C26.1407 14.6994 24.9965 13.9953 23.802 14.2719C22.6327 14.5359 21.8782 15.2778 21.6016 16.4597C21.3753 17.4404 21.8531 18.4338 22.7584 18.8361C23.45 19.1379 24.1415 19.1002 24.8079 18.7607C25.8012 18.2452 26.3419 17.4404 26.4048 16.3591Z",fill:"black"}),react_1.default.createElement("path",{d:"M5.01697 14.6491C4.99182 14.6868 5.00439 14.7119 5.05469 14.7119L9.60636 14.7245C9.64408 14.7245 9.70695 14.6868 9.73209 14.6491L9.94584 14.3221C9.97099 14.2844 9.95842 14.2467 9.90812 14.2467H5.41933C5.36903 14.2467 5.30616 14.2719 5.28101 14.3096L5.01697 14.6491Z",fill:"black"}),react_1.default.createElement("path",{d:"M3.11829 15.8058C3.09314 15.8435 3.10571 15.8687 3.15601 15.8687L9.10336 15.8561C9.15365 15.8561 9.20395 15.8309 9.21652 15.7807L9.31711 15.4789C9.32968 15.4412 9.30453 15.4034 9.25424 15.4034H3.52064C3.47035 15.4034 3.40748 15.4286 3.38233 15.4663L3.11829 15.8058Z",fill:"black"}),react_1.default.createElement("path",{d:"M6.19885 17.0255C6.14856 17.0255 6.13599 16.9878 6.16113 16.9501L6.33717 16.6357C6.36231 16.598 6.41261 16.5603 6.4629 16.5603H8.97764C9.02793 16.5603 9.05308 16.598 9.05308 16.6483L9.02793 16.9501C9.02793 17.0004 8.97764 17.0381 8.93992 17.0381L6.19885 17.0255Z",fill:"black"}))};exports.BinaryFileIcon=function(){return react_1.default.createElement("svg",{width:"320",height:"160",viewBox:"0 0 320 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M209.96 64.84H122.33V132.75H209.96V64.84Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M181.14 91.16H150.44V106.69H181.14V91.16Z",fill:"white"}),react_1.default.createElement("path",{d:"M175.15 96.29H156.47V101.99H175.15V96.29Z",fill:"#DAE3ED"}),react_1.default.createElement("path",{d:"M90.98 102.07L122.33 124.62V91.55L90.98 69.01V102.07Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M91 48.22C90.18 69.52 90.25 90.87 90.45 112.22C90.4525 112.443 90.5415 112.656 90.6982 112.815C90.855 112.973 91.0671 113.065 91.29 113.07C94.87 113.07 98.43 112.93 102 112.84C102.164 112.84 102.322 112.775 102.438 112.658C102.555 112.542 102.62 112.384 102.62 112.22C102.62 112.056 102.555 111.898 102.438 111.782C102.322 111.665 102.164 111.6 102 111.6C99.17 111.53 94.83 110.54 92.18 111.39C90.98 111.77 92.18 112.58 92.18 111.72C92.18 110.86 92.18 110.22 92.18 109.47C92.25 102.37 92.18 95.27 92.18 88.16C92.18 74.86 92.08 61.55 91.57 48.26C91.5573 48.1911 91.5208 48.1288 91.4669 48.0839C91.413 48.0391 91.3451 48.0145 91.275 48.0145C91.2049 48.0145 91.137 48.0391 91.0831 48.0839C91.0292 48.1288 90.9927 48.1911 90.98 48.26L91 48.22Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M122.22 65.78C121.77 88.12 121.66 110.46 121.54 132.78C121.543 133.013 121.636 133.235 121.801 133.399C121.965 133.564 122.187 133.657 122.42 133.66C147.89 133.78 173.36 133.87 198.83 133.59C202.55 133.54 206.28 133.46 210 133.46C210.164 133.46 210.322 133.395 210.438 133.278C210.555 133.162 210.62 133.004 210.62 132.84C210.62 132.676 210.555 132.518 210.438 132.402C210.322 132.285 210.164 132.22 210 132.22C187.51 132.22 165 131.89 142.52 131.89H127.34C126.34 131.89 124.34 131.49 123.34 131.89C121.97 132.46 123.27 132.36 123.34 132.29C124.34 129.29 123.34 124.1 123.34 120.96C123.34 113.89 123.34 106.82 123.28 99.76C123.22 88.4267 123.083 77.0933 122.87 65.76C122.87 65.6831 122.839 65.6093 122.785 65.5549C122.731 65.5006 122.657 65.47 122.58 65.47C122.503 65.47 122.429 65.5006 122.375 65.5549C122.321 65.6093 122.29 65.6831 122.29 65.76L122.22 65.78Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M161.67 47.11C138.52 46.47 115.39 47.02 92.24 47.11C92.1153 47.11 91.9958 47.1595 91.9077 47.2477C91.8195 47.3358 91.77 47.4553 91.77 47.58C91.77 47.7046 91.8195 47.8242 91.9077 47.9123C91.9958 48.0005 92.1153 48.05 92.24 48.05C115.39 47.97 138.53 48.36 161.67 47.57C161.728 47.57 161.784 47.5468 161.826 47.5056C161.867 47.4643 161.89 47.4083 161.89 47.35C161.89 47.2916 161.867 47.2357 161.826 47.1944C161.784 47.1532 161.728 47.13 161.67 47.13V47.11Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M92.08 102.73C101.74 110.73 112.14 117.6 122.25 124.93C122.77 125.3 123.25 124.44 122.75 124.07C112.67 116.76 102.89 109.07 92.36 102.36C92.14 102.22 91.87 102.55 92.08 102.73Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M176.45 48.61C175.72 53.4851 175.569 58.4294 176 63.34C176.016 63.4516 176.072 63.5536 176.158 63.6273C176.243 63.7011 176.352 63.7416 176.465 63.7416C176.578 63.7416 176.687 63.7011 176.772 63.6273C176.858 63.5536 176.914 63.4516 176.93 63.34C177.475 58.4433 177.445 53.4996 176.84 48.61C176.84 48.4 176.45 48.4 176.41 48.61H176.45Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M149.59 92.76C149.36 97.43 149.25 102.1 149.2 106.76C149.205 106.92 149.271 107.072 149.384 107.186C149.498 107.299 149.65 107.365 149.81 107.37C159.81 107.47 169.73 107.23 179.68 107.23C179.792 107.214 179.894 107.158 179.967 107.072C180.041 106.987 180.082 106.878 180.082 106.765C180.082 106.652 180.041 106.543 179.967 106.458C179.894 106.372 179.792 106.316 179.68 106.3C171.47 106.3 163.26 106.04 155.05 106.1C153.53 106.1 151.99 106.21 150.48 106.1C149.57 106.1 150.15 106.1 150.42 106.63C150.316 106.048 150.316 105.452 150.42 104.87C150.72 100.87 150.25 96.69 150.05 92.69C150.05 92.6317 150.027 92.5757 149.986 92.5344C149.944 92.4932 149.888 92.47 149.83 92.47C149.772 92.47 149.716 92.4932 149.674 92.5344C149.633 92.5757 149.61 92.6317 149.61 92.69L149.59 92.76Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M175.45 101.6C175.61 99.82 175.76 98.05 175.79 96.27C175.79 96.1205 175.731 95.9771 175.627 95.8704C175.522 95.7638 175.379 95.7026 175.23 95.7C169.23 95.58 163.16 95.45 157.14 95.8C157.028 95.8164 156.926 95.8724 156.853 95.9578C156.779 96.0432 156.738 96.1522 156.738 96.265C156.738 96.3778 156.779 96.4868 156.853 96.5722C156.926 96.6576 157.028 96.7136 157.14 96.73C161.42 96.98 165.71 96.98 170 96.93C171.53 96.93 173.63 96.48 175.14 96.83C174.49 96.68 174.78 96.04 174.69 96.83C174.672 97.4045 174.698 97.9796 174.77 98.55C174.83 99.55 174.92 100.55 175.01 101.55C175.01 101.608 175.033 101.664 175.074 101.706C175.116 101.747 175.172 101.77 175.23 101.77C175.288 101.77 175.344 101.747 175.386 101.706C175.427 101.664 175.45 101.608 175.45 101.55V101.6Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M187.16 38.83C187.001 38.8332 186.847 38.7763 186.728 38.6706C186.609 38.5649 186.535 38.4182 186.52 38.26C186.5 38.089 186.549 37.9171 186.656 37.7821C186.763 37.6471 186.919 37.5601 187.09 37.54C187.63 37.48 188.23 37.41 188.95 37.31C189.121 37.2861 189.295 37.3312 189.432 37.4353C189.57 37.5394 189.661 37.6939 189.685 37.865C189.709 38.0361 189.664 38.2096 189.56 38.3474C189.456 38.4853 189.301 38.5761 189.13 38.6L187.23 38.83H187.16ZM182.67 38.83H182.59L180.4 38.52C180.244 38.4809 180.109 38.3856 180.019 38.2525C179.93 38.1195 179.893 37.958 179.915 37.7991C179.937 37.6403 180.018 37.4953 180.14 37.3921C180.263 37.2889 180.42 37.2347 180.58 37.24C181.44 37.37 182.14 37.47 182.75 37.54C182.908 37.5671 183.05 37.6515 183.15 37.7772C183.249 37.9029 183.299 38.0609 183.289 38.2209C183.279 38.3809 183.21 38.5316 183.096 38.644C182.982 38.7564 182.83 38.8227 182.67 38.83Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M107 75.31C106.872 75.31 106.746 75.272 106.639 75.2008C106.533 75.1297 106.449 75.0285 106.4 74.91C106.109 74.2104 105.865 73.4921 105.67 72.76C105.646 72.6779 105.638 72.5918 105.648 72.5068C105.657 72.4217 105.684 72.3395 105.726 72.2649C105.768 72.1903 105.824 72.1249 105.892 72.0725C105.96 72.0202 106.037 71.9819 106.12 71.96C106.286 71.9138 106.463 71.9353 106.613 72.0197C106.763 72.104 106.873 72.2444 106.92 72.41C107.102 73.0911 107.329 73.7592 107.6 74.41C107.666 74.5691 107.667 74.7481 107.601 74.9075C107.535 75.0669 107.409 75.1937 107.25 75.26C107.17 75.2912 107.086 75.3081 107 75.31ZM105.68 68.77C105.51 68.77 105.347 68.7026 105.227 68.5825C105.107 68.4625 105.04 68.2997 105.04 68.13C105.039 67.3742 105.09 66.6191 105.19 65.87C105.191 65.7783 105.212 65.6879 105.251 65.6049C105.29 65.5218 105.346 65.4479 105.416 65.388C105.485 65.3281 105.566 65.2836 105.654 65.2574C105.742 65.2312 105.835 65.2239 105.925 65.236C106.016 65.2481 106.104 65.2792 106.182 65.3275C106.26 65.3757 106.327 65.4399 106.378 65.5158C106.43 65.5918 106.464 65.6777 106.48 65.7681C106.496 65.8584 106.493 65.9511 106.47 66.04C106.378 66.7329 106.331 67.431 106.33 68.13C106.325 68.2998 106.254 68.4612 106.133 68.5804C106.012 68.6996 105.85 68.7675 105.68 68.77ZM107.05 62.27C106.942 62.2673 106.837 62.2382 106.743 62.1853C106.649 62.1324 106.569 62.0573 106.511 61.9665C106.453 61.8757 106.418 61.7721 106.409 61.6646C106.4 61.5571 106.417 61.4491 106.46 61.35C106.778 60.6597 107.142 59.9915 107.55 59.35C107.596 59.2776 107.655 59.2149 107.726 59.1656C107.796 59.1163 107.875 59.0814 107.958 59.0628C108.042 59.0442 108.129 59.0424 108.213 59.0573C108.297 59.0723 108.378 59.1038 108.45 59.15C108.521 59.1956 108.583 59.255 108.631 59.3245C108.679 59.3941 108.713 59.4726 108.731 59.5553C108.748 59.6381 108.75 59.7236 108.734 59.8068C108.718 59.8899 108.686 59.9692 108.64 60.04C108.264 60.6325 107.93 61.2507 107.64 61.89C107.586 62.0017 107.503 62.0963 107.399 62.1634C107.295 62.2305 107.174 62.2674 107.05 62.27ZM111.05 56.96C110.955 56.9592 110.861 56.9384 110.775 56.8987C110.689 56.8591 110.612 56.8015 110.55 56.73C110.44 56.5966 110.387 56.4257 110.402 56.2537C110.417 56.0817 110.499 55.9224 110.63 55.81C111.217 55.3209 111.835 54.87 112.48 54.46C112.626 54.3782 112.797 54.3555 112.959 54.3967C113.121 54.4379 113.26 54.5397 113.349 54.6812C113.438 54.8226 113.469 54.9928 113.435 55.1564C113.402 55.3201 113.307 55.4646 113.17 55.56C112.575 55.9333 112.007 56.3477 111.47 56.8C111.364 56.9172 111.217 56.9889 111.06 57L111.05 56.96ZM144.05 54.71H143.56C143.388 54.71 143.222 54.6415 143.1 54.5196C142.978 54.3977 142.91 54.2324 142.91 54.06C142.91 53.8876 142.978 53.7223 143.1 53.6004C143.222 53.4785 143.388 53.41 143.56 53.41H144H145.7C145.785 53.4059 145.87 53.4192 145.95 53.4491C146.03 53.4789 146.103 53.5247 146.165 53.5836C146.227 53.6425 146.276 53.7133 146.309 53.7918C146.343 53.8702 146.36 53.9547 146.36 54.04C146.363 54.2107 146.298 54.3756 146.18 54.4991C146.062 54.6226 145.901 54.6948 145.73 54.7C145.2 54.71 144.62 54.71 144 54.71H144.05ZM139.05 54.55H139C138.28 54.55 137.54 54.45 136.79 54.38C136.706 54.3725 136.624 54.3484 136.549 54.309C136.474 54.2697 136.408 54.2159 136.354 54.1509C136.3 54.0858 136.26 54.0107 136.235 53.9298C136.21 53.849 136.202 53.7641 136.21 53.68C136.225 53.5092 136.307 53.3514 136.439 53.2409C136.57 53.1303 136.739 53.0761 136.91 53.09C137.65 53.16 138.37 53.21 139.09 53.26C139.259 53.2728 139.416 53.3511 139.528 53.4781C139.64 53.6051 139.698 53.7708 139.69 53.94C139.682 54.1045 139.611 54.2597 139.492 54.3733C139.373 54.4869 139.215 54.5502 139.05 54.55ZM150.25 54.43C150.088 54.4285 149.933 54.3675 149.813 54.2587C149.693 54.15 149.617 54.0009 149.6 53.84C149.586 53.6691 149.64 53.4996 149.751 53.3685C149.861 53.2374 150.019 53.1553 150.19 53.14C150.93 53.0667 151.65 52.9867 152.35 52.9C152.434 52.8873 152.52 52.8915 152.603 52.9124C152.685 52.9333 152.763 52.9705 152.831 53.0217C152.898 53.0729 152.956 53.1372 152.998 53.2107C153.041 53.2843 153.069 53.3656 153.08 53.45C153.091 53.5347 153.086 53.6208 153.064 53.7034C153.042 53.7859 153.003 53.8633 152.951 53.9311C152.899 53.9989 152.834 54.0558 152.76 54.0985C152.686 54.1412 152.605 54.1689 152.52 54.18C151.8 54.28 151.06 54.36 150.31 54.43H150.25ZM132.37 53.88H132.29L130.09 53.56C129.922 53.5305 129.771 53.4369 129.671 53.2989C129.57 53.1609 129.527 52.9893 129.55 52.82C129.562 52.7355 129.591 52.6543 129.635 52.5812C129.679 52.508 129.737 52.4444 129.806 52.3941C129.875 52.3438 129.954 52.3078 130.037 52.2882C130.12 52.2686 130.206 52.2658 130.29 52.28C131.02 52.39 131.75 52.5 132.46 52.59C132.629 52.6148 132.782 52.7053 132.885 52.842C132.988 52.9787 133.033 53.1504 133.01 53.32C132.99 53.4755 132.914 53.6184 132.796 53.7217C132.678 53.8249 132.527 53.8812 132.37 53.88ZM116.92 53.8C116.781 53.7997 116.646 53.7548 116.534 53.672C116.423 53.5892 116.341 53.4729 116.3 53.34C116.253 53.1756 116.271 52.9992 116.351 52.8481C116.432 52.697 116.567 52.583 116.73 52.53C117.453 52.3091 118.188 52.1256 118.93 51.98C119.014 51.9641 119.1 51.9649 119.184 51.9825C119.268 52 119.347 52.0339 119.418 52.0822C119.489 52.1305 119.549 52.1923 119.596 52.264C119.642 52.3357 119.674 52.4159 119.69 52.5C119.707 52.5829 119.708 52.6684 119.691 52.7514C119.675 52.8345 119.642 52.9133 119.594 52.9833C119.547 53.0533 119.486 53.113 119.414 53.1589C119.343 53.2047 119.263 53.2357 119.18 53.25C118.481 53.3855 117.79 53.5591 117.11 53.77C117.049 53.7897 116.984 53.7998 116.92 53.8ZM156.92 53.4C156.774 53.4013 156.631 53.3523 156.517 53.2613C156.402 53.1703 156.322 53.0428 156.29 52.9C156.271 52.8166 156.268 52.7302 156.282 52.6458C156.297 52.5614 156.327 52.4807 156.373 52.4082C156.419 52.3357 156.478 52.273 156.548 52.2235C156.618 52.1741 156.697 52.1389 156.78 52.12C157.5 51.96 158.2 51.78 158.88 51.59C158.963 51.5673 159.049 51.5613 159.134 51.5721C159.219 51.583 159.301 51.6106 159.376 51.6534C159.45 51.6962 159.515 51.7532 159.568 51.8213C159.62 51.8894 159.658 51.9671 159.68 52.05C159.703 52.1314 159.709 52.2165 159.699 52.3004C159.688 52.3843 159.662 52.4653 159.62 52.5388C159.578 52.6122 159.522 52.6767 159.455 52.7284C159.388 52.7801 159.312 52.818 159.23 52.84C158.53 53.04 157.8 53.22 157.06 53.39L156.92 53.4ZM125.73 53C125.01 53 124.29 52.92 123.58 52.92C123.408 52.92 123.242 52.8515 123.12 52.7296C122.998 52.6077 122.93 52.4424 122.93 52.27C122.933 52.0984 123.002 51.9346 123.123 51.8132C123.245 51.6919 123.408 51.6226 123.58 51.62C124.32 51.62 125.08 51.62 125.83 51.71C126.002 51.71 126.168 51.7785 126.29 51.9004C126.412 52.0223 126.48 52.1876 126.48 52.36C126.48 52.5324 126.412 52.6977 126.29 52.8196C126.168 52.9415 126.002 53.01 125.83 53.01L125.73 53ZM163.27 51.47C163.141 51.4692 163.014 51.4297 162.907 51.3567C162.8 51.2836 162.718 51.1803 162.67 51.06C162.637 50.9819 162.621 50.8981 162.62 50.8135C162.62 50.7289 162.637 50.6451 162.67 50.567C162.702 50.4888 162.75 50.4179 162.81 50.3584C162.87 50.2988 162.942 50.2518 163.02 50.22C163.7 49.94 164.36 49.64 165.02 49.33C165.097 49.2812 165.184 49.2492 165.274 49.236C165.364 49.2228 165.456 49.2288 165.544 49.2536C165.632 49.2784 165.714 49.3214 165.784 49.3797C165.854 49.4381 165.911 49.5107 165.951 49.5925C165.991 49.6744 166.014 49.7639 166.017 49.8551C166.021 49.9463 166.005 50.0371 165.971 50.1218C165.937 50.2065 165.885 50.283 165.82 50.3464C165.754 50.4099 165.676 50.4588 165.59 50.49C164.94 50.82 164.25 51.13 163.54 51.42C163.451 51.4378 163.359 51.4378 163.27 51.42V51.47ZM169.14 48.26C169.037 48.2581 168.936 48.2328 168.844 48.186C168.752 48.1392 168.672 48.0722 168.61 47.99C168.56 47.9205 168.524 47.8418 168.504 47.7583C168.485 47.6749 168.482 47.5884 168.496 47.5038C168.51 47.4192 168.54 47.3382 168.585 47.2655C168.631 47.1928 168.69 47.1297 168.76 47.08C169.34 46.6663 169.897 46.2223 170.43 45.75C170.563 45.636 170.735 45.5793 170.91 45.5924C171.084 45.6055 171.246 45.6874 171.36 45.82C171.474 45.9526 171.531 46.1251 171.518 46.2995C171.504 46.4739 171.423 46.636 171.29 46.75C170.73 47.23 170.14 47.75 169.52 48.15C169.403 48.2098 169.27 48.2308 169.14 48.21V48.26ZM173.88 43.56C173.747 43.56 173.618 43.518 173.51 43.44C173.44 43.392 173.38 43.3304 173.334 43.2589C173.287 43.1874 173.256 43.1074 173.241 43.0236C173.226 42.9398 173.228 42.8539 173.247 42.7708C173.265 42.6878 173.301 42.6093 173.35 42.54C173.603 42.18 173.833 41.82 174.04 41.46C174.19 41.22 174.33 40.97 174.48 40.72C174.522 40.6465 174.578 40.5819 174.645 40.5301C174.712 40.4782 174.789 40.44 174.87 40.4177C174.952 40.3955 175.037 40.3895 175.121 40.4002C175.205 40.4108 175.286 40.438 175.36 40.48C175.434 40.522 175.498 40.5781 175.55 40.6451C175.602 40.712 175.64 40.7886 175.662 40.8703C175.685 40.952 175.691 41.0373 175.68 41.1213C175.669 41.2054 175.642 41.2865 175.6 41.36C175.46 41.62 175.31 41.87 175.16 42.12C175.01 42.37 174.68 42.9 174.41 43.28C174.345 43.356 174.263 43.4162 174.172 43.4561C174.08 43.4959 173.98 43.5144 173.88 43.51V43.56ZM177.12 37.69C177.027 37.6893 176.935 37.6688 176.85 37.63C176.772 37.5955 176.701 37.5456 176.642 37.4834C176.584 37.4211 176.538 37.3478 176.508 37.2676C176.479 37.1874 176.465 37.1021 176.469 37.0166C176.473 36.9311 176.493 36.8473 176.53 36.77C176.84 36.09 177.12 35.42 177.36 34.77C177.423 34.6096 177.546 34.48 177.703 34.409C177.86 34.338 178.038 34.3312 178.2 34.39C178.36 34.4525 178.489 34.5761 178.559 34.7335C178.628 34.891 178.632 35.0695 178.57 35.23C178.32 35.9 178.03 36.59 177.71 37.3C177.653 37.4057 177.567 37.4934 177.463 37.5534C177.359 37.6135 177.24 37.6434 177.12 37.64V37.69ZM173.35 37.21H173.15C172.42 36.97 171.71 36.7 171.04 36.42C170.962 36.3882 170.89 36.3412 170.83 36.2816C170.77 36.2221 170.722 36.1512 170.69 36.073C170.657 35.9949 170.64 35.9111 170.64 35.8265C170.641 35.7419 170.657 35.6581 170.69 35.58C170.756 35.4209 170.883 35.2946 171.043 35.229C171.202 35.1633 171.381 35.1637 171.54 35.23C172.18 35.5 172.85 35.75 173.54 35.97C173.689 36.0167 173.815 36.1152 173.897 36.2476C173.979 36.3799 174.011 36.5373 173.987 36.6911C173.963 36.8449 173.884 36.9849 173.765 37.0857C173.647 37.1864 173.496 37.2412 173.34 37.24L173.35 37.21ZM167.35 34.28C167.212 34.2816 167.078 34.2357 166.97 34.15C166.344 33.7016 165.759 33.1997 165.22 32.65C165.118 32.5247 165.066 32.3659 165.075 32.2045C165.083 32.0432 165.152 31.8908 165.267 31.7771C165.382 31.6635 165.535 31.5967 165.696 31.5898C165.858 31.583 166.016 31.6365 166.14 31.74C166.635 32.2358 167.166 32.6938 167.73 33.11C167.799 33.1596 167.857 33.2223 167.901 33.2945C167.946 33.3667 167.975 33.447 167.988 33.5307C168.001 33.6145 167.997 33.6999 167.977 33.7822C167.957 33.8645 167.92 33.9419 167.87 34.01C167.807 34.0852 167.727 34.1444 167.636 34.1826C167.546 34.2209 167.448 34.2371 167.35 34.23V34.28ZM179.12 31.28H179C178.916 31.269 178.834 31.2412 178.761 31.1984C178.687 31.1556 178.623 31.0985 178.572 31.0305C178.52 30.9625 178.483 30.885 178.462 30.8025C178.442 30.72 178.437 30.6342 178.45 30.55C178.528 30.0001 178.568 29.4454 178.57 28.89C178.57 28.75 178.57 28.61 178.57 28.47C178.565 28.3848 178.577 28.2994 178.605 28.2189C178.634 28.1385 178.678 28.0647 178.736 28.002C178.794 27.9394 178.864 27.8892 178.942 27.8544C179.02 27.8197 179.105 27.8012 179.19 27.8C179.276 27.7898 179.364 27.7984 179.446 27.8253C179.529 27.8521 179.604 27.8965 179.668 27.9555C179.732 28.0144 179.782 28.0865 179.815 28.1667C179.848 28.2469 179.863 28.3333 179.86 28.42C179.86 28.57 179.86 28.73 179.86 28.89C179.86 29.5056 179.817 30.1205 179.73 30.73C179.703 30.8742 179.628 31.0051 179.517 31.1013C179.407 31.1975 179.267 31.2535 179.12 31.26V31.28ZM163.24 29.07C163.105 29.0704 162.973 29.0281 162.864 28.9491C162.754 28.87 162.672 28.7583 162.63 28.63C162.409 27.9859 162.291 27.3109 162.28 26.63C162.28 26.5 162.28 26.38 162.28 26.26C162.298 26.0903 162.378 25.9334 162.506 25.8204C162.634 25.7074 162.799 25.6466 162.97 25.65C163.055 25.6551 163.139 25.677 163.216 25.7145C163.293 25.7519 163.362 25.8042 163.418 25.8683C163.475 25.9324 163.518 26.0071 163.546 26.088C163.574 26.169 163.585 26.2546 163.58 26.34C163.575 26.4366 163.575 26.5334 163.58 26.63C163.584 27.185 163.678 27.7356 163.86 28.26C163.914 28.4231 163.901 28.6009 163.824 28.7546C163.747 28.9082 163.613 29.0252 163.45 29.08C163.379 29.0799 163.308 29.0698 163.24 29.05V29.07ZM178 24.79C177.889 24.7903 177.781 24.7619 177.684 24.7075C177.588 24.6532 177.507 24.5748 177.45 24.48C177.089 23.9034 176.656 23.3758 176.16 22.91C176.043 22.7856 175.977 22.6211 175.977 22.45C175.977 22.2789 176.043 22.1144 176.16 21.99C176.22 21.9295 176.292 21.8816 176.371 21.8488C176.45 21.8161 176.535 21.7992 176.62 21.7992C176.705 21.7992 176.79 21.8161 176.869 21.8488C176.948 21.8816 177.02 21.9295 177.08 21.99C177.656 22.5308 178.157 23.1463 178.57 23.82C178.659 23.9661 178.687 24.1415 178.648 24.3082C178.609 24.4748 178.505 24.6192 178.36 24.71C178.251 24.7732 178.125 24.8011 178 24.79ZM164.86 22.88C164.707 22.8786 164.559 22.8258 164.44 22.73C164.31 22.6193 164.228 22.4618 164.213 22.2914C164.198 22.1211 164.251 21.9517 164.36 21.82C164.859 21.2064 165.433 20.6587 166.07 20.19C166.203 20.1357 166.349 20.1266 166.487 20.1643C166.626 20.2019 166.747 20.2841 166.834 20.3981C166.921 20.5121 166.967 20.6516 166.967 20.7947C166.966 20.9379 166.918 21.0769 166.83 21.19C166.283 21.5962 165.789 22.0699 165.36 22.6C165.302 22.682 165.225 22.7498 165.137 22.7982C165.049 22.8467 164.951 22.8747 164.85 22.88H164.86ZM172.86 20.7C172.784 20.7143 172.706 20.7143 172.63 20.7C171.989 20.4473 171.316 20.2857 170.63 20.22C170.545 20.2125 170.461 20.1881 170.385 20.1483C170.309 20.1084 170.242 20.0539 170.187 19.9879C170.132 19.9219 170.091 19.8457 170.066 19.7637C170.04 19.6816 170.032 19.5954 170.04 19.51C170.06 19.3402 170.145 19.1848 170.278 19.0766C170.41 18.9684 170.58 18.9159 170.75 18.93C171.539 19.0106 172.313 19.1991 173.05 19.49C173.21 19.5527 173.34 19.6757 173.411 19.8326C173.482 19.9896 173.489 20.1681 173.43 20.33C173.374 20.4452 173.285 20.5416 173.175 20.6073C173.065 20.673 172.938 20.7052 172.81 20.7H172.86Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M196.393 38.162C197.964 37.6365 198.909 36.2255 198.502 35.0103C198.096 33.7952 196.493 33.2361 194.922 33.7615C193.35 34.287 192.406 35.698 192.812 36.9132C193.219 38.1283 194.822 38.6874 196.393 38.162Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{opacity:"0.46",d:"M188.66 29.42C188.4 31.07 192.91 33.57 192.91 33.57L193.91 33.05C193.91 33.05 194.59 27.95 193.12 27.17C192.03 26.59 190.44 27.43 190.44 27.43C190.44 27.43 188.85 28.2 188.66 29.42Z",fill:"url(#paint0_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M192.18 27.15C191.18 28.52 194.18 32.74 194.18 32.74H195.33C195.33 32.74 198.18 28.45 197.2 27.11C196.47 26.11 194.67 26.17 194.67 26.17C194.21 26.1559 193.752 26.2354 193.324 26.4039C192.896 26.5724 192.507 26.8262 192.18 27.15Z",fill:"url(#paint1_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M202.51 42.14C202.77 40.5 198.27 38 198.27 38L197.27 38.52C197.27 38.52 196.58 43.62 198.05 44.4C198.491 44.5411 198.957 44.5899 199.418 44.5435C199.879 44.4971 200.326 44.3563 200.73 44.13C200.73 44.13 202.32 43.37 202.51 42.14Z",fill:"url(#paint2_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M199 44.42C199.95 43.05 197 38.83 197 38.83H195.84C195.84 38.83 193 43.14 194 44.48C194.334 44.7995 194.73 45.0469 195.163 45.2069C195.597 45.3669 196.059 45.436 196.52 45.41C196.52 45.41 198.29 45.43 199 44.42Z",fill:"url(#paint3_linear)"}),react_1.default.createElement("path",{d:"M112.27 90.65C109.79 88.6 107.09 86.86 104.51 84.95C102.27 83.29 99.33 80.19 96.51 79.63C96.4258 79.6102 96.3376 79.6151 96.256 79.6441C96.1745 79.6731 96.1031 79.7251 96.0503 79.7937C95.9975 79.8623 95.9656 79.9446 95.9585 80.0309C95.9513 80.1172 95.9692 80.2036 96.01 80.28C97.47 82.63 101.15 84.22 103.4 85.65C106.25 87.46 108.96 89.49 111.9 91.16C112.21 91.33 112.58 90.89 112.29 90.65H112.27Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M111.6 96.36C106.76 92.77 102.09 88.23 96.6 85.65C96.16 85.44 95.68 85.97 96.06 86.35C100.39 90.64 106.29 93.48 111.34 96.79C111.62 96.97 111.85 96.55 111.6 96.36Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M112 103.45C109.49 101.45 107 99.45 104.41 97.45C102.11 95.68 99.33 92.71 96.48 91.91C96.3995 91.8907 96.3151 91.895 96.237 91.9225C96.1589 91.95 96.0903 91.9994 96.0397 92.0649C95.989 92.1304 95.9583 92.2091 95.9512 92.2916C95.9442 92.3741 95.9611 92.4569 96 92.53C97.59 94.89 101 96.53 103.34 98.08C106.13 100 108.97 101.85 111.81 103.7C111.95 103.79 112.13 103.57 112 103.46V103.45Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M111.7 109.45C109.12 107.15 106.44 104.99 103.7 102.82C101.78 101.29 98.9 98.03 96.34 97.82C96.2838 97.8193 96.2283 97.8319 96.1778 97.8565C96.1273 97.8812 96.0833 97.9173 96.0493 97.962C96.0153 98.0067 95.9922 98.0587 95.9819 98.114C95.9716 98.1692 95.9744 98.226 95.99 98.28C96.99 100.66 100.9 102.53 102.89 103.91C105.73 105.91 108.57 107.86 111.51 109.68C111.63 109.75 111.76 109.58 111.66 109.49L111.7 109.45Z",fill:"#C3CBD9"}),react_1.default.createElement("defs",null,react_1.default.createElement("linearGradient",{id:"paint0_linear",x1:"193.259",y1:"33.4596",x2:"190.308",y2:"27.5787",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint1_linear",x1:"8037.85",y1:"10661.7",x2:"8037.41",y2:"10626",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint2_linear",x1:"3252.3",y1:"-2111.48",x2:"3268.28",y2:"-2079.65",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint3_linear",x1:"6824.43",y1:"-2667.92",x2:"6824.87",y2:"-2632.38",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"}))))};exports.ErrorIcon=function(){return react_1.default.createElement("svg",{width:"320",height:"160",viewBox:"0 0 320 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react_1.default.createElement("path",{d:"M209.96 64.84H122.33V132.75H209.96V64.84Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M181.14 91.16H150.44V106.69H181.14V91.16Z",fill:"white"}),react_1.default.createElement("path",{d:"M175.15 96.29H156.47V101.99H175.15V96.29Z",fill:"#DAE3ED"}),react_1.default.createElement("path",{d:"M90.98 102.07L122.33 124.62V91.55L90.98 69.01V102.07Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M90.9999 48.22C90.1799 69.52 90.2499 90.87 90.4499 112.22C90.4525 112.443 90.5415 112.656 90.6982 112.815C90.8549 112.973 91.0671 113.065 91.2899 113.07C94.8699 113.07 98.4299 112.93 102 112.84C102.164 112.84 102.322 112.775 102.438 112.658C102.555 112.542 102.62 112.384 102.62 112.22C102.62 112.056 102.555 111.898 102.438 111.782C102.322 111.665 102.164 111.6 102 111.6C99.1699 111.53 94.8299 110.54 92.1799 111.39C90.9799 111.77 92.1799 112.58 92.1799 111.72C92.1799 110.86 92.1799 110.22 92.1799 109.47C92.2499 102.37 92.1799 95.27 92.1799 88.16C92.1799 74.86 92.0799 61.55 91.5699 48.26C91.5572 48.1911 91.5207 48.1288 91.4668 48.0839C91.4129 48.0391 91.345 48.0145 91.2749 48.0145C91.2048 48.0145 91.137 48.0391 91.0831 48.0839C91.0292 48.1288 90.9927 48.1911 90.9799 48.26L90.9999 48.22Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M122.22 65.78C121.77 88.12 121.66 110.46 121.54 132.78C121.543 133.013 121.636 133.235 121.801 133.399C121.965 133.564 122.187 133.657 122.42 133.66C147.89 133.78 173.36 133.87 198.83 133.59C202.55 133.54 206.28 133.46 210 133.46C210.164 133.46 210.322 133.395 210.438 133.278C210.555 133.162 210.62 133.004 210.62 132.84C210.62 132.676 210.555 132.518 210.438 132.402C210.322 132.285 210.164 132.22 210 132.22C187.51 132.22 165 131.89 142.52 131.89H127.34C126.34 131.89 124.34 131.49 123.34 131.89C121.97 132.46 123.27 132.36 123.34 132.29C124.34 129.29 123.34 124.1 123.34 120.96C123.34 113.89 123.34 106.82 123.28 99.76C123.22 88.4267 123.083 77.0933 122.87 65.76C122.87 65.6831 122.839 65.6093 122.785 65.5549C122.731 65.5006 122.657 65.47 122.58 65.47C122.503 65.47 122.429 65.5006 122.375 65.5549C122.321 65.6093 122.29 65.6831 122.29 65.76L122.22 65.78Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M161.67 47.11C138.52 46.47 115.39 47.02 92.24 47.11C92.1154 47.11 91.9958 47.1595 91.9077 47.2477C91.8195 47.3358 91.77 47.4553 91.77 47.58C91.77 47.7046 91.8195 47.8242 91.9077 47.9123C91.9958 48.0005 92.1154 48.05 92.24 48.05C115.39 47.97 138.53 48.36 161.67 47.57C161.728 47.57 161.784 47.5468 161.826 47.5056C161.867 47.4643 161.89 47.4083 161.89 47.35C161.89 47.2916 161.867 47.2357 161.826 47.1944C161.784 47.1532 161.728 47.13 161.67 47.13V47.11Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M92.08 102.73C101.74 110.73 112.14 117.6 122.25 124.93C122.77 125.3 123.25 124.44 122.75 124.07C112.67 116.76 102.89 109.07 92.36 102.36C92.14 102.22 91.87 102.55 92.08 102.73Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M176.45 48.61C175.72 53.4851 175.569 58.4294 176 63.34C176.016 63.4516 176.072 63.5536 176.158 63.6273C176.243 63.7011 176.352 63.7416 176.465 63.7416C176.578 63.7416 176.687 63.7011 176.772 63.6273C176.858 63.5536 176.914 63.4516 176.93 63.34C177.475 58.4433 177.445 53.4996 176.84 48.61C176.84 48.4 176.45 48.4 176.41 48.61H176.45Z",fill:"#E6EBF2"}),react_1.default.createElement("path",{d:"M149.59 92.76C149.36 97.43 149.25 102.1 149.2 106.76C149.205 106.92 149.271 107.072 149.384 107.186C149.497 107.299 149.65 107.365 149.81 107.37C159.81 107.47 169.73 107.23 179.68 107.23C179.792 107.214 179.894 107.158 179.967 107.072C180.041 106.987 180.082 106.878 180.082 106.765C180.082 106.652 180.041 106.543 179.967 106.458C179.894 106.372 179.792 106.316 179.68 106.3C171.47 106.3 163.26 106.04 155.05 106.1C153.53 106.1 151.99 106.21 150.48 106.1C149.57 106.1 150.15 106.1 150.42 106.63C150.316 106.048 150.316 105.452 150.42 104.87C150.72 100.87 150.25 96.69 150.05 92.69C150.05 92.6317 150.027 92.5757 149.986 92.5344C149.944 92.4932 149.888 92.47 149.83 92.47C149.772 92.47 149.716 92.4932 149.674 92.5344C149.633 92.5757 149.61 92.6317 149.61 92.69L149.59 92.76Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M175.45 101.6C175.61 99.82 175.76 98.05 175.79 96.27C175.79 96.1205 175.731 95.9771 175.627 95.8704C175.522 95.7638 175.379 95.7026 175.23 95.7C169.23 95.58 163.16 95.45 157.14 95.8C157.028 95.8164 156.926 95.8724 156.853 95.9578C156.779 96.0432 156.738 96.1522 156.738 96.265C156.738 96.3778 156.779 96.4868 156.853 96.5722C156.926 96.6576 157.028 96.7136 157.14 96.73C161.42 96.98 165.71 96.98 170 96.93C171.53 96.93 173.63 96.48 175.14 96.83C174.49 96.68 174.78 96.04 174.69 96.83C174.672 97.4045 174.698 97.9796 174.77 98.55C174.83 99.55 174.92 100.55 175.01 101.55C175.01 101.608 175.033 101.664 175.074 101.706C175.116 101.747 175.172 101.77 175.23 101.77C175.288 101.77 175.344 101.747 175.386 101.706C175.427 101.664 175.45 101.608 175.45 101.55V101.6Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M187.16 38.83C187.001 38.8332 186.847 38.7763 186.728 38.6706C186.609 38.5649 186.535 38.4182 186.52 38.26C186.5 38.089 186.549 37.9171 186.656 37.7821C186.763 37.6471 186.919 37.5601 187.09 37.54C187.63 37.48 188.23 37.41 188.95 37.31C189.121 37.2861 189.295 37.3312 189.432 37.4353C189.57 37.5394 189.661 37.6939 189.685 37.865C189.709 38.0361 189.664 38.2096 189.56 38.3474C189.456 38.4853 189.301 38.5761 189.13 38.6L187.23 38.83H187.16ZM182.67 38.83H182.59L180.4 38.52C180.244 38.4809 180.109 38.3856 180.019 38.2525C179.93 38.1195 179.893 37.958 179.915 37.7991C179.937 37.6403 180.018 37.4953 180.14 37.3921C180.263 37.2889 180.42 37.2347 180.58 37.24C181.44 37.37 182.14 37.47 182.75 37.54C182.908 37.5671 183.05 37.6515 183.15 37.7772C183.249 37.9029 183.299 38.0609 183.289 38.2209C183.279 38.3809 183.21 38.5316 183.096 38.644C182.982 38.7564 182.83 38.8227 182.67 38.83Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M107 75.31C106.872 75.31 106.746 75.272 106.639 75.2008C106.533 75.1297 106.449 75.0285 106.4 74.91C106.109 74.2104 105.865 73.4921 105.67 72.76C105.646 72.6779 105.638 72.5918 105.648 72.5068C105.657 72.4217 105.684 72.3395 105.726 72.2649C105.768 72.1903 105.824 72.1249 105.892 72.0725C105.96 72.0202 106.037 71.9819 106.12 71.96C106.286 71.9138 106.463 71.9353 106.613 72.0197C106.763 72.104 106.873 72.2444 106.92 72.41C107.102 73.0911 107.329 73.7592 107.6 74.41C107.666 74.5691 107.667 74.7481 107.601 74.9075C107.535 75.0669 107.409 75.1937 107.25 75.26C107.17 75.2912 107.086 75.3081 107 75.31ZM105.68 68.77C105.51 68.77 105.348 68.7026 105.227 68.5825C105.107 68.4625 105.04 68.2997 105.04 68.13C105.04 67.3742 105.09 66.6191 105.19 65.87C105.192 65.7783 105.212 65.6879 105.251 65.6049C105.29 65.5218 105.346 65.4479 105.416 65.388C105.485 65.3281 105.566 65.2836 105.654 65.2574C105.742 65.2312 105.835 65.2239 105.926 65.236C106.016 65.2481 106.104 65.2792 106.182 65.3275C106.26 65.3757 106.327 65.4399 106.378 65.5158C106.43 65.5918 106.464 65.6777 106.48 65.7681C106.496 65.8584 106.493 65.9511 106.47 66.04C106.378 66.7329 106.332 67.431 106.33 68.13C106.325 68.2998 106.254 68.4612 106.133 68.5804C106.012 68.6996 105.85 68.7675 105.68 68.77ZM107.05 62.27C106.942 62.2673 106.837 62.2382 106.743 62.1853C106.649 62.1324 106.569 62.0573 106.511 61.9665C106.453 61.8757 106.418 61.7721 106.409 61.6646C106.4 61.5571 106.418 61.4491 106.46 61.35C106.778 60.6597 107.142 59.9915 107.55 59.35C107.596 59.2776 107.655 59.2149 107.726 59.1656C107.796 59.1163 107.875 59.0814 107.958 59.0628C108.042 59.0442 108.129 59.0424 108.213 59.0573C108.297 59.0723 108.378 59.1038 108.45 59.15C108.521 59.1956 108.583 59.255 108.631 59.3245C108.679 59.3941 108.713 59.4726 108.731 59.5553C108.748 59.6381 108.75 59.7236 108.734 59.8068C108.718 59.8899 108.686 59.9692 108.64 60.04C108.264 60.6325 107.93 61.2507 107.64 61.89C107.586 62.0017 107.503 62.0963 107.399 62.1634C107.295 62.2305 107.174 62.2674 107.05 62.27ZM111.05 56.96C110.955 56.9592 110.862 56.9384 110.775 56.8987C110.689 56.8591 110.612 56.8015 110.55 56.73C110.44 56.5966 110.387 56.4257 110.402 56.2537C110.417 56.0817 110.499 55.9224 110.63 55.81C111.217 55.3209 111.835 54.87 112.48 54.46C112.626 54.3782 112.797 54.3555 112.959 54.3967C113.121 54.4379 113.26 54.5397 113.349 54.6812C113.438 54.8226 113.469 54.9928 113.435 55.1564C113.402 55.3201 113.307 55.4646 113.17 55.56C112.575 55.9333 112.007 56.3477 111.47 56.8C111.364 56.9172 111.217 56.9889 111.06 57L111.05 56.96ZM144.05 54.71H143.56C143.388 54.71 143.222 54.6415 143.1 54.5196C142.979 54.3977 142.91 54.2324 142.91 54.06C142.91 53.8876 142.979 53.7223 143.1 53.6004C143.222 53.4785 143.388 53.41 143.56 53.41H144H145.7C145.785 53.4059 145.87 53.4192 145.95 53.4491C146.03 53.4789 146.103 53.5247 146.165 53.5836C146.227 53.6425 146.276 53.7133 146.309 53.7918C146.343 53.8702 146.36 53.9547 146.36 54.04C146.363 54.2107 146.298 54.3756 146.18 54.4991C146.062 54.6226 145.901 54.6948 145.73 54.7C145.2 54.71 144.62 54.71 144 54.71H144.05ZM139.05 54.55H139C138.28 54.55 137.54 54.45 136.79 54.38C136.706 54.3725 136.624 54.3484 136.549 54.309C136.474 54.2697 136.408 54.2159 136.354 54.1509C136.3 54.0858 136.26 54.0107 136.235 53.9298C136.21 53.849 136.202 53.7641 136.21 53.68C136.225 53.5092 136.307 53.3514 136.439 53.2409C136.57 53.1303 136.739 53.0761 136.91 53.09C137.65 53.16 138.37 53.21 139.09 53.26C139.259 53.2728 139.416 53.3511 139.528 53.4781C139.64 53.6051 139.698 53.7708 139.69 53.94C139.682 54.1045 139.612 54.2597 139.492 54.3733C139.373 54.4869 139.215 54.5502 139.05 54.55ZM150.25 54.43C150.088 54.4285 149.933 54.3675 149.813 54.2587C149.693 54.15 149.617 54.0009 149.6 53.84C149.586 53.6691 149.64 53.4996 149.751 53.3685C149.861 53.2374 150.019 53.1553 150.19 53.14C150.93 53.0667 151.65 52.9867 152.35 52.9C152.434 52.8873 152.52 52.8915 152.603 52.9124C152.685 52.9333 152.763 52.9705 152.831 53.0217C152.899 53.0729 152.956 53.1372 152.998 53.2107C153.041 53.2843 153.069 53.3656 153.08 53.45C153.091 53.5347 153.086 53.6208 153.064 53.7034C153.042 53.7859 153.003 53.8633 152.951 53.9311C152.899 53.9989 152.835 54.0558 152.761 54.0985C152.686 54.1412 152.605 54.1689 152.52 54.18C151.8 54.28 151.06 54.36 150.31 54.43H150.25ZM132.37 53.88H132.29L130.09 53.56C129.922 53.5305 129.771 53.4369 129.671 53.2989C129.57 53.1609 129.527 52.9893 129.55 52.82C129.562 52.7355 129.591 52.6543 129.635 52.5812C129.679 52.508 129.737 52.4444 129.806 52.3941C129.875 52.3438 129.954 52.3078 130.037 52.2882C130.12 52.2686 130.206 52.2658 130.29 52.28C131.02 52.39 131.75 52.5 132.46 52.59C132.629 52.6148 132.782 52.7053 132.885 52.842C132.988 52.9787 133.033 53.1504 133.01 53.32C132.99 53.4755 132.914 53.6184 132.797 53.7217C132.679 53.8249 132.527 53.8812 132.37 53.88ZM116.92 53.8C116.781 53.7997 116.646 53.7548 116.534 53.672C116.423 53.5892 116.341 53.4729 116.3 53.34C116.253 53.1756 116.271 52.9992 116.351 52.8481C116.432 52.697 116.567 52.583 116.73 52.53C117.453 52.3091 118.188 52.1256 118.93 51.98C119.014 51.9641 119.1 51.9649 119.184 51.9825C119.268 52 119.347 52.0339 119.418 52.0822C119.489 52.1305 119.549 52.1923 119.596 52.264C119.642 52.3357 119.674 52.4159 119.69 52.5C119.707 52.5829 119.708 52.6684 119.691 52.7514C119.675 52.8345 119.642 52.9133 119.594 52.9833C119.547 53.0533 119.486 53.113 119.414 53.1589C119.343 53.2047 119.263 53.2357 119.18 53.25C118.481 53.3855 117.79 53.5591 117.11 53.77C117.049 53.7897 116.985 53.7998 116.92 53.8ZM156.92 53.4C156.774 53.4013 156.631 53.3523 156.517 53.2613C156.402 53.1703 156.322 53.0428 156.29 52.9C156.271 52.8166 156.268 52.7302 156.282 52.6458C156.297 52.5614 156.327 52.4807 156.373 52.4082C156.419 52.3357 156.478 52.273 156.548 52.2235C156.618 52.1741 156.697 52.1389 156.78 52.12C157.5 51.96 158.2 51.78 158.88 51.59C158.963 51.5673 159.049 51.5613 159.134 51.5721C159.219 51.583 159.301 51.6106 159.376 51.6534C159.45 51.6962 159.515 51.7532 159.568 51.8213C159.62 51.8894 159.658 51.9671 159.68 52.05C159.703 52.1314 159.709 52.2165 159.699 52.3004C159.688 52.3843 159.662 52.4653 159.62 52.5388C159.578 52.6122 159.522 52.6767 159.455 52.7284C159.388 52.7801 159.312 52.818 159.23 52.84C158.53 53.04 157.8 53.22 157.06 53.39L156.92 53.4ZM125.73 53C125.01 53 124.29 52.92 123.58 52.92C123.408 52.92 123.242 52.8515 123.12 52.7296C122.999 52.6077 122.93 52.4424 122.93 52.27C122.933 52.0984 123.002 51.9346 123.123 51.8132C123.245 51.6919 123.408 51.6226 123.58 51.62C124.32 51.62 125.08 51.62 125.83 51.71C126.002 51.71 126.168 51.7785 126.29 51.9004C126.412 52.0223 126.48 52.1876 126.48 52.36C126.48 52.5324 126.412 52.6977 126.29 52.8196C126.168 52.9415 126.002 53.01 125.83 53.01L125.73 53ZM163.27 51.47C163.141 51.4692 163.014 51.4297 162.907 51.3567C162.8 51.2836 162.718 51.1803 162.67 51.06C162.637 50.9819 162.621 50.8981 162.621 50.8135C162.62 50.7289 162.637 50.6451 162.67 50.567C162.702 50.4888 162.75 50.4179 162.81 50.3584C162.87 50.2988 162.942 50.2518 163.02 50.22C163.7 49.94 164.36 49.64 165.02 49.33C165.097 49.2812 165.184 49.2492 165.274 49.236C165.364 49.2228 165.456 49.2288 165.544 49.2536C165.632 49.2784 165.714 49.3214 165.784 49.3797C165.854 49.4381 165.911 49.5107 165.951 49.5925C165.991 49.6744 166.014 49.7639 166.017 49.8551C166.021 49.9463 166.005 50.0371 165.971 50.1218C165.937 50.2065 165.885 50.283 165.82 50.3464C165.754 50.4099 165.676 50.4588 165.59 50.49C164.94 50.82 164.25 51.13 163.54 51.42C163.451 51.4378 163.359 51.4378 163.27 51.42V51.47ZM169.14 48.26C169.037 48.2581 168.936 48.2328 168.844 48.186C168.752 48.1392 168.672 48.0722 168.61 47.99C168.56 47.9205 168.524 47.8418 168.504 47.7583C168.485 47.6749 168.482 47.5884 168.496 47.5038C168.51 47.4192 168.54 47.3382 168.586 47.2655C168.631 47.1928 168.69 47.1297 168.76 47.08C169.34 46.6663 169.897 46.2223 170.43 45.75C170.563 45.636 170.735 45.5793 170.91 45.5924C171.084 45.6055 171.246 45.6874 171.36 45.82C171.474 45.9526 171.531 46.1251 171.518 46.2995C171.505 46.4739 171.423 46.636 171.29 46.75C170.73 47.23 170.14 47.75 169.52 48.15C169.403 48.2098 169.27 48.2308 169.14 48.21V48.26ZM173.88 43.56C173.747 43.56 173.618 43.518 173.51 43.44C173.44 43.392 173.38 43.3304 173.334 43.2589C173.287 43.1874 173.256 43.1074 173.241 43.0236C173.226 42.9398 173.228 42.8539 173.247 42.7708C173.266 42.6878 173.301 42.6093 173.35 42.54C173.603 42.18 173.833 41.82 174.04 41.46C174.19 41.22 174.33 40.97 174.48 40.72C174.522 40.6465 174.578 40.5819 174.645 40.5301C174.712 40.4782 174.789 40.44 174.87 40.4177C174.952 40.3955 175.037 40.3895 175.121 40.4002C175.205 40.4108 175.286 40.438 175.36 40.48C175.434 40.522 175.498 40.5781 175.55 40.6451C175.602 40.712 175.64 40.7886 175.662 40.8703C175.685 40.952 175.691 41.0373 175.68 41.1213C175.669 41.2054 175.642 41.2865 175.6 41.36C175.46 41.62 175.31 41.87 175.16 42.12C175.01 42.37 174.68 42.9 174.41 43.28C174.345 43.356 174.263 43.4162 174.172 43.4561C174.08 43.4959 173.98 43.5144 173.88 43.51V43.56ZM177.12 37.69C177.027 37.6893 176.935 37.6688 176.85 37.63C176.772 37.5955 176.701 37.5456 176.643 37.4834C176.584 37.4211 176.538 37.3478 176.508 37.2676C176.479 37.1874 176.465 37.1021 176.469 37.0166C176.473 36.9311 176.493 36.8473 176.53 36.77C176.84 36.09 177.12 35.42 177.36 34.77C177.423 34.6096 177.546 34.48 177.703 34.409C177.86 34.338 178.038 34.3312 178.2 34.39C178.36 34.4525 178.489 34.5761 178.559 34.7335C178.628 34.891 178.632 35.0695 178.57 35.23C178.32 35.9 178.03 36.59 177.71 37.3C177.653 37.4057 177.567 37.4934 177.463 37.5534C177.359 37.6135 177.24 37.6434 177.12 37.64V37.69ZM173.35 37.21H173.15C172.42 36.97 171.71 36.7 171.04 36.42C170.962 36.3882 170.89 36.3412 170.83 36.2816C170.77 36.2221 170.722 36.1512 170.69 36.073C170.657 35.9949 170.64 35.9111 170.64 35.8265C170.641 35.7419 170.657 35.6581 170.69 35.58C170.756 35.4209 170.883 35.2946 171.043 35.229C171.202 35.1633 171.381 35.1637 171.54 35.23C172.18 35.5 172.85 35.75 173.54 35.97C173.689 36.0167 173.815 36.1152 173.897 36.2476C173.979 36.3799 174.011 36.5373 173.987 36.6911C173.963 36.8449 173.884 36.9849 173.765 37.0857C173.647 37.1864 173.496 37.2412 173.34 37.24L173.35 37.21ZM167.35 34.28C167.212 34.2816 167.078 34.2357 166.97 34.15C166.344 33.7016 165.759 33.1997 165.22 32.65C165.118 32.5247 165.066 32.3659 165.075 32.2045C165.083 32.0432 165.152 31.8908 165.267 31.7771C165.382 31.6635 165.535 31.5967 165.696 31.5898C165.858 31.583 166.016 31.6365 166.14 31.74C166.635 32.2358 167.167 32.6938 167.73 33.11C167.799 33.1596 167.857 33.2223 167.901 33.2945C167.946 33.3667 167.975 33.447 167.988 33.5307C168.001 33.6145 167.997 33.6999 167.977 33.7822C167.957 33.8645 167.92 33.9419 167.87 34.01C167.807 34.0852 167.727 34.1444 167.637 34.1826C167.546 34.2209 167.448 34.2371 167.35 34.23V34.28ZM179.12 31.28H179C178.916 31.269 178.834 31.2412 178.761 31.1984C178.687 31.1556 178.623 31.0985 178.572 31.0305C178.521 30.9625 178.483 30.885 178.462 30.8025C178.442 30.72 178.437 30.6342 178.45 30.55C178.528 30.0001 178.569 29.4454 178.57 28.89C178.57 28.75 178.57 28.61 178.57 28.47C178.565 28.3848 178.577 28.2994 178.605 28.2189C178.634 28.1385 178.678 28.0647 178.736 28.002C178.794 27.9394 178.864 27.8892 178.942 27.8544C179.02 27.8197 179.105 27.8012 179.19 27.8C179.276 27.7898 179.364 27.7984 179.446 27.8253C179.529 27.8521 179.604 27.8965 179.668 27.9555C179.732 28.0144 179.782 28.0865 179.815 28.1667C179.848 28.2469 179.864 28.3333 179.86 28.42C179.86 28.57 179.86 28.73 179.86 28.89C179.86 29.5056 179.817 30.1205 179.73 30.73C179.703 30.8742 179.628 31.0051 179.517 31.1013C179.407 31.1975 179.267 31.2535 179.12 31.26V31.28ZM163.24 29.07C163.105 29.0704 162.973 29.0281 162.864 28.9491C162.754 28.87 162.672 28.7583 162.63 28.63C162.409 27.9859 162.291 27.3109 162.28 26.63C162.28 26.5 162.28 26.38 162.28 26.26C162.298 26.0903 162.378 25.9334 162.506 25.8204C162.634 25.7074 162.799 25.6466 162.97 25.65C163.055 25.6551 163.139 25.677 163.216 25.7145C163.293 25.7519 163.362 25.8042 163.418 25.8683C163.475 25.9324 163.518 26.0071 163.546 26.088C163.574 26.169 163.585 26.2546 163.58 26.34C163.575 26.4366 163.575 26.5334 163.58 26.63C163.584 27.185 163.678 27.7356 163.86 28.26C163.914 28.4231 163.901 28.6009 163.824 28.7546C163.747 28.9082 163.613 29.0252 163.45 29.08C163.379 29.0799 163.308 29.0698 163.24 29.05V29.07ZM178 24.79C177.889 24.7903 177.781 24.7619 177.684 24.7075C177.588 24.6532 177.507 24.5748 177.45 24.48C177.089 23.9034 176.656 23.3758 176.16 22.91C176.043 22.7856 175.977 22.6211 175.977 22.45C175.977 22.2789 176.043 22.1144 176.16 21.99C176.22 21.9295 176.292 21.8816 176.371 21.8488C176.45 21.8161 176.535 21.7992 176.62 21.7992C176.705 21.7992 176.79 21.8161 176.869 21.8488C176.948 21.8816 177.02 21.9295 177.08 21.99C177.656 22.5308 178.157 23.1463 178.57 23.82C178.659 23.9661 178.687 24.1415 178.648 24.3082C178.609 24.4748 178.505 24.6192 178.36 24.71C178.251 24.7732 178.125 24.8011 178 24.79ZM164.86 22.88C164.707 22.8786 164.559 22.8258 164.44 22.73C164.31 22.6193 164.228 22.4618 164.213 22.2914C164.198 22.1211 164.251 21.9517 164.36 21.82C164.859 21.2064 165.433 20.6587 166.07 20.19C166.203 20.1357 166.349 20.1266 166.487 20.1643C166.626 20.2019 166.747 20.2841 166.834 20.3981C166.921 20.5121 166.967 20.6516 166.967 20.7947C166.966 20.9379 166.918 21.0769 166.83 21.19C166.283 21.5962 165.789 22.0699 165.36 22.6C165.302 22.682 165.225 22.7498 165.137 22.7982C165.049 22.8467 164.951 22.8747 164.85 22.88H164.86ZM172.86 20.7C172.784 20.7143 172.706 20.7143 172.63 20.7C171.989 20.4473 171.316 20.2857 170.63 20.22C170.545 20.2125 170.461 20.1881 170.385 20.1483C170.309 20.1084 170.242 20.0539 170.187 19.9879C170.132 19.9219 170.091 19.8457 170.066 19.7637C170.041 19.6816 170.032 19.5954 170.04 19.51C170.06 19.3402 170.145 19.1848 170.278 19.0766C170.41 18.9684 170.58 18.9159 170.75 18.93C171.539 19.0106 172.313 19.1991 173.05 19.49C173.21 19.5527 173.34 19.6757 173.411 19.8326C173.482 19.9896 173.489 20.1681 173.43 20.33C173.374 20.4452 173.285 20.5416 173.175 20.6073C173.065 20.673 172.938 20.7052 172.81 20.7H172.86Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M196.393 38.162C197.964 37.6365 198.909 36.2255 198.502 35.0103C198.096 33.7952 196.493 33.2361 194.922 33.7615C193.35 34.287 192.406 35.698 192.812 36.9132C193.219 38.1283 194.822 38.6874 196.393 38.162Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{opacity:"0.46",d:"M188.66 29.42C188.4 31.07 192.91 33.57 192.91 33.57L193.91 33.05C193.91 33.05 194.59 27.95 193.12 27.17C192.03 26.59 190.44 27.43 190.44 27.43C190.44 27.43 188.85 28.2 188.66 29.42Z",fill:"url(#paint0_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M192.18 27.15C191.18 28.52 194.18 32.74 194.18 32.74H195.33C195.33 32.74 198.18 28.45 197.2 27.11C196.47 26.11 194.67 26.17 194.67 26.17C194.21 26.1559 193.752 26.2354 193.324 26.4039C192.896 26.5724 192.507 26.8262 192.18 27.15Z",fill:"url(#paint1_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M202.51 42.14C202.77 40.5 198.27 38 198.27 38L197.27 38.52C197.27 38.52 196.58 43.62 198.05 44.4C198.491 44.5411 198.957 44.5899 199.418 44.5435C199.879 44.4971 200.326 44.3563 200.73 44.13C200.73 44.13 202.32 43.37 202.51 42.14Z",fill:"url(#paint2_linear)"}),react_1.default.createElement("path",{opacity:"0.46",d:"M199 44.42C199.95 43.05 197 38.83 197 38.83H195.84C195.84 38.83 193 43.14 194 44.48C194.334 44.7995 194.73 45.0469 195.163 45.2069C195.597 45.3669 196.059 45.436 196.52 45.41C196.52 45.41 198.29 45.43 199 44.42Z",fill:"url(#paint3_linear)"}),react_1.default.createElement("path",{d:"M112.27 90.65C109.79 88.6 107.09 86.86 104.51 84.95C102.27 83.29 99.33 80.19 96.51 79.63C96.4257 79.6102 96.3375 79.6151 96.256 79.6441C96.1744 79.6731 96.103 79.7251 96.0502 79.7937C95.9975 79.8623 95.9656 79.9446 95.9584 80.0309C95.9513 80.1172 95.9692 80.2036 96.01 80.28C97.47 82.63 101.15 84.22 103.4 85.65C106.25 87.46 108.96 89.49 111.9 91.16C112.21 91.33 112.58 90.89 112.29 90.65H112.27Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M111.6 96.36C106.76 92.77 102.09 88.23 96.6 85.65C96.16 85.44 95.68 85.97 96.06 86.35C100.39 90.64 106.29 93.48 111.34 96.79C111.62 96.97 111.85 96.55 111.6 96.36Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M112 103.45C109.49 101.45 107 99.45 104.41 97.45C102.11 95.68 99.33 92.71 96.48 91.91C96.3995 91.8907 96.3151 91.895 96.237 91.9225C96.1589 91.95 96.0904 91.9994 96.0397 92.0649C95.989 92.1304 95.9583 92.2091 95.9513 92.2916C95.9442 92.3741 95.9612 92.4569 96 92.53C97.59 94.89 101 96.53 103.34 98.08C106.13 100 108.97 101.85 111.81 103.7C111.95 103.79 112.13 103.57 112 103.46V103.45Z",fill:"#C3CBD9"}),react_1.default.createElement("path",{d:"M111.7 109.45C109.12 107.15 106.44 104.99 103.7 102.82C101.78 101.29 98.9 98.03 96.34 97.82C96.2838 97.8193 96.2283 97.8319 96.1778 97.8565C96.1273 97.8812 96.0833 97.9173 96.0493 97.962C96.0153 98.0067 95.9922 98.0587 95.9819 98.114C95.9716 98.1692 95.9744 98.226 95.99 98.28C96.99 100.66 100.9 102.53 102.89 103.91C105.73 105.91 108.57 107.86 111.51 109.68C111.63 109.75 111.76 109.58 111.66 109.49L111.7 109.45Z",fill:"#C3CBD9"}),react_1.default.createElement("defs",null,react_1.default.createElement("linearGradient",{id:"paint0_linear",x1:"193.259",y1:"33.4596",x2:"190.308",y2:"27.5787",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint1_linear",x1:"8037.85",y1:"10661.7",x2:"8037.41",y2:"10626",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint2_linear",x1:"3252.3",y1:"-2111.48",x2:"3268.28",y2:"-2079.65",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"})),react_1.default.createElement("linearGradient",{id:"paint3_linear",x1:"6824.43",y1:"-2667.92",x2:"6824.87",y2:"-2632.38",gradientUnits:"userSpaceOnUse"},react_1.default.createElement("stop",{"stop-color":"#EBEBEB"}),react_1.default.createElement("stop",{offset:"1","stop-color":"#C0C8D6"}))))}},982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(42);var blame_1=__webpack_require__(4333);var commit_1=__webpack_require__(4334);var editor_1=__webpack_require__(4335);var file_1=__webpack_require__(1598);var language_server_1=__webpack_require__(4337);var repository_1=__webpack_require__(4338);var route_1=__webpack_require__(4339);var search_1=__webpack_require__(4340);var setup_1=__webpack_require__(4341);var shortcuts_1=__webpack_require__(4342);var status_1=__webpack_require__(1595);exports.RepoState=status_1.RepoState;var symbol_1=__webpack_require__(4343);var reducers={repository:repository_1.repository,file:file_1.file,symbol:symbol_1.symbol,editor:editor_1.editor,search:search_1.search,route:route_1.route,status:status_1.status,commit:commit_1.commit,blame:blame_1.blame,languageServer:language_server_1.languageServer,shortcuts:shortcuts_1.shortcuts,setup:setup_1.setup};exports.rootReducer=redux_1.combineReducers(reducers)},983:function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:true});var messages_1=__webpack_require__(984);var text_document_methods_1=__webpack_require__(4349);exports.TextDocumentMethods=text_document_methods_1.TextDocumentMethods;var kfetch_1=__webpack_require__(32);var LspRestClient=function(){function LspRestClient(baseUri){_classCallCheck(this,LspRestClient);this.baseUri=baseUri}_createClass(LspRestClient,[{key:"sendRequest",value:function(){var _sendRequest=_asyncToGenerator(regeneratorRuntime.mark(function _callee(method,params,signal){var response,error;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return kfetch_1.kfetch({pathname:"".concat(this.baseUri,"/").concat(method),method:"POST",body:JSON.stringify(params),signal:signal});case 3:response=_context.sent;return _context.abrupt("return",response);case 7:_context.prev=7;_context.t0=_context["catch"](0);error=_context.t0;if(error.body&&error.body.error){error=error.body.error}throw new messages_1.ResponseError(error.code,error.message,error.data);case 12:case"end":return _context.stop()}}},_callee,this,[[0,7]])}));function sendRequest(_x,_x2,_x3){return _sendRequest.apply(this,arguments)}return sendRequest}()}]);return LspRestClient}();exports.LspRestClient=LspRestClient},984:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(4465)},985:function(module,exports,__webpack_require__){module.exports=__webpack_require__(7)(4214)}})["plugin"];